((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[95],{1015:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return yy})),n.d(t,"reInitApp",(function(){return ky}));n(58),n(11),n(85);var r=n(357),a=n.n(r),c=n(472),o=n.n(c),s=n(475),i=n(358),u=n(364),b=n(1343),l=n(1349),d=n(25),p=n(43),f=n(588),v=n.n(f),O=n(388),j=n(587),h=n(560),x=n(544),g=n(433),m=n(376),y=n(466),k=n(441),I=n(1017),w=n(922),C=n(435),E=n(5),T=function(e){return Object(g.c)(Object(m.b)(e))},S=function(e){var t=Object(j.a)(),n=Object(O.a)(),a=Object(u.d)(T),c=Object(E.P)(),o=x.a.getVisibilityConfigFilter(n),s=Object(h.a)(c?void 0:o,{logOnSuccess:!0,defaultValue:!1}).hasPassed,i=!s&&a;return Object(r.useEffect)((function(){s&&Object(k.a)("Sprinklr Chat hidden by visibility criteria"),a||Object(k.a)("Sprinklr Chat disabled by sdk"),Object(w.c)(i),Object(y.a)({topic:C.c,payload:{data:{isChatVisible:i}}})}),[s,a,i]),Object(r.useEffect)((function(){var e=function(){var e=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.b)();case 2:Object(y.a)({topic:C.a,payload:{}}),Object(y.a)({topic:C.b,payload:{error:!1}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){Object(y.a)({topic:C.c,payload:{data:{isChatVisible:!1}}})}}),[]),v()((function(){Object(I.b)()}),[t]),i?e.children:null},_=a.a.memo(S),A=n(850),M=n(934),R=function(e){return Object(i.jsx)(M.a,{history:e.history},Object(i.jsx)(A.b,null,e.children))},P=n(847),N=n(815),D=n(367),L=n(360),U=(n(7),n(212),n(442)),B=n(373),G=n(1132),F=n(453),z=n(359),V=n(632),H=n(596),W=n(1135),q=n(853),K=n(362),X=n(363);var Y=function(e){return Object(i.css)("fill:",Object(K.a)("white")({theme:e}),";height:100%;width:100%;")},Q=Object(z.a)("div",{target:"e12trxni0"})("position:fixed;top:0;left:0;z-index:",(function(e){return Object(K.e)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(K.e)("frame.translateZ")(e)}),"px) !important;height:100%;width:100%;"),Z=Object(z.a)(H.a,{target:"e12trxni1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),$=function(e){return Object(i.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(V.l)(.2,Object(K.a)("charcoal")({theme:e})),";}")},J=Object(z.a)(q.c,{target:"e12trxni2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),ee=Object(z.a)(q.c,{target:"e12trxni3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),te=Object(z.a)(W.a,{target:"e12trxni4"})("margin-top:var(--spr-lc-safe-area-top);",(function(e){var t=e.isPhone,n=e.direction;return"".concat(t?Object(X.d)("right: calc(20px + var(--spr-lc-safe-area-right))","left: calc(20px + var(--spr-lc-safe-area-left))")({direction:n}):Object(X.d)("right: calc(40px + var(--spr-lc-safe-area-right))","left: calc(40px + var(--spr-lc-safe-area-left))")({direction:n}),";")}),""),ne=n(372),re=n(371),ae=n(365),ce=n(668),oe=Object(L.g)({preview:{id:"preview",defaultMessage:"Preview"}}),se=Object(L.h)((function(e){var t=e.previewItem,n=e.intl,a=Object(B.b)(),c=Object(ne.a)(),o=Object(U.a)(),s=!!t&&t.type!==ce.a.DIALOGUE,u=Object(re.a)().direction,b=Object(r.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),o.goBack()}),[o]);return Object(i.jsx)(Q,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(i.jsx)(Z,{name:"spr-chat__modal-frame","aria-label":n.formatMessage(oe.preview),title:n.formatMessage(oe.preview)},Object(i.jsx)(i.Global,{styles:$(a)}),Object(i.jsx)(r.Suspense,{fallback:Object(i.jsx)(J,null,Object(i.jsx)(ee,{className:"center-x center-y"}))},Object(i.jsx)(G.a,{previewItem:t})),s&&Object(i.jsx)(te,{Icon:F.a,iconCss:Y(a),iconName:ae.a.CLOSE,"aria-label":ae.a.CLOSE,direction:u,isPhone:c,onClick:b})))})),ie=(n(208),n(209),n(30)),ue=n.n(ie),be=function(e){if(!e.search.includes("preview=1"))return null;var t=ue()(e.state,"sprPreview.type");switch(t){case ce.a.DIALOGUE:return{type:t,message:ue()(e.state,"sprPreview.message"),title:ue()(e.state,"sprPreview.title"),cancelLabel:ue()(e.state,"sprPreview.cancelLabel"),confirmationLabel:ue()(e.state,"sprPreview.confirmationLabel"),onConfirm:ue()(e.state,"sprPreview.onConfirm"),onCancel:ue()(e.state,"sprPreview.onCancel")};case ce.a.IMAGE:case ce.a.VIDEO:return{type:t,url:ue()(e.state,"sprPreview.url"),downloadParams:ue()(e.state,"sprPreview.downloadParams")};default:return null}},le=function(){var e=Object(U.a)().location,t=Object(r.useMemo)((function(){return be(e)}),[e.search,e.state]);return t?Object(i.jsx)(se,{previewItem:t}):null},de=n(87),pe=n.n(de),fe=n(379),ve=n(711),Oe=n.n(ve),je=n(496),he=n(944),xe=n(1137),ge=n(945),me=n(378),ye=n(599),ke=n(415),Ie=n(401),we=function(e){return Object(ye.d)(Object(me.b)(e))},Ce=function(e){return Object(ye.f)(Object(me.b)(e))},Ee=function(e){return Object(g.g)(Object(m.b)(e))},Te=function(e){return Object(ye.r)(Object(me.b)(e))},Se=function(e){return Object(ye.i)(Object(me.b)(e))},_e=function(e){var t=Object(ne.a)(),n=Object(u.d)(Ce),a=Object(u.d)(we),c=Object(u.d)(Te),o=Object(u.d)(Ee),s=Object(fe.a)(Ie.g),b=Object(u.d)(Se),l=Object(je.a)(),d=n.state,p=a.state,f=Oe()(d),v=Oe()(p);return Object(r.useEffect)((function(){o&&(t&&d&&d!==f||p===ke.f.WAITING)&&s(!1)}),[o,d,f,s,p,v]),Object(r.useEffect)((function(){var e=function(){l.info({message:"Currently on live chat tab: ".concat(!document.hidden)})};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[l]),pe()(n)&&(c||pe()(a))||t&&o&&!b?null:Object(i.jsx)(r.Suspense,{fallback:null},Object(i.jsx)(he.a,Object(D.a)({},e,{outgoingCallDetails:n,incomingCallDetails:a})))},Ae=function(e){return Object(ye.c)(Object(me.b)(e))},Me=function(e){return Object(ye.n)(Object(me.b)(e))},Re=function(e){var t=Object(u.d)(Ae),n=Object(u.d)(Me);return Object(i.jsx)(ge.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(i.jsx)(xe.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(i.jsx)(_e,e)))},Pe=a.a.memo(Re),Ne=n(132),De=n(1139),Le=n(854),Ue=n(1140),Be=n(381),Ge=function(){return Object(i.jsx)(Le.b,{className:"flex-column-container full-height"},Object(i.jsx)(Ue.a,null),Object(i.jsx)("div",{className:"flex-item-1 p-x-4 p-y-4 p-t-6"},Object(i.jsx)(Le.a,{className:"full-height"},Object(i.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"}))))},Fe=n(855),ze=function(){return Object(i.jsx)("div",{className:"flex-column-container full-height"},Object(i.jsx)(Fe.c,null,Object(i.jsx)(Fe.b,null)),Object(i.jsx)("div",{className:"flex-item-1 spr"},Object(i.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"})))},Ve=n(946),He=n(633),We=n(482),qe=function(){var e=Object(We.a)().isDarkMode;return Object(i.jsx)("div",{className:"flex-column-container full-height"},Object(i.jsx)(He.b,null,Object(i.jsx)(He.a,null)),Object(i.jsx)(Ve.a,{isDarkMode:e,className:"flex-item-1 spr"},Object(i.jsx)(Be.c,{className:"flex-row-container center-x-y full-height"})))},Ke=n(53),Xe=function(){var e=Object(E.z)()===Ke.b;return"/home"===Object(U.a)().location.pathname&&!Object(E.F)()?e?Object(i.jsx)(ze,null):Object(i.jsx)(Ge,null):Object(i.jsx)(qe,null)},Ye=n(666),Qe=function(){var e=Object(Ye.a)(),t=Object(r.useState)(),n=Object(Ne.a)(t,2),a=n[0],c=n[1];return Object(r.useLayoutEffect)((function(){De.a.preload(e).then((function(e){var t=Object(Ne.a)(e,1)[0];c(t)}))}),[]),Object(i.jsx)("div",{className:"flex-column-container full-height full-width spr ovf-hidden"},a?Object(i.jsx)(r.Suspense,{fallback:Object(i.jsx)(Xe,null)},Object(i.jsx)(De.a,{pages:a})):Object(i.jsx)(Xe,null))};n(131);var Ze={"%":1,vw:1,vh:1,vmin:1,vmax:1},$e=Object(z.a)(H.a,{target:"ewsnucf0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Je=Object(z.a)("div",{target:"ewsnucf1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(K.e)("page.gradients"),";background-color:",Object(K.e)("page.backgroundColor"),";"),et=Object(z.a)("div",{target:"ewsnucf2"})((function(e){var t=Object(K.b)("page.minPadding",{defaultUnit:"px"})(e),n=t.absoluteValue,r=2*n+t.unit;return Object(i.css)("height:calc(100% - ",r,");width:calc(100% - ",r,");border-radius:",n?Object(K.e)("frame.borderRadius")(e):"0px",";")})," box-shadow:",(function(e){return Object(K.e)("frame.boxShadow")(e)}),";overflow:hidden;background-color:var(--spr-lc-bgc-1);",(function(e){return!e.isContained&&"max-width: ".concat(Object(K.e)("page.maxWidth")(e),";\n     max-height: ").concat(Object(K.e)("page.maxHeight")(e),";\n     ").concat(function(e){var t=Object(K.b)("page.maxWidth",{defaultUnit:"px"})(e),n=t.absoluteValue,r=t.styleValue,a=t.unit,c=Object(K.b)("page.maxHeight",{defaultUnit:"px"})(e),o=c.absoluteValue,s=c.styleValue,i=c.unit,u=Object(K.e)("frame.borderRadius")(e);return Ze[i]&&Ze[a]?100===o||100===n?"":"border-radius: ".concat(u,";"):Ze[i]?100===o?"":"\n        @media screen and (min-width: calc(".concat(r," + 1px)) {\n          border-radius: ").concat(u,";\n        };\n      "):Ze[a]?100===n?"":"\n        @media screen and (min-height: calc(".concat(s," + 1px)) {\n          border-radius: ").concat(u,";\n        };\n      "):"\n      @media screen and (min-width: calc(".concat(r," + 1px)) and (min-height: calc(").concat(s," + 1px)) {\n        border-radius: ").concat(u,";\n      };\n    ")}(e),"\n  ")}),""),tt={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"},nt=n(396),rt=(n(205),n(135),n(61),n(609)),at=["/conversation/"],ct={survey:rt.a.SURVEY,401:rt.a[401],home:rt.a.HOME,"guided-workflow":rt.a.GUIDED_WORKFLOW,logout:rt.a.LOGOUT},ot=function(e){var t,n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?rt.a.KNOWLEDGE_BASE:rt.a.KNOWLEDGE_BASE_LIST);break;case"conversation":n.length>3&&"survey"===n[3]?t=rt.a.SURVEY:n.length>2&&(t="all"===n[2]?rt.a.CONVERSATION_LIST:rt.a.CONVERSATION);break;default:t=ct[n[1]]}return t},st=n(419),it=function(){var e,t=Object(nt.a)(),n=Object(U.a)(),a=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,c=null===n||void 0===n?void 0:n.action,o=Object(r.useMemo)((function(){return ot(a)}),[a]);Object(r.useEffect)((function(){o&&function(e,t){return!("REPLACE"===t&&at.filter((function(t){return null===e||void 0===e?void 0:e.match(t)})).length)}(a,c)&&t({action:st.a.PAGE_OPENED,additional:{value:o}})}),[o,a])},ut=n(756),bt=a.a.memo(Object(L.h)((function(e){var t=Object(ne.a)(),n=Object(nt.a)();return it(),Object(r.useEffect)((function(){return n({action:st.a.CONVERSATION_WINDOW_OPENED}),function(){n({action:st.a.CONVERSATION_WINDOW_CLOSED})}}),[]),Object(i.jsx)(Je,null,Object(i.jsx)(et,{ref:e.pageBoxRef,className:"spr",isContained:t||Object(ut.a)()},Object(i.jsx)(Qe,null)))}))),lt=n(1034),dt=(n(134),n(133),n(383)),pt=Object(dt.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(128)]).then(n.bind(null,1840))})),ft=function(){var e=Object(O.a)();return null!==e&&void 0!==e&&e.autoExpireUserSessionTimeInMinutes?Object(i.jsx)(r.Suspense,{fallback:null},Object(i.jsx)(pt,null)):null},vt=n(405),Ot=n.n(vt),jt=n(468),ht=n.n(jt),xt=n(443),gt=n(589),mt=n(377),yt=n(659),kt=n(6),It=a.a.createContext(null),wt=function(e,t){if(!e)return null;var n=e.getBoundingClientRect(),r=n.width,a=n.height,c=n.left,o=n.top;return{width:r,height:a,left:c,right:t.innerWidth-c-r,bottom:t.innerHeight-o-a}},Ct=function(e){var t,n=e.children,a=window.parent,c=!(null===(t=Object(mt.a)().trigger)||void 0===t||!t.useCustomTrigger),o=Object(kt.a)().triggerContainer,s=Object(r.useRef)(!0),u=Object(yt.a)(),b=Object(r.useMemo)((function(){return c&&o?a.document.querySelector(o):null}),[o]),l=Object(r.useState)((function(){return wt(b,a)})),d=Object(Ne.a)(l,2),p=d[0],f=d[1],v=Object(r.useCallback)(ht()((function(){f((function(){return wt(b,a)}))}),200),[]),O=Object(xt.a)(a,v),j=Object(gt.a)(a,v);return s.current&&(s.current=!1,b&&(O(b),j(b))),Object(r.useLayoutEffect)((function(){b&&v()}),[u]),c&&!b?(Object(k.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null):Object(i.jsx)(It.Provider,{value:p},n)},Et=function(){return Object(r.useContext)(It)},Tt=n(635),St=n(386),_t=Object(dt.a)((function(){return Promise.all([n.e(0),n.e(54)]).then(n.bind(null,1823))})),At=function(e){return Object(g.f)(Object(m.b)(e))},Mt=function(e){return Object(St.b)(Object(St.q)(Object(me.c)(e)))},Rt=function(e){var t,n=Object(u.d)(m.d),a=Object(u.d)(At),c=Object(u.d)(Mt),o=Object(mt.a)(),s=Et(),b=!(null===o||void 0===o||null===(t=o.proactivePrompt)||void 0===t||!t.showWithBoxOpen),l=Object(r.useRef)();l.current=Object(r.useMemo)((function(){return Ot()(n)}),[n]);var d,p=Object(Tt.c)(),f=a&&!s&&!b;return pe()(l.current)||f||!c?(null===p||void 0===p||null===(d=p.onAction)||void 0===d||d.call(p,{type:"UPDATE_PROMPT_HEIGHT",payload:0}),null):Object(i.jsx)(r.Suspense,{fallback:null},Object(i.jsx)(_t,Object(D.a)({},e,{visiblePrompt:l.current,customTriggerPosition:s,showWithBoxOpen:b})))},Pt=n(420),Nt=n(400),Dt=Object(L.h)((function(e){var t,n=Object(mt.a)(),c=Object(Pt.a)(),o=Object(r.useRef)(),u=e.intl.formatMessage,b=Object(fe.a)(s.e),l=!(null===(t=n.trigger)||void 0===t||!t.useCustomTrigger),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(i.css)("html,body{height:100%;}body{margin:0;}",e,"")}(null===c||void 0===c?void 0:c.pageGlobalStyles),p=Object(r.useCallback)((function(){b()}),[b]);return Object(i.jsx)(a.a.Fragment,null,Object(i.jsx)(i.Global,{styles:d}),Object(i.jsx)($e,{"aria-label":u(Nt.a.liveChat),name:"spr-chat__page-frame",contentDidMount:p,title:u(Nt.a.liveChat)},Object(i.jsx)(i.Global,{styles:tt}),Object(i.jsx)(ft,null),Object(i.jsx)(bt,Object(D.a)({},e,{pageBoxRef:o}))),l?Object(i.jsx)(Ct,null,Object(i.jsx)(Rt,null)):null,Object(i.jsx)(Pe,{parentFrameRef:o}),Object(i.jsx)(lt.c,{parentFrameRef:o}),Object(i.jsx)(le,null))})),Lt=n(1141),Ut=Object(dt.a)((function(){return n.e(6).then(n.bind(null,1847)).then((function(e){return{default:e.DraggableTriggerContextProvider}}))})),Bt=function(e){var t=e.children;return Object(Lt.a)()?Object(i.jsx)(r.Suspense,{fallback:null},Object(i.jsx)(Ut,null,t)):Object(i.jsx)(a.a.Fragment,null,t)},Gt=function(e){var t=e.children;return Object(i.jsx)(Ct,null,Object(i.jsx)(Bt,null,t))},Ft=n(669),zt=n.n(Ft),Vt=n(412),Ht=n(1142),Wt=n(950),qt=n(450),Kt=function(e){return Object(g.g)(Object(m.b)(e))},Xt=Object(L.h)((function(e){var t,n,c=Object(u.d)(Kt),o=e.intl.formatMessage,b=Object(mt.a)(),l=!(null===b||void 0===b||null===(t=b.trigger)||void 0===t||!t.hideWhenOpen),d=Object(nt.a)(),p=Object(ne.a)(),f=Object(Tt.c)(),O=Object(fe.a)(s.e),j=Object(r.useState)(!1),h=Object(Ne.a)(j,2),x=h[0],g=h[1],m=Object(r.useState)(!1),y=Object(Ne.a)(m,2),k=y[0],I=y[1],w=Object(B.b)(),C=Object(u.d)(me.h),E=Object(Vt.d)(C);it();var T=Object(r.useCallback)((function(e,t){g(e),I(t)}),[]),S=Et(),_=S?Ht.b:Ht.c;v()((function(){var e=c?qt.a.CONVERSATION_WINDOW_CLOSED:qt.a.CONVERSATION_WINDOW_OPENED;d({action:e})}),[c]);var A=Object(r.useCallback)((function(){O()}),[]);v()((function(){O()}),[E]);var M=Object(r.useMemo)((function(){return{setIsFrameMaximized:T,isFrameMaximized:x,isFrameManuallyResized:k}}),[T,x]),R=Object(Ht.h)({theme:w,isPhone:p,isTriggerHiddenWhenMaximised:!(null===b||void 0===b||null===(n=b.trigger)||void 0===n||!n.hideWhenOpen),triggerOffsetTopBeforeReposition:null===f||void 0===f?void 0:f.triggerOffsetTopBeforeReposition,shouldRepositionTrigger:null===f||void 0===f?void 0:f.shouldRepositionTrigger,triggerOffsetBottom:null===f||void 0===f?void 0:f.triggerOffsetBottom});return Object(i.jsx)(a.a.Fragment,null,Object(i.jsx)(i.Global,{styles:R}),Object(i.jsx)(zt.a,{in:!c,classNames:Ht.f,timeout:{enter:Ht.a,exit:Ht.a},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(i.jsx)(Wt.a.Provider,{value:M},Object(i.jsx)(_,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:p,customTriggerPosition:S,isTriggerHiddenWhenMaximised:l,isMaximized:x,triggerOffsetBottom:null===f||void 0===f?void 0:f.triggerOffsetBottom,triggerOffsetTopBeforeReposition:null===f||void 0===f?void 0:f.triggerOffsetTopBeforeReposition,shouldRepositionTrigger:null===f||void 0===f?void 0:f.shouldRepositionTrigger},Object(i.jsx)(Ht.e,{isPhone:p},Object(i.jsx)(Ht.d,{"aria-label":o(Nt.a.liveChat),name:"spr-chat__box-frame",isPhone:p,contentDidMount:A,title:o(Nt.a.liveChat)},Object(i.jsx)(i.Global,{styles:Ht.g}),Object(i.jsx)("div",{className:"full-height full-width"},Object(i.jsx)(ft,null),Object(i.jsx)(Qe,null))))))))})),Yt=a.a.forwardRef((function(e,t){return Object(i.jsx)(Xt,{frameRef:t})})),Qt=n(1018),Zt=function(){var e=Object(r.useRef)(null);return Object(i.jsx)(Gt,null,Object(i.jsx)(Rt,{chatBoxFrameRef:e}),Object(i.jsx)(Qt.a,null),Object(i.jsx)(Yt,{ref:e}),Object(i.jsx)(Pe,{parentFrameRef:e}),Object(i.jsx)(lt.c,{parentFrameRef:e}),Object(i.jsx)(le,null))},$t=n(741),Jt=n(816),en=n(1127),tn=function(e){var t=Object(r.useState)(null);return Object(i.jsx)(en.a.Provider,{value:t},e.children)},nn=n(454),rn=n(937),an=n(895),cn=n(1123),on=(n(361),n(814)),sn=a.a.createContext("MODERN"),un=function(e){return Object(i.jsx)(sn.Provider,{value:e.skin},e.children)},bn=n(1145),ln=n(1146),dn=n(397),pn=n.n(dn),fn=n(44),vn=n.n(fn);var On=function(e){var t=e.isDarkMode,n=e.theme,c=e.targetDocument,o=e.container,s=e.children,u=Object(r.useMemo)((function(){var e=c&&o?c.querySelector(o):null,r=vn()(t?n.tokens.dark:pn()(n.tokens,"dark"),(function(e,t,n){return"".concat(e).concat(n,":").concat(t,";")}),"");return{targetElement:e,cssVariables:e?t?".spr-lc-dark{".concat(r,"}"):".spr-lc-light{".concat(r,"}"):":root {".concat(r,"}")}}),[n.tokens,t,c,o]),b=u.targetElement,l=u.cssVariables;return Object(r.useLayoutEffect)((function(){b&&function(e,t){t?e.classList.contains("spr-lc-dark")||(e.classList.add("spr-lc-dark"),e.classList.remove("spr-lc-light")):e.classList.contains("spr-lc-light")||(e.classList.add("spr-lc-light"),e.classList.remove("spr-lc-dark"))}(b,t)}),[b,t]),Object(i.jsx)(a.a.Fragment,null,Object(i.jsx)(i.Global,{styles:Object(i.css)(l,"","")}),s)},jn=n(891),hn=function(e){var t=e.theme,n=e.isDarkMode,a=e.targetDocument,c=e.container,o=e.skipAutoGenerate,s=e.children,u=Object(r.useContext)(sn),b=Object(r.useMemo)((function(){if(o)return t;var e=Object(jn.a)({appColors:t.colors,appTypography:t.typography,appIcons:t.icons,appTokens:t.tokens});return Object(jn.c)({appBase:e,styles:t.styles,skin:u})}),[t,u,o]);return Object(i.jsx)(B.a,{theme:b},Object(i.jsx)(On,{isDarkMode:n,targetDocument:a,container:c,theme:b},s))};function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(this,arguments)}var gn={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},mn=function(e){var t=e.direction,n=e.device,a=e.skin,c=e.ownerDocument,o=e.intl,s=e.children,u=e.themeConfig,b=Object(r.useMemo)((function(){return e=c,Object(on.a)({container:e.head});var e}),[c]);return Object(i.jsx)(i.CacheProvider,{value:b},Object(i.jsx)(L.e,o,Object(i.jsx)(un,{skin:a},Object(i.jsx)(hn,xn({},u,{targetDocument:c}),Object(i.jsx)(ln.b,{direction:t},Object(i.jsx)(bn.b,{device:n},s))))))};mn.defaultProps=gn;var yn=mn,kn=n(29),In=n(14),wn=n(660),Cn=n.n(wn),En=n(608),Tn=function(e){var t=e.triggerAlign,n=e.frameAlign;if(t===En.f.LEFT)switch(n){case En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case En.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return En.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;default:return n||En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case En.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return En.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;default:return n||En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},Sn=[En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT,En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT,En.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT],_n=[En.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT,En.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT,En.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT],An=function(e){return function(t){return function(e){var t,n=e.framePath,r=e.styles,a=r.trigger.align,c=null===(t=r[n])||void 0===t?void 0:t.align;if(a&&c){if(a===En.f.RIGHT&&Sn.includes(c))return!0;if(a===En.f.LEFT&&_n.includes(c))return!0}return!1}({framePath:e,styles:t})?Object(In.a)(Object(In.a)({},t),{},Object(kn.a)({},e,Object(In.a)(Object(In.a)({},t[e]),{},{align:Tn({triggerAlign:t.trigger.align,frameAlign:t[e].align})}))):t}},Mn=function(e){var t=e.children,n=Object(mt.a)().theme,a=Object(Ye.a)(),c=Object(r.useMemo)((function(){return Object(jn.c)({appBase:Object(jn.a)({appColors:n.colors,appTypography:n.typography,appIcons:n.icons,appTokens:n.tokens}),styles:(e=n.styles,Cn()([An("frame"),An("proactivePrompt")])(e)),skin:a});var e}),[n,a]);return Object(i.jsx)(B.a,{theme:c},t)},Rn=n(128),Pn=Object(L.h)((function(e){var t=e.intl,n=e.children,a=Object(We.a)(),c=Object(re.a)(),o=Object(Ye.a)(),s=Object(B.b)(),u=Object(r.useMemo)((function(){return{locale:t.locale,messages:t.messages,defaultLocale:t.defaultLocale}}),[t]),b=Object(r.useMemo)((function(){return{theme:s,isDarkMode:a.isDarkMode,skipAutoGenerate:!0,container:"#".concat(Rn.a)}}),[s,a.isDarkMode]);return Object(i.jsx)(yn,{ownerDocument:Object(kt.b)().document,direction:c.direction,device:a.device,skin:o,intl:u,themeConfig:b},n)})),Nn=function(e){var t=e.children;return Object(i.jsx)(Mn,null,Object(i.jsx)(Pn,null,t))},Dn=a.a.memo(Nn),Ln=n(940),Un=n(136),Bn=n.n(Un),Gn=n(8),Fn=n.n(Gn),zn=function(e){var t=e.id,n=e.filters,a=e.cb,c=Object(h.a)(n);return Object(r.useEffect)((function(){a({data:{id:t,filters:n,results:Fn()(c)?Bn()(c,(function(e){return{passed:e.hasPassed}})):{passed:c.hasPassed}}})}),[c,n,a]),null},Vn=function(e){return Object(g.b)(Object(m.b)(e))},Hn=a.a.memo((function(e){var t=Object(u.d)(Vn);return Object(i.jsx)(a.a.Fragment,null,Bn()(t,(function(e,t){var n=e.filters,r=e.cb;return Object(i.jsx)(zn,{key:t,id:t,filters:n,cb:r})})),e.children)})),Wn=n(1150),qn=n(714);var Kn=function(e){var t=e.applicationConfig,n=e.store,c=e.history,o=Object(kt.b)(),d=Object(E.P)()?Dt:Zt,p=Object(r.useMemo)((function(){return Object(qn.a)(o.document)}),[o.document]);return Object(r.useEffect)((function(){n.dispatch(Object(s.d)())}),[n]),Object(i.jsx)(i.CacheProvider,{value:p},Object(i.jsx)(an.a,{window:o},Object(i.jsx)(u.a,{store:n},Object(i.jsx)(P.c.Provider,{value:t},Object(i.jsx)(tn,null,Object(i.jsx)(l.b,null,Object(i.jsx)($t.a,null,Object(i.jsx)(Ln.b,null,Object(i.jsx)(R,{history:c},Object(i.jsx)(nn.b,null,Object(i.jsx)(rn.a,null,Object(i.jsx)(cn.b,{history:c},Object(i.jsx)(N.a,null,Object(i.jsx)(Jt.b,null,Object(i.jsx)(Hn,null,Object(i.jsx)(Wn.b,null,Object(i.jsx)(_,null,Object(i.jsx)(Dn,null,Object(i.jsx)(b.b,null,Object(i.jsx)(a.a.Fragment,null,Object(i.jsx)(d,null)))))))))))))))))))))},Xn=n(368),Yn=n(369),Qn=n(581),Zn=(n(627),n(59),n(60),n(62),n(203),n(204),n(200),function(e){return"@@redux-saga/"+e}),$n=Zn("CANCEL_PROMISE"),Jn=Zn("CHANNEL_END"),er=Zn("IO"),tr=Zn("MATCH"),nr=Zn("MULTICAST"),rr=Zn("SAGA_ACTION"),ar=Zn("SELF_CANCELLATION"),cr=Zn("TASK"),or=Zn("TASK_CANCEL"),sr=Zn("TERMINATE"),ir=Zn("LOCATION"),ur=n(631),br=n(951),lr=(n(202),n(370),n(403),n(703),function(e){return null===e||void 0===e}),dr=function(e){return null!==e&&void 0!==e},pr=function(e){return"function"===typeof e},fr=function(e){return"string"===typeof e},vr=Array.isArray,Or=function(e){return e&&pr(e.then)},jr=function(e){return e&&pr(e.next)&&pr(e.throw)},hr=function e(t){return t&&(fr(t)||mr(t)||pr(t)||vr(t)&&t.every(e))},xr=function(e){return e&&pr(e.take)&&pr(e.close)},gr=function(e){return pr(e)&&e.hasOwnProperty("toString")},mr=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};n(603),n(201),n(137),n(1514),n(750);var yr=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[$n]=function(){clearTimeout(n)},r},kr=function(e){return function(){return e}}(!0),Ir=function(){};var wr=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Cr=function(e,t){Object(ur.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Er(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Tr(e){var t=!1;return function(){t||(t=!0,e())}}var Sr=function(e){throw e},_r=function(e){return{value:e,done:!0}};function Ar(e,t,n){void 0===t&&(t=Sr),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:_r,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function Mr(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var Rr=function(e){return Array.apply(null,new Array(e))},Pr=function(e){return function(t){return e(Object.defineProperty(t,rr,{value:!0}))}},Nr=function(e){return e===sr},Dr=function(e){return e===or},Lr=function(e){return Nr(e)||Dr(e)};function Ur(e,t){var n=Object.keys(e),r=n.length;var a,c=0,o=vr(e)?Rr(r):{},s={};return n.forEach((function(e){var n=function(n,s){a||(s||Lr(n)?(t.cancel(),t(n,s)):(o[e]=n,++c===r&&(a=!0,t(o))))};n.cancel=Ir,s[e]=n})),t.cancel=function(){a||(a=!0,n.forEach((function(e){return s[e].cancel()})))},s}function Br(e){return{name:e.name||"anonymous",location:Gr(e)}}function Gr(e){return e[ir]}var Fr={isEmpty:kr,put:Ir,take:Ir};function zr(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,a=0,c=0,o=function(t){n[a]=t,a=(a+1)%e,r++},s=function(){if(0!=r){var t=n[c];return n[c]=null,r--,c=(c+1)%e,t}},i=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var u;if(r<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=s,c=a=(a+1)%e;break;case 4:u=2*e,n=i(),r=n.length,a=n.length,c=0,n.length=u,e=u,o(s)}},take:s,flush:i}}var Vr=function(){return Fr},Hr=function(e){return zr(e,3)},Wr=function(e){return zr(e,4)},qr=Object.freeze({__proto__:null,none:Vr,fixed:function(e){return zr(e,1)},dropping:function(e){return zr(e,2)},sliding:Hr,expanding:Wr}),Kr="TAKE",Xr="PUT",Yr="ALL",Qr="RACE",Zr="CALL",$r="FORK",Jr="CANCEL",ea="SELECT",ta="ACTION_CHANNEL",na="CANCELLED",ra=function(e,t){var n;return(n={})[er]=!0,n.combinator=!1,n.type=e,n.payload=t,n},aa=function(e){return ra($r,Object(ur.a)({},e.payload,{detached:!0}))};function ca(e,t){return void 0===e&&(e="*"),hr(e)?ra(Kr,{pattern:e}):xr(n=e)&&n[nr]&&dr(t)&&hr(t)?ra(Kr,{channel:e,pattern:t}):xr(e)?ra(Kr,{channel:e}):void 0;var n}function oa(e,t){return lr(t)&&(t=e,e=void 0),ra(Xr,{channel:e,action:t})}function sa(e){var t=ra(Yr,e);return t.combinator=!0,t}function ia(e){var t=ra(Qr,e);return t.combinator=!0,t}function ua(e,t){var n,r=null;return pr(e)?n=e:(vr(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&fr(n)&&pr(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ba(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ra(Zr,ua(e,n))}function la(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ra($r,ua(e,n))}function da(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return aa(la.apply(void 0,[e].concat(n)))}function pa(e){return void 0===e&&(e=ar),ra(Jr,e)}function fa(e){void 0===e&&(e=wr);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ra(ea,{selector:e,args:n})}function va(e,t){return ra(ta,{pattern:e,buffer:t})}var Oa=ba.bind(null,yr);function ja(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ha=ja,xa=[],ga=0;function ma(e){try{Ia(),e()}finally{wa()}}function ya(e){xa.push(e),ga||(Ia(),Ca())}function ka(e){try{return Ia(),e()}finally{Ca()}}function Ia(){ga++}function wa(){ga--}function Ca(){var e;for(wa();!ga&&void 0!==(e=xa.shift());)ma(e)}var Ea=function(e){return function(t){return e.some((function(e){return Ma(e)(t)}))}},Ta=function(e){return function(t){return e(t)}},Sa=function(e){return function(t){return t.type===String(e)}},_a=function(e){return function(t){return t.type===e}},Aa=function(){return kr};function Ma(e){var t="*"===e?Aa:fr(e)?Sa:vr(e)?Ea:gr(e)?Sa:pr(e)?Ta:mr(e)?_a:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Ra={type:Jn},Pa=function(e){return e&&e.type===Jn};function Na(e){void 0===e&&(e=Wr());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(Ra):e.isEmpty()?(n.push(r),r.cancel=function(){Er(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(Ra):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,a=e.length;r<a;r++){(0,e[r])(Ra)}}}}}function Da(e,t){void 0===t&&(t=Vr());var n,r=!1,a=Na(t),c=function(){r||(r=!0,pr(n)&&n(),a.close())};return n=Tr(n=e((function(e){Pa(e)?c():a.put(e)}))),r&&n(),{take:a.take,flush:a.flush,close:c}}function La(){var e=function(){var e,t=!1,n=[],r=n,a=function(){r===n&&(r=n.slice())},c=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(Ra)}))};return(e={})[nr]=!0,e.put=function(e){if(!t)if(Pa(e))c();else for(var a=n=r,o=0,s=a.length;o<s;o++){var i=a[o];i[tr](e)&&(i.cancel(),i(e))}},e.take=function(e,n){void 0===n&&(n=Aa),t?e(Ra):(e[tr]=n,a(),r.push(e),e.cancel=Tr((function(){a(),Er(r,e)})))},e.close=c,e}(),t=e.put;return e.put=function(e){e[rr]?t(e):ya((function(){t(e)}))},e}function Ua(e,t){var n=e[$n];pr(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Ba,Ga=0,Fa=function(){return++Ga};function za(e){e.isRunning()&&e.cancel()}var Va=((Ba={}).TAKE=function(e,t,n){var r=t.channel,a=void 0===r?e.channel:r,c=t.pattern,o=t.maybe,s=function(e){e instanceof Error?n(e,!0):!Pa(e)||o?n(e):n(sr)};try{a.take(s,dr(c)?Ma(c):null)}catch(i){return void n(i,!0)}n.cancel=s.cancel},Ba.PUT=function(e,t,n){var r=t.channel,a=t.action,c=t.resolve;ya((function(){var t;try{t=(r?r.put:e.dispatch)(a)}catch(o){return void n(o,!0)}c&&Or(t)?Ua(t,n):n(t)}))},Ba.ALL=function(e,t,n,r){var a=r.digestEffect,c=Ga,o=Object.keys(t);if(0!==o.length){var s=Ur(t,n);o.forEach((function(e){a(t[e],c,s[e],e)}))}else n(vr(t)?[]:{})},Ba.RACE=function(e,t,n,r){var a=r.digestEffect,c=Ga,o=Object.keys(t),s=vr(t)?Rr(o.length):{},i={},u=!1;o.forEach((function(e){var t=function(t,r){u||(r||Lr(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,s[e]=t,n(s)))};t.cancel=Ir,i[e]=t})),n.cancel=function(){u||(u=!0,o.forEach((function(e){return i[e].cancel()})))},o.forEach((function(e){u||a(t[e],c,i[e],e)}))},Ba.CALL=function(e,t,n,r){var a=t.context,c=t.fn,o=t.args,s=r.task;try{var i=c.apply(a,o);if(Or(i))return void Ua(i,n);if(jr(i))return void $a(e,i,s.context,Ga,Br(c),!1,n);n(i)}catch(u){n(u,!0)}},Ba.CPS=function(e,t,n){var r=t.context,a=t.fn,c=t.args;try{var o=function(e,t){lr(e)?n(t):n(e,!0)};a.apply(r,c.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(s){n(s,!0)}},Ba.FORK=function(e,t,n,r){var a=t.context,c=t.fn,o=t.args,s=t.detached,i=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var a=n.apply(t,r);if(jr(a))return a;var c=!1;return Ar((function(e){return c?{value:e,done:!0}:(c=!0,{value:a,done:!Or(a)})}))}catch(o){return Ar((function(){throw o}))}}({context:a,fn:c,args:o}),b=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Br(t)}(u,c);ka((function(){var t=$a(e,u,i.context,Ga,b,s,void 0);s?n(t):t.isRunning()?(i.queue.addTask(t),n(t)):t.isAborted()?i.queue.abort(t.error()):n(t)}))},Ba.JOIN=function(e,t,n,r){var a=r.task,c=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&Er(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(vr(t)){if(0===t.length)return void n([]);var o=Ur(t,n);t.forEach((function(e,t){c(e,o[t])}))}else c(t,n)},Ba.CANCEL=function(e,t,n,r){var a=r.task;t===ar?za(a):vr(t)?t.forEach(za):za(t),n()},Ba.SELECT=function(e,t,n){var r=t.selector,a=t.args;try{n(r.apply(void 0,[e.getState()].concat(a)))}catch(c){n(c,!0)}},Ba.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,a=Na(t.buffer),c=Ma(r),o=function t(n){Pa(n)||e.channel.take(t,c),a.put(n)},s=a.close;a.close=function(){o.cancel(),s()},e.channel.take(o,c),n(a)},Ba.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},Ba.FLUSH=function(e,t,n){t.flush(n)},Ba.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},Ba.SET_CONTEXT=function(e,t,n,r){var a=r.task;Cr(a.context,t),n()},Ba);function Ha(e,t){return e+"?"+t}function Wa(e){var t=e.name,n=e.location;return n?t+"  "+Ha(n.fileName,n.lineNumber):t}function qa(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ka=null,Xa=[],Ya=function(){Ka=null,Xa.length=0},Qa=function(){var e=Xa[0],t=Xa.slice(1),n=e.crashedEffect?function(e){var t=Gr(e);return t?t.code+"  "+Ha(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Wa(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Wa(e.meta)})),[qa(Xa)]).join("\n")};function Za(e,t,n,r,a,c,o){var s;void 0===o&&(o=Ir);var i,u,b=0,l=null,d=[],p=Object.create(n),f=function(e,t,n){var r,a=[],c=!1;function o(e){t(),i(),n(e,!0)}function s(t){a.push(t),t.cont=function(s,i){c||(Er(a,t),t.cont=Ir,i?o(s):(t===e&&(r=s),a.length||(c=!0,n(r))))}}function i(){c||(c=!0,a.forEach((function(e){e.cont=Ir,e.cancel()})),a=[])}return s(e),{addTask:s,cancelAll:i,abort:o,getTasks:function(){return a}}}(t,(function(){d.push.apply(d,f.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(b=2,(c={meta:a,cancelledTasks:d}).crashedEffect=Ka,Xa.push(c),O.isRoot){var r=Qa();Ya(),e.onError(t,{sagaStack:r})}u=t,l&&l.reject(t)}else t===or?b=1:1!==b&&(b=3),i=t,l&&l.resolve(t);var c;O.cont(t,n),O.joiners.forEach((function(e){e.cb(t,n)})),O.joiners=null}var O=((s={})[cr]=!0,s.id=r,s.meta=a,s.isRoot=c,s.context=p,s.joiners=[],s.queue=f,s.cancel=function(){0===b&&(b=1,f.cancelAll(),v(or,!1))},s.cont=o,s.end=v,s.setContext=function(e){Cr(p,e)},s.toPromise=function(){return l||(l=ha(),2===b?l.reject(u):0!==b&&l.resolve(i)),l.promise},s.isRunning=function(){return 0===b},s.isCancelled=function(){return 1===b||0===b&&1===t.status},s.isAborted=function(){return 2===b},s.result=function(){return i},s.error=function(){return u},s);return O}function $a(e,t,n,r,a,c,o){var s=e.finalizeRunEffect((function(t,n,r){if(Or(t))Ua(t,r);else if(jr(t))$a(e,t,u.context,n,a,!1,r);else if(t&&t[er]){(0,Va[t.type])(e,t.payload,r,b)}else r(t)}));l.cancel=Ir;var i={meta:a,cancel:function(){0===i.status&&(i.status=1,l(or))},status:0},u=Za(e,i,n,r,a,c,o),b={task:u,digestEffect:d};return o&&(o.cancel=u.cancel),l(),u;function l(e,n){try{var a;n?(a=t.throw(e),Ya()):Dr(e)?(i.status=1,l.cancel(),a=pr(t.return)?t.return(or):{done:!0,value:or}):a=Nr(e)?pr(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==i.status&&(i.status=3),i.cont(a.value)):d(a.value,r,l)}catch(c){if(1===i.status)throw c;i.status=2,i.cont(c,!0)}}function d(t,n,r,a){void 0===a&&(a="");var c,o=Fa();function i(n,a){c||(c=!0,r.cancel=Ir,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),a&&function(e){Ka=e}(t),r(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:a,effect:t}),i.cancel=Ir,r.cancel=function(){c||(c=!0,i.cancel(),i.cancel=Ir,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},s(t,o,i)}}function Ja(e,t){var n=e.channel,r=void 0===n?La():n,a=e.dispatch,c=e.getState,o=e.context,s=void 0===o?{}:o,i=e.sagaMonitor,u=e.effectMiddlewares,b=e.onError,l=void 0===b?Mr:b;for(var d=arguments.length,p=new Array(d>2?d-2:0),f=2;f<d;f++)p[f-2]=arguments[f];var v=t.apply(void 0,p);var O,j=Fa();if(i&&(i.rootSagaStarted=i.rootSagaStarted||Ir,i.effectTriggered=i.effectTriggered||Ir,i.effectResolved=i.effectResolved||Ir,i.effectRejected=i.effectRejected||Ir,i.effectCancelled=i.effectCancelled||Ir,i.actionDispatched=i.actionDispatched||Ir,i.rootSagaStarted({effectId:j,saga:t,args:p})),u){var h=Qn.d.apply(void 0,u);O=function(e){return function(t,n,r){return h((function(t){return e(t,n,r)}))(t)}}}else O=wr;var x={channel:r,dispatch:Pr(a),getState:c,sagaMonitor:i,onError:l,finalizeRunEffect:O};return ka((function(){var e=$a(x,v,s,j,Br(t),!0,void 0);return i&&i.effectResolved(j,e),e}))}var ec=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,c=n.channel,o=void 0===c?La():c,s=n.sagaMonitor,i=Object(br.a)(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=Ja.bind(null,Object(ur.a)({},i,{context:a,channel:o,dispatch:r,getState:n,sagaMonitor:s})),function(e){return function(t){s&&s.actionDispatched&&s.actionDispatched(t);var n=e(t);return o.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){Cr(a,e)},u},tc=ec,nc=n(543),rc=n.n(nc),ac=n(605),cc=n(449),oc=function(){function e(){Object(Xn.a)(this,e),this.data={}}return Object(Yn.a)(e,[{key:"setReducer",value:function(e){return this.data.reducer=e,this}},{key:"setSaga",value:function(e){return this.data.saga=e,this}},{key:"setPreloadedState",value:function(e){return this.data.preloadedState=e,this}},{key:"setHTTPClient",value:function(e){return this.data.httpClient=e,this}},{key:"setApplicationConfig",value:function(e){return e&&(this.data.applicationConfig=e),this}},{key:"setHandshakeDetails",value:function(e){return e&&(this.data.handshakeDetails=e),this}},{key:"setChatSettings",value:function(e){return e&&(this.data.chatSettings=e),this}},{key:"build",value:function(){var e=this.data,t=e.applicationConfig,n=e.handshakeDetails,r=e.chatSettings,a=e.httpClient,c=e.reducer,o=e.preloadedState,s=e.saga,i=r.clientContext;rc()(a,"HTTP Client is not configured"),Object(ac.b)(a),rc()(c,"Reducer is not configured");var u=[],b=tc();u.push(b);var l=Object(Qn.e)(c,o,Qn.a.apply(void 0,u));s&&b.run(s);var d={payload:{applicationConfig:t,handshakeDetails:n,clientContext:i},type:cc.a};return l.dispatch(d),this.data.store=l,l}}]),e}(),sc=function(e){return{done:!0,value:e}},ic={};function uc(e){return xr(e)?"channel":gr(e)?String(e):pr(e)?e.name:String(e)}function bc(e,t,n){var r,a,c,o=t;function s(t,n){if(o===ic)return sc(t);if(n&&!a)throw o=ic,n;r&&r(t);var s=n?e[a](n):e[o]();return o=s.nextState,c=s.effect,r=s.stateUpdater,a=s.errorState,o===ic?sc(t):c}return Ar(s,(function(e){return s(null,e)}),n)}function lc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o={done:!1,value:ca(e)},s=function(e){return{done:!1,value:la.apply(void 0,[t].concat(r,[e]))}},i=function(e){return c=e};return bc({q1:function(){return{nextState:"q2",effect:o,stateUpdater:i}},q2:function(){return{nextState:"q1",effect:s(c)}}},"q1","takeEvery("+uc(e)+", "+t.name+")")}function dc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o,s={done:!1,value:ca(e)},i=function(e){return{done:!1,value:la.apply(void 0,[t].concat(r,[e]))}},u=function(e){return{done:!1,value:pa(e)}},b=function(e){return c=e},l=function(e){return o=e};return bc({q1:function(){return{nextState:"q2",effect:s,stateUpdater:l}},q2:function(){return c?{nextState:"q3",effect:u(c)}:{nextState:"q1",effect:i(o),stateUpdater:b}},q3:function(){return{nextState:"q1",effect:i(o),stateUpdater:b}}},"q1","takeLatest("+uc(e)+", "+t.name+")")}function pc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o={done:!1,value:ca(e)},s=function(e){return{done:!1,value:ba.apply(void 0,[t].concat(r,[e]))}},i=function(e){return c=e};return bc({q1:function(){return{nextState:"q2",effect:o,stateUpdater:i}},q2:function(){return{nextState:"q1",effect:s(c)}}},"q1","takeLeading("+uc(e)+", "+t.name+")")}function fc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return la.apply(void 0,[lc,e,t].concat(r))}function vc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return la.apply(void 0,[dc,e,t].concat(r))}function Oc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return la.apply(void 0,[pc,e,t].concat(r))}var jc=n(366),hc=n(476),xc=n(510),gc=Object(d.a)().mark(Ic),mc=Object(d.a)().mark(wc),yc=Object(d.a)().mark(Cc);function kc(e){return e.type===xc.p||e.type===xc.t}function Ic(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(kc).map((function(e){return oa(e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),gc,null,[[0,5]])}function wc(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,ba(Ic,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),mc,null,[[0,6]])}function Cc(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.j,wc);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),yc,null,[[0,5]])}var Ec=Object(d.a)().mark(_c),Tc=Object(d.a)().mark(Ac),Sc=Object(d.a)().mark(Mc);function _c(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oa(e);case 3:return t.next=5,oa(Object(s.h)());case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Object(jc.b)(t.t0);case 10:case"end":return t.stop()}}),Ec,null,[[0,7]])}function Ac(){var e,t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,va([xc.p,xc.t]);case 2:t=r.sent;case 3:return r.prev=4,r.next=7,ca(t);case 7:if(n=r.sent,!e||e.isCancelled()){r.next=11;break}return r.next=11,pa(e);case 11:if(n.type!==xc.p){r.next=17;break}return r.next=14,la(_c,n.payload.waitTime);case 14:return e=r.sent,r.next=17,oa(Object(s.f)({waitTime:n.payload.waitTime,reason:n.payload.reason}));case 17:if(n.type!==xc.t){r.next=20;break}return r.next=20,oa(Object(s.h)());case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(4),Object(jc.b)(r.t0);case 25:r.next=3;break;case 27:case"end":return r.stop()}}),Tc,null,[[4,22]])}function Mc(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Ac)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Sc,null,[[0,5]])}var Rc=Object(d.a)().mark(Pc);function Pc(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Cc),la(Mc)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Rc,null,[[0,5]])}var Nc=n(462),Dc=n.n(Nc),Lc=n(138),Uc=n.n(Lc),Bc=n(545),Gc=n.n(Bc),Fc=n(936),zc=n.n(Fc),Vc=n(408),Hc=n.n(Vc),Wc=n(840),qc=n.n(Wc),Kc=n(456),Xc=n.n(Kc),Yc=n(418),Qc=n(427),Zc=n(406),$c=n(467),Jc=n(483),eo=n(670),to=n(422),no=Object(d.a)().mark(ro);function ro(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.chatMessage,n=e.conversationId,r=e.transientId,a=e.postbackParentMessageId,c=e.error,o.prev=1,o.next=4,oa({type:Yc.K,payload:{chatMessage:new Zc.a(t).setCreationTime(Date.now()).build(),conversationId:Zc.a.getConversationId(t)}});case 4:return o.next=6,oa({payload:{conversationId:n,transientId:r,postbackParentMessageId:a,error:c},type:Yc.H});case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),Object(jc.b)(o.t0);case 11:case"end":return o.stop()}}),no,null,[[1,8]])}var ao=Object(d.a)().mark(so),co=Object(d.a)().mark(uo),oo=Object(d.a)().mark(bo);function so(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Object(Jc.k)(e)){t.next=4;break}return t.next=4,oa(Object(to.p)(e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0);case 9:case"end":return t.stop()}}),ao,null,[[0,6]])}function io(e){return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function t(){var n,r;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,Object(Jc.j)(e)||(n=pn()(e,"id")),t.next=4,Object(eo.u)(n);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))}function uo(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba(io,e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),co,null,[[0,6]])}function bo(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.id,n=Zc.a.getConversationId(e),a=ue()($c.a.getAttachment(Zc.a.getMessagePayload(e)),"messageId"),c.prev=4,c.next=7,ba(io,e);case 7:r=c.sent,c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(4),c.next=14,ba(ro,{chatMessage:e,conversationId:n,transientId:t,postbackParentMessageId:a,error:{status:1}});case 14:throw c.t0;case 15:if(!Object(Jc.k)(r)){c.next=18;break}return c.next=18,oa({payload:{chatMessage:r,conversationId:n,transientId:t},type:Yc.I});case 18:c.next=23;break;case 20:c.prev=20,c.t1=c.catch(0),Object(jc.b)(c.t1);case 23:case"end":return c.stop()}}),oo,null,[[0,20],[4,10]])}var lo=n(1355),po=function(){return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(lo.a)();case 2:return t=e.sent,e.abrupt("return",t.default);case 4:case"end":return e.stop()}}),e)})))},fo=Object(d.a)().mark(Oo),vo=Object(d.a)().mark(jo);function Oo(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,po();case 3:return t=r.sent,n=t.makeTextMessage(e.payload),r.next=7,ba(so,n);case 7:return r.next=9,ba(bo,n);case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),Object(jc.b)(r.t0);case 14:case"end":return r.stop()}}),fo,null,[[0,11]])}function jo(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.bb,Oo);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),vo,null,[[0,5]])}var ho,xo=n(394),go=Object(d.a)().mark(Eo),mo=Object(d.a)().mark(To),yo=Object(d.a)().mark(So),ko=function(e,t){var n=$c.a.getAttachment(Zc.a.getMessagePayload(e));return Dc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},Io=function(e,t){var n=$c.a.getAttachment(Zc.a.getMessagePayload(e));return Dc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},wo=(ho={},Object(kn.a)(ho,xo.c.CARD,ko),Object(kn.a)(ho,xo.c.CAROUSEL,ko),Object(kn.a)(ho,xo.c.CO_BROWSE_INVITE,ko),Object(kn.a)(ho,xo.c.PRODUCT_CARD,ko),Object(kn.a)(ho,xo.c.PRODUCT_SHOWCASE_CARD,ko),Object(kn.a)(ho,xo.c.INFO_CARD,ko),Object(kn.a)(ho,xo.c.PRODUCT_BANNER,ko),Object(kn.a)(ho,xo.c.PRODUCT_LIST,ko),Object(kn.a)(ho,xo.c.FORM,Io),Object(kn.a)(ho,xo.c.CONTACT_DETAILS_FORM,Io),Object(kn.a)(ho,xo.c.SECURE_FORM,Io),Object(kn.a)(ho,xo.c.APPOINTMENT,(function(e,t){return Dc()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}})})),Object(kn.a)(ho,xo.c.SURVEY,(function(e,t){return Dc()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})})),Object(kn.a)(ho,xo.c.VIDEO_CHAT,(function(e,t){var n;return(null===(n=null===e||void 0===e?void 0:e.messagePayload)||void 0===n?void 0:n.attachment)?Dc()(e,{messagePayload:{attachment:{currentState:{$merge:{state:t.state,createdTime:Date.now()}},previousStates:{$push:[e.messagePayload.attachment.currentState]}}}}):e})),Object(kn.a)(ho,xo.c.RICH_TEXT_CAROUSEL,ko),Object(kn.a)(ho,xo.c.SURVEY_QUESTION,(function(e,t){var n=$c.a.getAttachment(Zc.a.getMessagePayload(e));return Dc()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{response:t.response}:{}),{submitted:!0})}}})})),ho),Co=function(e,t){var n,r;if(!e||!(null===t||void 0===t?void 0:t.messagePayload))return{};switch(null===(r=null===(n=e.messagePayload)||void 0===n?void 0:n.attachment)||void 0===r?void 0:r.type){case xo.c.CAROUSEL:case xo.c.CO_BROWSE_INVITE:case xo.c.PRODUCT_CARD:case xo.c.PRODUCT_SHOWCASE_CARD:case xo.c.INFO_CARD:case xo.c.PRODUCT_BANNER:case xo.c.PRODUCT_LIST:case xo.c.CARD:return{buttonId:t.messagePayload.attachment.buttonId};case xo.c.SURVEY:return{submitted:!t.messagePayload.attachment.reSubmittable,opened:!0};case xo.c.SECURE_FORM:case xo.c.FORM:case xo.c.CONTACT_DETAILS_FORM:return{filledForm:t.messagePayload.attachment.filledForm};case xo.c.APPOINTMENT:var a=t.messagePayload.attachment;return{selectedDate:a.selectedDate,selectedSlot:a.selectedSlot};case xo.c.SURVEY_QUESTION:return{response:t.messagePayload.attachment.response};default:return{}}};function Eo(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.chatMessage,n=e.conversationId,r=e.params,u.prev=1,o=null===(c=null===(a=null===t||void 0===t?void 0:t.messagePayload)||void 0===a?void 0:a.attachment)||void 0===c?void 0:c.type){u.next=5;break}return u.abrupt("return",null);case 5:if(!(s=wo[o])){u.next=11;break}return i=s(t,r),u.next=10,oa({type:Yc.K,payload:{chatMessage:i,conversationId:n}});case 10:return u.abrupt("return",i);case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(1),Object(jc.b)(u.t0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}}),go,null,[[1,13]])}function To(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.postback.messageId,r=t.conversationId,u.prev=1,u.next=4,fa(me.c);case 4:return o=u.sent,c=Object(St.k)(Object(St.m)(o,r),n),u.next=8,po();case 8:return s=u.sent,i=s.makeTemplatePostbackAttachmentMessage(e.payload),u.next=12,ba(Eo,{chatMessage:c,conversationId:r,params:Co(c,i)});case 12:if(a=u.sent,!i){u.next=19;break}return u.next=16,ba(so,i);case 16:return u.next=18,ba(bo,i);case 18:e.promise.resolve();case 19:u.next=28;break;case 21:if(u.prev=21,u.t0=u.catch(1),!a){u.next=26;break}return u.next=26,oa({type:Yc.K,payload:{chatMessage:c,conversationId:r}});case 26:e.promise.reject(),Object(jc.b)(u.t0);case 28:case"end":return u.stop()}}),mo,null,[[1,21]])}function So(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.ab,To);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),yo,null,[[0,5]])}var _o=Object(d.a)().mark(Mo),Ao=Object(d.a)().mark(Ro);function Mo(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,po();case 3:if(t=r.sent,!(n=t.makeQuickReplyPostbackAttachmentMessage(e.payload))){r.next=10;break}return r.next=8,ba(so,n);case 8:return r.next=10,ba(bo,n);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),Object(jc.b)(r.t0);case 15:case"end":return r.stop()}}),_o,null,[[0,12]])}function Ro(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.T,Mo);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Ao,null,[[0,5]])}var Po=n(374),No=n(479),Do=n.n(No),Lo=n(429),Uo=n(509),Bo=n(667),Go=n(457),Fo=Object(d.a)().mark(qo),zo=Object(d.a)().mark(Ko),Vo=Object(d.a)().mark(Xo),Ho=function(e){return{userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en",agentPersonaDetail:{name:"BRAND_DISPLAY_NAME",image:"BRAND_DISPLAY_IMAGE"}}},Wo=function(e,t){var n={};return vn()(t,(function(t,r){var a=r.sender;return n[a]||!!Object(Vt.g)(e,a)||(n[a]=a,t.push(r)),t}),[])};function qo(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=Bn()(e,(function(e){return e.sender})),c.next=4,ba(Bo.b,e);case 4:return n=c.sent,r=Bn()(n,(function(e){return Go.a.getId(e)})),a=[],Uc()(t,(function(e){!r.includes(e)&&Object(Lo.c)(e)&&(a=[].concat(Object(Po.a)(a),[Ho(e)]))})),c.next=10,oa({type:Uo.h,payload:{users:[].concat(Object(Po.a)(n),Object(Po.a)(a))}});case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),Object(jc.b)(c.t0);case 15:case"end":return c.stop()}}),Fo,null,[[0,12]])}function Ko(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==(t=Do()(e)).length){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,fa(me.h);case 6:if(n=a.sent,0!==(r=Wo(n,t)).length){a.next=10;break}return a.abrupt("return");case 10:return a.next=12,ba(qo,r);case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),Object(jc.b)(a.t0);case 17:case"end":return a.stop()}}),zo,null,[[0,14]])}function Xo(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ba(qo,Do()(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Vo,null,[[0,5]])}var Yo="/co-browse/conversation",Qo=function(e){var t=e.messageId,n=e.markCompletedSession;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(Yo,"/").concat(n?"completed":"cancelled","?messageId=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Zo=function(e){var t=e.messageId,n=e.actionPayload;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(Yo,"/push?messageId=").concat(t),{type:"CO_BROWSE",payload:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},$o=function(e){var t=e.messageId,n=e.payload;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(Yo,"/push/status?messageId=").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Jo=function(e){var t=e.messageId,n=e.otp,r=e.additionalInfo;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:r}}));case 1:case"end":return e.stop()}}),e)})))},es=function(e){var t=e.messageId,n=e.reason;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o({messageId:t,payload:{status:"FAILED",reason:n}}));case 1:case"end":return e.stop()}}),e)})))},ts=function(e){var t=e.messageId,n=e.payload;return ac.a.post("".concat(Yo,"/event?messageId=").concat(t),n)},ns=function(e){var t=e.messageId;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(Yo,"/session/live?messageId=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))},rs=n(634),as=n(846),cs=n(1152),os=n(495),ss=Object(d.a)().mark(ms),is=Object(d.a)().mark(ys),us=Object(d.a)().mark(ks),bs=Object(d.a)().mark(Is),ls=Object(d.a)().mark(ws),ds=Object(d.a)().mark(Cs),ps=Object(d.a)().mark(Es),fs=Object(d.a)().mark(Ts),vs=Object(d.a)().mark(Ss),Os=Object(d.a)().mark(_s),js=Object(d.a)().mark(As),hs=Object(d.a)().mark(Ms),xs=Object(d.a)().mark(Rs),gs=Object(d.a)().mark(Ps);function ms(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fa(me.f);case 3:return t=r.sent,n=t.messageId,r.next=7,ba(Zo,{messageId:n,actionPayload:e.payload});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),ss,null,[[0,9]])}function ys(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,fa(me.f);case 2:return t=u.sent,n=t.messageId,r=t.conversationId,a=t.agentId,c=t.type,u.prev=7,o=e.payload,s=o.otp,i=o.additionalInfo,u.next=11,ba(Jo,{messageId:n,otp:s,additionalInfo:i});case 11:return u.next=13,oa(Object(rs.k)({state:{messageId:n,conversationId:r,agentId:a}}));case 13:u.next=27;break;case 15:return u.prev=15,u.t0=u.catch(7),u.prev=17,u.next=20,oa(Object(rs.f)({reason:cs.a.OTP_SEND_FAILED,type:c}));case 20:return u.next=22,ba(es,{messageId:n,reason:cs.a.OTP_SEND_FAILED});case 22:u.next=27;break;case 24:u.prev=24,u.t1=u.catch(17),Object(jc.b)(u.t0);case 27:case"end":return u.stop()}}),is,null,[[7,15],[17,24]])}function ks(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.messageId,r=t.reason,a=t.type,c.next=4,oa(Object(rs.f)({reason:r,type:a}));case 4:return c.next=6,ba(es,{messageId:n,reason:r});case 6:c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),Object(jc.b)(c.t0);case 11:case"end":return c.stop()}}),us,null,[[0,8]])}function Is(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.messageId,o.prev=1,o.next=4,ia([ca((function(e){var n=e.type,r=e.payload;return n===Yc.I&&ue()(r,"chatMessage.messagePayload.attachment.messageId")===t})),ca((function(e){var n=e.type,r=e.payload;return n===Yc.H&&ue()(r,"postbackParentMessageId")===t})),ca(as.h),ca(as.i)]);case 4:if(n=o.sent,r=Object(Ne.a)(n,2),a=r[0],c=r[1],!a){o.next=11;break}return o.next=11,oa(Object(rs.s)());case 11:if(!c){o.next=14;break}return o.next=14,oa(Object(rs.f)({reason:cs.a.POSTBACK_SEND_FAILED,type:os.a.REQUEST}));case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),Object(jc.b)(o.t0);case 19:case"end":return o.stop()}}),bs,null,[[1,16]])}function ws(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fa(me.f);case 3:return t=r.sent,n=t.messageId,r.next=7,ba(ts,{messageId:n,payload:e.payload});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),ls,null,[[0,9]])}function Cs(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload,n=t.messageId,r=t.endedByAgent,a=t.markCompletedSession,!r&&n){c.next=4;break}return c.abrupt("return");case 4:return c.next=6,ba(Qo,{messageId:n,markCompletedSession:a});case 6:return c.abrupt("return");case 9:c.prev=9,c.t0=c.catch(0),Object(jc.b)(c.t0);case 12:case"end":return c.stop()}}),ds,null,[[0,9]])}function Es(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.mode,n.next=4,oa(Object(rs.b)(e.payload));case 4:return n.next=6,oa(Object(rs.l)({type:t,payload:{status:"ACCEPT"}}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),ps,null,[[0,8]])}function Ts(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload.settings,!(n=(t=void 0===t?{}:t).skipUserPermissionForRemoteControl)){r.next=7;break}return r.next=7,oa(Object(rs.k)({state:{skipUserPermissionForRemoteControl:n}}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),fs,null,[[0,9]])}function Ss(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.mode,n.next=4,oa(Object(rs.l)({type:t,payload:{status:"REJECT"}}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),vs,null,[[0,6]])}function _s(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,n=t.mode,!t.shouldNotifyAgent){r.next=5;break}return r.next=5,oa(Object(rs.l)({type:n,payload:{status:"STOP"}}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),Object(jc.b)(r.t0);case 10:case"end":return r.stop()}}),Os,null,[[0,7]])}function As(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.state,n=t.messageId,r=t.conversationId,a=t.agentId,c=t.type,i.prev=1,i.next=4,sa([ba(ns,{messageId:n}),ba(Ko,{sender:a,conversationId:r})]);case 4:if(o=i.sent,s=Object(Ne.a)(o,1),!s[0]){i.next=12;break}return i.next=10,oa(Object(rs.r)(e.payload));case 10:i.next=14;break;case 12:return i.next=14,oa(Object(rs.f)({reason:cs.a.RESUME_SESSION_FAILED,type:c}));case 14:i.next=21;break;case 16:return i.prev=16,i.t0=i.catch(1),i.next=20,oa(Object(rs.g)({messageId:n,reason:cs.a.RESUME_SESSION_FAILED,type:c}));case 20:Object(jc.b)(i.t0);case 21:case"end":return i.stop()}}),js,null,[[1,16]])}function Ms(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.payload.type!==os.a.AGENT_PRESENT){t.next=4;break}return t.next=4,oa(Object(rs.k)({state:e.payload}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0);case 9:case"end":return t.stop()}}),hs,null,[[0,6]])}function Rs(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,r=e.payload,a=r.conversationId,c=r.messageId,o=r.url,u.next=4,fa(me.c);case 4:return s=u.sent,i=Object(St.k)(Object(St.m)(s,a),c),u.next=8,oa(Object(rs.e)({messageId:c,conversationId:a,agentId:i.sender,agentPresentUrl:o,type:os.a.AGENT_PRESENT}));case 8:return u.next=10,ba(Eo,{chatMessage:i,conversationId:a,params:{}});case 10:null===(t=e.promise)||void 0===t||t.resolve(),u.next=17;break;case 13:u.prev=13,u.t0=u.catch(0),null===(n=e.promise)||void 0===n||n.reject(),Object(jc.b)(u.t0);case 17:case"end":return u.stop()}}),xs,null,[[0,13]])}function Ps(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([fc(as.p,ys),fc(as.q,ks),fc(as.h,Cs),fc(as.a,Es),fc(as.e,Ss),fc(as.c,_s),fc(as.b,Ts),fc(as.f,ms),fc(as.l,As),fc(as.g,ws),fc(as.j,Ms),fc(as.s,Rs)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),gs,null,[[0,5]])}var Ns=n(629),Ds=Object(d.a)().mark(Ls);function Ls(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(t=e?Do()(e):Ns.a).length){a.next=3;break}return a.abrupt("return");case 3:return n=Zc.a.getConversationId(t[0]),r=Bn()(t,(function(e){return{sender:Zc.a.getSender(e),conversationId:n}})),a.next=7,ba(Ko,r);case 7:case"end":return a.stop()}}),Ds)}n(431),n(439);var Us=n(586),Bs=n.n(Us),Gs=n(417),Fs=n.n(Gs),zs=n(140),Vs=n.n(zs),Hs=n(952),Ws=n(953),qs=n(1153),Ks=n(141),Xs=n(716),Ys=n(657),Qs=n(1154),Zs=function(e){var t=e.messageId,n=e.messagePayload,r=e.creationTime,a=e.conversationId,c=e.sender,o=e.clientMessageId,s=e.deleted;if(n&&(!$c.a.isEmpty(n)||s))return(new Zc.a).setId(t).setMessagePayload(n).setConversationId(a).setCreationTime(r||+new Date).setSender(c).setClientMessageId(o).setDeleted(s).build()},$s=n(505),Js=function(e,t){var n=Go.a.getId(t),r=$c.a.getAttachment(Zc.a.getMessagePayload(e)),a=Object(Qs.a)(r,{user:t}),c=Bs()(Hs.a.getFields(Ws.a.getForm(r)),(function(e){var t=e.id;return"EQUALITY"!==e.validator&&pe()(a[t])}));return!Object(Lo.b)(n)&&c},ei=function(e){return{resolve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.promise.resolve(Object.assign(Object.assign({},e),t))},reject:e.promise.reject}},ti=function(e,t,n,r){var a;return a="string"===typeof e?(new Zc.a).setMessagePayload((new $c.a).setMessageType(Xs.b).setMessageText(e).setMessageDisableManualResponse(!!r).build()).build():e,Zs(Object.assign({messageId:n,conversationId:t,sender:Ks.b},a))},ni=function(e){if(Fs()(e))return e;switch(Object($s.f)(e)?ue()(e,"response.status",404):-1){case 401:case 404:return Ys.a.NOT_FOUND;case 406:return Ys.a.NOT_ACCEPTABLE;default:return Ys.a.UNEXPECTED_ERROR}},ri=function(e){var t=e.encryptedData,n=e.unencryptedData,r=e.publicKeyForEncryption,a=e.formFields;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var c,o,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=vn()(t,(function(e,t,n){return e[n]={eData:t,externallyEncrypted:!0},e}),{}),n){e.next=3;break}return e.abrupt("return",c);case 3:return e.next=5,Object(qs.a)();case 5:return o=e.sent,s=o.dataEncrypter,e.abrupt("return",vn()(a,(function(e,t){var a=t.fieldName,c=null===n||void 0===n?void 0:n[a];if(!Vs()(c)&&""!==c){var o=Fs()(c)?c:JSON.stringify(c);e[a]=s(o,r)}return e}),c));case 8:case"end":return e.stop()}}),e)})))},ai=function(e){var t=e.values,n=e.publicKeyForEncryption;e.multiSubmitResponseUrl;return Object(Qc.__awaiter)(void 0,void 0,void 0,Object(d.a)().mark((function e(){var r,a,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.unencryptedData,a=t.encryptedData,c=t.originalData,e.next=3,ri({encryptedData:a,unencryptedData:pe()(a)&&pe()(r)?c.values:r,formFields:c.fields,publicKeyForEncryption:n});case 3:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 5:case"end":return e.stop()}}),e)})))},ci=n(651),oi=n(477),si=n(473),ii=n(566),ui=n(404),bi=Object(d.a)().mark(xi),li=Object(d.a)().mark(gi),di=Object(d.a)().mark(mi),pi=Object(d.a)().mark(yi),fi=Object(d.a)().mark(Ii),vi=Object(d.a)().mark(wi),Oi=Object(d.a)().mark(Ci),ji=Object(d.a)().mark(Ei),hi={};function xi(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j,h,x,g;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,t=e.payload.conversationId,!hi[t]){d.next=16;break}case 3:return d.next=6,ia([ca(Yc.N),ca(Yc.O)]);case 6:if(n=d.sent,r=Object(Ne.a)(n,2),a=r[0],c=r[1],ue()(a||c,"payload.transientConversationId")!==t){d.next=13;break}return e.promise&&(a&&e.promise.resolve({conversationId:a.payload.conversationResponse.id,caseNumber:a.payload.conversationResponse.caseNumber}),c&&e.promise.reject(c.payload.error)),d.abrupt("break",15);case 13:d.next=3;break;case 15:return d.abrupt("return");case 16:return d.prev=16,hi[t]=!0,d.next=20,fa(me.c);case 20:return o=d.sent,d.next=23,fa(me.d);case 23:return s=d.sent,i=Ot()(s),u=Object(St.m)(o,t),b=Object(St.q)(o),l=Object(St.h)(b,t),p=ue()(Object(St.g)(b,t),"assignToUser"),f=Object(St.y)(u),v=Object(St.f)(Object(St.q)(o),t)||{},O=v.clickedOnPrompt,d.next=34,ba(eo.p,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},f?{chatMessages:Object(St.l)(u).map((function(e){return{messagePayload:Zc.a.getMessagePayload(e),sender:Zc.a.getSender(e)}}))}:void 0),{createCase:Object(St.C)(Object(St.q)(o),t),startedByContext:l}),v),e.payload.appContext),!O&&i?{creativeId:i.additional.creativeId,interceptId:i.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:p}));case 34:return j=d.sent,d.next=37,fa(me.h);case 37:return h=d.sent,x=Object(Vt.b)(h),g=Object(Vt.d)(h),d.next=42,oa({payload:{transientConversationId:t,conversationResponse:j,botUserIds:x,userId:g},type:Yc.N});case 42:e.promise&&e.promise.resolve({conversationId:j.id,caseNumber:j.caseNumber}),d.next=51;break;case 45:return d.prev=45,d.t0=d.catch(16),d.next=49,oa({type:Yc.O,payload:{transientConversationId:e.payload.conversationId,error:ni(d.t0)}});case 49:e.promise&&e.promise.reject(ni(d.t0)),Object(jc.b)(d.t0);case 51:return d.prev=51,delete hi[e.payload.conversationId],d.finish(51);case 54:d.next=58;break;case 56:d.prev=56,d.t1=d.catch(0);case 58:case"end":return d.stop()}}),bi,null,[[0,56],[16,45,51,54]])}function gi(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=Gc()(Do()(si.a.getDefaultMessages(x.a.getCustomizationConfig(e)))),!(n=Gc()(t.map((function(e,t){return ti(e,Ks.e,"".concat(Ks.d).concat(t))})))).length){c.next=10;break}return c.next=6,fa(me.h);case 6:return r=c.sent,a=n.map((function(e){var t=Object(ci.e)(r,Zc.a.getSender(e));return oa(Object(oi.g)(e,t))})),c.next=10,sa(a);case 10:return c.abrupt("return",n);case 13:c.prev=13,c.t0=c.catch(0),Object(jc.b)(c.t0);case 16:return c.abrupt("return",void 0);case 17:case"end":return c.stop()}}),li,null,[[0,13]])}function mi(e,t){var n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=si.a.getContactDetailsMessage(x.a.getCustomizationConfig(e)),r=[],!n||!Js(n,ii.a.getChatUser(t))){s.next=12;break}return a=ti(n,Ks.e,Ks.c),s.next=7,fa(me.h);case 7:return c=s.sent,o=Object(ci.e)(c,Zc.a.getSender(a)),r.push(a),s.next=12,oa(Object(oi.g)(a,o));case 12:return s.abrupt("return",r);case 15:s.prev=15,s.t0=s.catch(0),Object(jc.b)(s.t0);case 18:return s.abrupt("return",void 0);case 19:case"end":return s.stop()}}),di,null,[[0,15]])}function yi(e,t){var n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ba(gi,e);case 3:return n=a.sent,a.next=6,ba(mi,e,t);case 6:return r=a.sent,a.abrupt("return",[].concat(Object(Po.a)(n),Object(Po.a)(r)));case 10:a.prev=10,a.t0=a.catch(0),Object(jc.b)(a.t0);case 13:return a.abrupt("return",void 0);case 14:case"end":return a.stop()}}),pi,null,[[0,10]])}function ki(){hi={}}function Ii(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Object(d.a)().mark((function e(){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ue.a,e.t1=Vt.c,e.next=4,fa(me.h);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),t=(0,e.t0)(e.t3,"userId");case 7:return e.prev=8,e.next=11,fa(me.c);case 11:if(n=e.sent,r=Object(St.m)(n,Ks.e),a=Object(St.k)(r,Ks.c)){e.next=16;break}return e.abrupt("break",31);case 16:return e.next=18,ca(Uo.h);case 18:if(c=e.sent,o=c.payload.users,!(s=o.find((function(e){return e.userId===t})))||Js(a,s)){e.next=24;break}return e.next=24,oa(Object(oi.h)(Ks.e,Ks.c));case 24:e.next=29;break;case 26:e.prev=26,e.t4=e.catch(8),Object(jc.b)(e.t4);case 29:e.next=7;break;case 31:case"end":return e.stop()}}),e,null,[[8,26]])}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),Object(jc.b)(e.t1);case 7:case"end":return e.stop()}}),fi,null,[[0,4]])}function wi(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(cc.c,ki);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),vi,null,[[0,5]])}function Ci(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.M,xi);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Oi,null,[[0,5]])}function Ei(){var e,t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ca(cc.a);case 3:return e=a.sent,t=e.payload,n=t.applicationConfig,r=t.handshakeDetails,a.next=9,ba(yi,n,null!==r&&void 0!==r?r:ui.a);case 9:return a.next=11,sa([la(Ii),la(Ci),la(wi)]);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),Object(jc.b)(a.t0);case 16:case"end":return a.stop()}}),ji,null,[[0,13]])}var Ti=n(607),Si=Object(d.a)().mark(Mi),_i=Object(d.a)().mark(Ri),Ai=Object(d.a)().mark(Pi);function Mi(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,n=t.actionParams,n.actionType!==Ti.a){r.next=6;break}return r.next=6,oa(Object(oi.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Object(jc.b)(r.t0);case 11:case"end":return r.stop()}}),Si,null,[[0,8]])}function Ri(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,n=t.actionParams,n.actionType!==Ti.b){r.next=6;break}return r.next=6,oa(Object(oi.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Object(jc.b)(r.t0);case 11:case"end":return r.stop()}}),_i,null,[[0,8]])}function Pi(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa([ba(Mi,e),ba(Ri,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Ai,null,[[0,5]])}var Ni=n(398),Di=n.n(Ni),Li=Object(d.a)().mark(Ui);function Ui(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.actionParams,r=Di.a,new Promise((function(e,t){var n=setTimeout((function(){return t(new Error("Timeout"))}),6e4);r=function(r,a){return clearTimeout(n),a?t(a):e(r)}})).then((function(t){var n=Dc()(e,{payload:{actionParams:{values:{$merge:t}}}});e.promise.resolve(n)})).catch((function(t){return e.promise.reject(t)})),a.next=7,oa(Object(oi.k)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId},callback:r}));case 7:a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),e.promise.reject(a.t0),Object(jc.b)(a.t0);case 13:case"end":return a.stop()}}),Li,null,[[0,9]])}var Bi=Object(d.a)().mark(zi),Gi=Object(d.a)().mark(Vi),Fi=Object(d.a)().mark(Hi);function zi(e){var t,n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.messageId,r=t.conversationId,s.next=3,fa(me.c);case 3:return a=s.sent,c=Object(St.k)(Object(St.m)(a,r),n),s.prev=5,s.next=8,ba(Eo,{chatMessage:c,conversationId:r,params:{opened:!0}});case 8:return o=s.sent,s.next=11,ba(eo.s,n);case 11:s.next=19;break;case 13:if(s.prev=13,s.t0=s.catch(5),!o){s.next=18;break}return s.next=18,oa({type:Yc.K,payload:{chatMessage:c,conversationId:r}});case 18:Object(jc.b)(s.t0);case 19:case"end":return s.stop()}}),Bi,null,[[5,13]])}function Vi(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.payload.attachment,ue()(t,"opened")){n.next=6;break}return n.next=6,ba(zi,e);case 6:return n.abrupt("return");case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),Gi,null,[[0,9]])}function Hi(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.X,Vi);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Fi,null,[[0,5]])}var Wi=n(513),qi=n(761),Ki=n(570),Xi=n(494),Yi=n(955),Qi=n(662),Zi=n(1075),$i=n(712),Ji=n(1330),eu=n(493),tu="/livechat/event";function nu(e){return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ac.a.post("".concat(tu,"/publish"),Object.assign({type:e.type},e.payload)));case 1:case"end":return t.stop()}}),t)})))}var ru=n(755),au=Object(d.a)().mark(fb),cu=Object(d.a)().mark(Ob),ou=Object(d.a)().mark(jb),su=Object(d.a)().mark(hb),iu=Object(d.a)().mark(xb),uu=Object(d.a)().mark(gb),bu=Object(d.a)().mark(mb),lu=Object(d.a)().mark(yb),du=Object(d.a)().mark(kb),pu=Object(d.a)().mark(Ib),fu=Object(d.a)().mark(wb),vu=Object(d.a)().mark(Cb),Ou=Object(d.a)().mark(Eb),ju=Object(d.a)().mark(Sb),hu=Object(d.a)().mark(_b),xu=Object(d.a)().mark(Ab),gu=Object(d.a)().mark(Mb),mu=Object(d.a)().mark(Rb),yu=Object(d.a)().mark(Pb),ku=Object(d.a)().mark(Nb),Iu=Object(d.a)().mark(Db),wu=Object(d.a)().mark(Lb),Cu=Object(d.a)().mark(Ub),Eu=Object(d.a)().mark(Bb),Tu=Object(d.a)().mark(Gb),Su=Object(d.a)().mark(Fb),_u=Object(d.a)().mark(zb),Au=Object(d.a)().mark(Vb),Mu=Object(d.a)().mark(Hb),Ru=Object(d.a)().mark(Wb),Pu=Object(d.a)().mark(qb),Nu=Object(d.a)().mark(Kb),Du=Object(d.a)().mark(Xb),Lu=Object(d.a)().mark(Yb),Uu=Object(d.a)().mark(Qb),Bu=Object(d.a)().mark(Zb),Gu=Object(d.a)().mark($b),Fu=Object(d.a)().mark(Jb),zu=Object(d.a)().mark(el),Vu=Object(d.a)().mark(tl),Hu=Object(d.a)().mark(rl),Wu=Object(d.a)().mark(al),qu=Object(d.a)().mark(cl),Ku=Object(d.a)().mark(ol),Xu=Object(d.a)().mark(sl),Yu=Object(d.a)().mark(il),Qu=Object(d.a)().mark(ul),Zu=Object(d.a)().mark(bl),$u=Object(d.a)().mark(ll),Ju=function(e){return Object(eu.e)(Object(me.e)(e))};function eb(e){return e===Ti.a||e===Ti.b}function tb(e){return e===Ti.c}function nb(e){return e===qi.a.OPEN_URL}function rb(e){return e===qi.a.OPEN_AGENT_PRESENT_URL}function ab(e){return e===qi.a.DIAL}function cb(e){return e===qi.a.SURVEY_POST_BACK}function ob(e){return e===qi.a.FETCH_APPOINTMENT_TIME_SLOTS}function sb(e){return e===qi.a.RESERVE_APPOINTMENT_TIME_SLOT}function ib(e){return e===qi.a.START_VIDEO_CALL}function ub(e){return e===qi.a.START_AUDIO_CALL}function bb(e){return e===qi.a.REJOIN_CALL}function lb(e){return e===qi.a.ACCOUNT_LINK}function db(e){return e===qi.a.SECURE_FORM_POST_BACK}function pb(e){return e===qi.a.ACCEPT_CO_BROWSE||e===qi.a.DENY_CO_BROWSE}function fb(e,t){var n,r,a=arguments;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:3,c.prev=1,c.next=4,fa(Ju);case 4:if(c.sent){c.next=15;break}case 6:return c.next=9,ca(hc.d);case 9:if(r=c.sent,r.payload.status!==ru.a.CONNECTED){c.next=13;break}return c.abrupt("break",15);case 13:c.next=6;break;case 15:return c.next=17,ba(e,t);case 17:return c.abrupt("return",c.sent);case 20:if(c.prev=20,c.t0=c.catch(1),!(Object($s.c)(c.t0)&&n>1)){c.next=26;break}return c.next=25,ba(fb,e,t,n-1);case 25:return c.abrupt("return",c.sent);case 26:throw c.t0;case 27:case"end":return c.stop()}}),au,null,[[1,20]])}function vb(e,t){return Zs({messageId:e.id,messagePayload:Zc.a.getMessagePayload(e),conversationId:t,sender:Zc.a.getSender(e),creationTime:Zc.a.getCreationTime(e),clientMessageId:Zc.a.getClientMessageId(e),deleted:Zc.a.getDeleted(e)})}function Ob(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.conversationId,r=t.cursor,o.next=5,ba(eo.g,n,{size:t.size,cursor:r});case 5:return a=o.sent,c=Gc()(a.results.map((function(e){return vb(e,n)}))),o.next=9,ba(Ls,c);case 9:return o.next=11,oa({payload:{conversationMessagesResponse:Object.assign(Object.assign({},a),{results:c}),conversationId:n,cursor:r},type:Yc.m});case 11:e.promise&&e.promise.resolve(),o.next=20;break;case 14:return o.prev=14,o.t0=o.catch(0),e.promise&&e.promise.reject(),o.next=19,oa({type:Yc.n,payload:{conversationId:e.payload.conversationId}});case 19:Object(jc.b)(o.t0);case 20:case"end":return o.stop()}}),cu,null,[[0,14]])}function jb(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(a=t.includeAll)){o.next=9;break}return o.next=6,ba(eo.c,n);case 6:o.t0=o.sent,o.next=12;break;case 9:return o.next=11,ba(eo.d,r,n);case 11:o.t0=o.sent;case 12:return c=o.t0,o.next=15,oa(Object(oi.a)({conversationId:r,includeAll:a,deleted:!0,surveyUrl:null===c||void 0===c?void 0:c.surveyUrl}));case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(0),Object(jc.b)(o.t1);case 20:case"end":return o.stop()}}),ou,null,[[0,17]])}function hb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.i,jb);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),su,null,[[0,5]])}function xb(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(a=t.includeAll)){o.next=9;break}return o.next=6,ba(eo.a,n);case 6:o.t0=o.sent,o.next=12;break;case 9:return o.next=11,ba(eo.b,r,n);case 11:o.t0=o.sent;case 12:return c=o.t0,o.next=15,oa(Object(oi.a)({conversationId:r,includeAll:a,closed:!0,surveyUrl:null===c||void 0===c?void 0:c.surveyUrl}));case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(0),Object(jc.b)(o.t1);case 20:case"end":return o.stop()}}),iu,null,[[0,17]])}function gb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.h,xb);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),uu,null,[[0,5]])}function mb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.l,Ob);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),bu,null,[[0,5]])}function yb(e){var t,n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload,n=t.query,r=t.conversationId,a=t.faqAttachment,c=t.locale,s.next=4,ba(eo.k,r,n,a,c);case 4:o=s.sent,e.promise&&e.promise.resolve(o),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),e.promise&&e.promise.reject(),Object(jc.b)(s.t0);case 12:case"end":return s.stop()}}),lu,null,[[0,8]])}function kb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.B,yb);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),du,null,[[0,5]])}function Ib(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=vn()(e,(function(e,t){var n=Xi.a.getParticipants(t);return Uc()(n,(function(n){e.push({sender:n,conversationId:t.id})})),e}),[]),n.next=4,ba(Ko,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),pu,null,[[0,6]])}function wb(){var e,t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0;case 1:return c.prev=2,c.next=5,ca(Yc.f);case 5:return e=c.sent,c.next=8,ba(eo.e,e.payload);case 8:return t=c.sent,c.next=11,ba(Ib,t.results);case 11:return c.next=13,fa(me.h);case 13:return n=c.sent,r=Object(Vt.b)(n),a=Object(Vt.d)(n),c.next=18,oa({payload:{conversationResponse:t,botUserIds:r,chatUserId:a},type:Yc.g});case 18:c.next=23;break;case 20:c.prev=20,c.t0=c.catch(2),Object(jc.b)(c.t0);case 23:c.next=1;break;case 25:c.next=30;break;case 27:c.prev=27,c.t1=c.catch(0),Object(jc.b)(c.t1);case 30:case"end":return c.stop()}}),fu,null,[[0,27],[2,20]])}function Cb(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,ba(eo.n,t);case 4:n=r.sent,e.promise.resolve(n),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),e.promise.reject(r.t0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),vu,null,[[0,8]])}function Eb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.D,Cb);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Ou,null,[[0,5]])}var Tb={VIDEO_CHAT:ke.c.VIDEO,AUDIO_CHAT:ke.c.AUDIO};function Sb(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.conversationResponse,n=e.isPhone,i.prev=1,!t||Xc()(n)||!t.deflectionParams){i.next=8;break}if(r=t.id,a=t.deflectionParams,c=null!==a&&void 0!==a?a:ui.a,o=c.initiateCall,s=c.type,!o){i.next=8;break}return i.next=8,oa(Object(Wi.i)({conversationId:r,isPhone:n,type:Tb[s],autoInitiateCall:!0}));case 8:i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),Object(jc.b)(i.t0);case 13:case"end":return i.stop()}}),ju,null,[[1,10]])}function _b(){var e,t,n,r,a,c,o,s,i,u;return Object(d.a)().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:b.prev=0;case 1:return e=void 0,t=void 0,n=void 0,b.next=5,ca(Yc.s);case 5:return r=b.sent,t=r.payload.caseId,e=r.payload.conversationId,n=r.payload.context,a=r.payload.isPhone,b.next=12,fa(me.h);case 12:return c=b.sent,o=Object(Vt.b)(c),s=Object(Vt.d)(c),b.prev=15,b.next=18,ba(eo.h,r.payload.caseId);case 18:return i=b.sent,b.next=21,oa({payload:{caseId:t,conversationResponse:i,botUserIds:o,chatUserId:s},type:Yc.t});case 21:return b.next=23,la(Sb,{conversationResponse:i,isPhone:a});case 23:b.next=45;break;case 25:if(b.prev=25,b.t0=b.catch(15),b.prev=27,Object($s.a)(b.t0)){b.next=38;break}return b.next=31,ba(eo.p,Object.assign({createCase:!0,caseId:t},n));case 31:return u=b.sent,b.next=34,oa({payload:{caseId:t,conversationResponse:u,botUserIds:o,chatUserId:s,loaded:!0},type:Yc.t});case 34:return b.next=36,la(Sb,{conversationResponse:u,isPhone:a});case 36:b.next=39;break;case 38:throw b.t0;case 39:b.next=45;break;case 41:return b.prev=41,b.t1=b.catch(27),b.next=45,oa({payload:{conversationId:e,error:ni(b.t1)},type:Yc.u});case 45:b.next=1;break;case 47:b.next=52;break;case 49:b.prev=49,b.t2=b.catch(0),Object(jc.b)(b.t2);case 52:case"end":return b.stop()}}),hu,null,[[0,49],[15,25],[27,41]])}function Ab(){var e,t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.prev=0;case 1:return e=void 0,t=void 0,n=void 0,i.prev=3,i.next=6,ca(Yc.v);case 6:if(r=i.sent,e=r.payload.conversationId,t=r.payload.externalCaseId,a=r.payload.isPhone,!e){i.next=16;break}return i.next=13,ba(eo.j,e);case 13:n=i.sent,i.next=20;break;case 16:if(!t){i.next=20;break}return i.next=19,ba(eo.i,t);case 19:n=i.sent;case 20:return i.next=22,fa(me.h);case 22:return c=i.sent,o=Object(Vt.b)(c),s=Object(Vt.d)(c),i.next=27,oa({payload:{conversationResponse:n,botUserIds:o,chatUserId:s},type:Yc.w});case 27:return i.next=29,la(Sb,{conversationResponse:n,isPhone:a});case 29:i.next=36;break;case 31:return i.prev=31,i.t0=i.catch(3),i.next=35,oa({payload:Object.assign(Object.assign(Object.assign({},e?{conversationId:e}:{}),t?{externalCaseId:t}:{}),{error:ni(i.t0)}),type:Yc.x});case 35:Object(jc.b)(i.t0);case 36:i.next=1;break;case 38:i.next=43;break;case 40:i.prev=40,i.t1=i.catch(0),Object(jc.b)(i.t1);case 43:case"end":return i.stop()}}),xu,null,[[0,40],[3,31]])}function Mb(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0;case 1:return o.next=4,fa(Ju);case 4:if(t=o.sent,o.prev=5,!t){o.next=16;break}return n=e.payload,r=n.conversationId,o.next=11,ba(eo.l,r,n.messageId);case 11:return a=o.sent,c=vb(a,r),o.next=15,ba(Ls,c);case 15:return o.abrupt("return",c);case 16:return o.next=18,ca(hc.d);case 18:o.next=25;break;case 20:if(o.prev=20,o.t0=o.catch(5),Object(jc.b)(o.t0),Object($s.c)(o.t0)){o.next=25;break}return o.abrupt("break",27);case 25:o.next=1;break;case 27:return o.abrupt("return",null);case 30:return o.prev=30,o.t1=o.catch(0),Object(jc.b)(o.t1),o.abrupt("return",null);case 34:case"end":return o.stop()}}),gu,null,[[0,30],[5,20]])}function Rb(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload,n.next=4,oa(Object(oi.l)({type:t.actionType,payload:pn()(e.payload,["actionType"])}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),mu,null,[[0,6]])}function Pb(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ba(Mb,e);case 3:if(!(t=n.sent)){n.next=7;break}return n.next=7,oa({type:Yc.K,payload:{chatMessage:t,conversationId:Zc.a.getConversationId(t)}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),yu,null,[[0,9]])}function Nb(e){var t,n,r,a,c,o,i,u,b,l,p;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,fa(me.c);case 3:return t=d.sent,n=Object(St.q)(t),d.t0=Vt.c,d.next=8,fa(me.h);case 8:if(d.t1=d.sent,r=(0,d.t0)(d.t1),a=e.payload,c=a.sender,o=a.deleted,i=a.closed,u=a.caseNumber,b=a.conversationId,l=a.requestClientId,p=Object(St.g)(n,b),!(c!==r.userId||l&&l!==Zi.a.get()||u&&p&&!p.caseNumber&&!o&&!i)){d.next=18;break}return d.next=15,oa(Object(oi.a)(e.payload));case 15:if(!u||!p||p.caseNumber){d.next=18;break}return d.next=18,oa(Object(s.c)({action:st.a.NEW_CONVERSATION_CREATED,conversationId:b,additional:{caseNumber:u}}));case 18:d.next=23;break;case 20:d.prev=20,d.t2=d.catch(0),Object(jc.b)(d.t2);case 23:case"end":return d.stop()}}),ku,null,[[0,20]])}function Db(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.conversationId,r=t.videoCallEnabled,a=t.audioCallEnabled,c.next=4,oa({type:Yc.d,payload:{conversationId:n,videoCallEnabled:r,audioCallEnabled:a}});case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),Object(jc.b)(c.t0);case 9:case"end":return c.stop()}}),Iu,null,[[0,6]])}function Lb(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.payload,!eb(t.actionParams.actionType)){n.next=7;break}return n.next=6,ba(Pi,e);case 6:e.promise.resolve(e);case 7:n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),e.promise.reject(),Object(jc.b)(n.t0);case 13:case"end":return n.stop()}}),wu,null,[[0,9]])}function Ub(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.payload,!tb(t.actionParams.actionType)){n.next=6;break}return n.next=6,ba(Ui,e);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),Cu,null,[[0,8]])}function Bb(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload,n=t.actionParams,r=t.conversationId,!lb(n.actionType)){c.next=6;break}return a=Object($i.a)(n.actionId,n.attachment),c.next=6,oa(Object(s.a)({ssoId:a.accountLinkUrl,conversationId:r,messageId:n.messageId})(ei(e)));case 6:c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),e.promise.reject(),Object(jc.b)(c.t0);case 12:case"end":return c.stop()}}),Eu,null,[[0,8]])}function Gb(e){var t,n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=e.payload.actionParams,n=t.attachment,r=t.values,a=n,s.next=5,ba(ai,{values:r,publicKeyForEncryption:a.publicKeyForEncryption,multiSubmitResponseUrl:a.multiSubmitResponseUrl});case 5:return c=s.sent,s.next=8,ba(eo.v,a,c);case 8:return o=s.sent,s.abrupt("return",{fieldNameVsToken:o,originalData:r.originalData});case 12:return s.prev=12,s.t0=s.catch(0),Object(jc.b)(s.t0),s.abrupt("return",null);case 16:case"end":return s.stop()}}),Tu,null,[[0,12]])}function Fb(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,t=e.payload,n=t.actionParams,r=n.messageId,a=n.actionType,c=n.values,o=t.conversationId,a!==qi.a.ACCEPT_CO_BROWSE){u.next=11;break}return u.next=5,fa((function(e){return Object(St.k)(Object(St.m)(Object(me.c)(e),o),r)}));case 5:return s=u.sent,i=Zc.a.getSender(s),u.next=9,oa(Object(rs.e)({messageId:r,conversationId:o,agentId:i,type:os.a.REQUEST}));case 9:return u.next=11,da(Is,{messageId:r});case 11:return u.abrupt("return",c);case 14:return u.prev=14,u.t0=u.catch(0),Object(jc.b)(u.t0),u.abrupt("return",null);case 18:case"end":return u.stop()}}),Su,null,[[0,14]])}function zb(e){var t,n,r,a,c,o,s,i,u,b;return Object(d.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,t=e.payload,n=t.actionParams,r=n.attachment,a=n.actionId,c=n.values,o=n.messageId,s=t.conversationId,i=ue()(Object($i.a)(a,r),"surveyUrl",""),l.next=5,oa(Object(oi.e)({surveyUrl:i,conversationId:s}));case 5:return l.next=7,oa({type:Yc.X,payload:{messageId:o,conversationId:s,attachment:r}});case 7:return l.next=9,ia([ca(Yc.Y),ca(Yc.V),ca(Yc.Z)]);case 9:if(u=l.sent,b=Object(Ne.a)(u,1),b[0]){l.next=14;break}return l.abrupt("return",null);case 14:return l.abrupt("return",c);case 17:return l.prev=17,l.t0=l.catch(0),Object(jc.b)(l.t0),l.abrupt("return",null);case 21:case"end":return l.stop()}}),_u,null,[[0,17]])}function Vb(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload.actionParams,n=t.actionType,r=t.values,!db(n)){a.next=6;break}return a.next=5,ba(Gb,e);case 5:case 9:case 13:return a.abrupt("return",a.sent);case 6:if(!pb(n)){a.next=10;break}return a.next=9,ba(Fb,e);case 10:if(!cb(n)){a.next=14;break}return a.next=13,ba(zb,e);case 14:return a.abrupt("return",r);case 17:return a.prev=17,a.t0=a.catch(0),Object(jc.b)(a.t0),a.abrupt("return",null);case 21:case"end":return a.stop()}}),Au,null,[[0,17]])}function Hb(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload,n=t.actionParams,r=t.appContext,eb(o=n.actionType)||nb(o)||rb(o)||ab(o)||ob(o)||sb(o)||ub(o)||ib(o)||bb(o)||lb(o)||tb(o)){c.next=20;break}return c.prev=4,c.next=7,ba(Vb,e);case 7:if(a=c.sent,qc()(a)){c.next=13;break}return c.next=11,oa(Object(oi.p)({conversationId:t.conversationId,sender:t.sender,postback:{attachment:n.attachment,values:a,additional:n.additional,appContext:r,messageId:n.messageId,postbackId:n.actionId,postbackType:n.actionType},inReplyToChatMessageId:t.inReplyToChatMessageId})(ei(e)));case 11:c.next=14;break;case 13:e.promise&&e.promise.resolve(e);case 14:c.next=20;break;case 16:c.prev=16,c.t0=c.catch(4),e.promise.reject(),Object(k.a)(c.t0);case 20:c.next=26;break;case 22:c.prev=22,c.t1=c.catch(0),e.promise.reject(),Object(jc.b)(c.t1);case 26:case"end":return c.stop()}var o}),Mu,null,[[0,22],[4,16]])}function Wb(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,t=e.payload,n=t.actionParams,r=n.messageId,a=n.actionId,c=n.actionType,o=n.attachment,s=t.conversationId,!rb(c)){i.next=5;break}return i.next=5,oa(Object(rs.j)({conversationId:s,messageId:r,buttonId:a,attachment:o})(ei(e)));case 5:i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),e.promise.reject(),Object(jc.b)(i.t0);case 11:case"end":return i.stop()}}),Ru,null,[[0,7]])}function qb(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload.actionParams,n=t.attachment,r=t.actionId,!nb(t.actionType)){a.next=5;break}return a.next=5,oa(Object(oi.f)({attachment:n,actionId:r})(ei(e)));case 5:a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),e.promise.reject(),Object(jc.b)(a.t0);case 11:case"end":return a.stop()}}),Pu,null,[[0,7]])}function Kb(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,!ab((n=t.actionParams).actionType)){r.next=6;break}return r.next=6,oa(Object(oi.d)({attachment:n.attachment,actionId:n.actionId})(ei(e)));case 6:r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),e.promise.reject(),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),Nu,null,[[0,8]])}function Xb(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j,h,x;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,r=e.payload,a=r.actionParams,c=a.actionId,o=a.actionType,s=a.attachment,i=a.messageId,u=a.values,b=r.conversationId,l=r.appContext,p=r.applicationConfig,f=null===(t=null===p||void 0===p?void 0:p.callConfiguration)||void 0===t?void 0:t.allUserPermissions,!bb(o)){d.next=13;break}return u.participantPermissions||Object(jc.b)("Participant permissions (".concat(u.participantPermissions,") unset")),u.participantInfos||Object(jc.b)("Participant infos is unset"),v=u.audioOnly?ke.c.AUDIO:ke.c.VIDEO,d.next=10,oa(Object(Wi.p)({conversationId:b,isPhone:l.isPhone,type:v,isIncomingCall:u.isIncomingCall,videoConversationId:u.videoChatConversationId,participantPermissions:null!==(n=u.participantPermissions)&&void 0!==n?n:Object(Qi.b)(v,f),participantInfos:u.participantInfos,prevState:Object(Yi.a)(u.currentState,u.isIncomingCall)}));case 10:e.promise&&e.promise.resolve(e),d.next=28;break;case 13:if(!ib(o)&&!ub(o)){d.next=28;break}return d.next=16,fa(me.b);case 16:if(O=d.sent,!Object(ye.a)(O)){d.next=21;break}return e.promise&&e.promise.reject(),d.abrupt("return");case 21:return j=ib(o)?ke.c.VIDEO:ke.c.AUDIO,h=ue()(Object($i.a)(c,s),"title",""),x={},c&&(x={sourceButtonId:c,messageId:i,messageText:h}),d.next=27,oa(Object(Wi.i)(Object.assign({conversationId:b,isPhone:l.isPhone,type:j},x)));case 27:e.promise&&e.promise.resolve(e);case 28:d.next=34;break;case 30:d.prev=30,d.t0=d.catch(0),e.promise.reject(),Object(jc.b)(d.t0);case 34:case"end":return d.stop()}}),Du,null,[[0,30]])}function Yb(e){var t,n,r,a,c,o,s,i,u,b;return Object(d.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,t=e.payload,n=t.actionParams,r=t.conversationId,a=t.appContext,c=ob(n.actionType),o=sb(n.actionType),!c&&!o){l.next=34;break}return l.prev=6,l.next=9,fa(me.c);case 9:if(u=l.sent,s=Object(St.k)(Object(St.m)(u,r),n.messageId),!c){l.next=19;break}return l.next=14,oa({type:Yc.K,payload:{chatMessage:Dc()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:r}});case 14:return l.next=16,ba(eo.f,{selectedDate:n.values.selectedDate,slotDefinitionId:n.attachment.slotDefinitionConfigId,timeZone:a.timeZone,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 16:return i=l.sent,l.next=19,oa({type:Yc.K,payload:{chatMessage:Dc()(s,{messagePayload:{attachment:{$merge:{slots:i}}}}),conversationId:r}});case 19:if(!o){l.next=27;break}return l.next=22,ba(eo.t,{selectedDate:n.values.selectedDate,selectedSlot:n.values.selectedSlot,timeZone:a.timeZone,slotDefinitionId:n.attachment.slotDefinitionConfigId,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 22:if(i=l.sent,b=i.reservationId){l.next=27;break}return l.next=27,oa({type:Yc.K,payload:{chatMessage:Dc()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},i.slots?{slots:i.slots}:{}),i.availableDates?{availableDates:i.availableDates}:{})}}}),conversationId:r}});case 27:e.promise.resolve({actionType:n.actionType,response:{reservationId:b,selectedSlot:n.values.selectedSlot,selectedDate:n.values.selectedDate,visibleSlots:n.values.visibleSlots}}),l.next=34;break;case 30:l.prev=30,l.t0=l.catch(6),Object(jc.b)(l.t0),e.promise.reject({actionType:n.actionType,response:{error:i}});case 34:l.next=40;break;case 36:l.prev=36,l.t1=l.catch(0),e.promise.reject(),Object(jc.b)(l.t1);case 40:case"end":return l.stop()}}),Lu,null,[[0,36],[6,30]])}function Qb(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa([ba(Lb,e),ba(Ub,e),ba(Hb,e),ba(qb,e),ba(Wb,e),ba(Kb,e),ba(Bb,e),ba(Yb,e),ba(Xb,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Uu,null,[[0,5]])}function Zb(e,t){var n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=Dc()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},pn()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),r=new Promise((function(e,t){n.promise={resolve:e,reject:t}})),a.next=5,ba(Qb,n);case 5:return a.next=7,r;case 7:return a.abrupt("return",a.sent);case 10:throw a.prev=10,a.t0=a.catch(0),Object(jc.b)(a.t0),a.t0;case 14:case"end":return a.stop()}}),Bu,null,[[0,10]])}function $b(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,t=e.payload.actionParams.actionTypes,n=e,r=0;case 4:if(!(r<zc()(t))){a.next=11;break}return a.next=7,ba(Zb,n,t[r]);case 7:n=a.sent;case 8:r+=1,a.next=4;break;case 11:e.promise.resolve(n),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),e.promise.reject(a.t0),Object(jc.b)(a.t0);case 18:case"end":return a.stop()}}),Gu,null,[[0,14]])}function Jb(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.c,$b);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Fu,null,[[0,5]])}function el(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.prev=1,r=e.payload.disclaimerStatus,o.next=5,fa(me.c);case 5:return a=o.sent,c=Object(St.q)(a),t=e.payload.conversationId,n=ue()(Object(St.i)(c,t),"disclaimerStatus"),o.next=11,oa({type:Yc.r,payload:{conversationId:t,disclaimerStatus:r}});case 11:return o.next=13,ba(eo.x,t,r);case 13:e.promise.resolve(),o.next=22;break;case 16:return o.prev=16,o.t0=o.catch(1),e.promise.reject(),o.next=21,oa({type:Yc.r,payload:{conversationId:t,disclaimerStatus:n}});case 21:Object(jc.b)(o.t0);case 22:o.next=27;break;case 24:o.prev=24,o.t1=o.catch(0),Object(jc.b)(o.t1);case 27:case"end":return o.stop()}}),zu,null,[[0,24],[1,16]])}function tl(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.q,el);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Vu,null,[[0,5]])}var nl={field:"closed",values:[!0],filterType:Ki.a.NIN};function rl(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.context,r=t.filters,i.next=4,fa(me.c);case 4:if(a=i.sent,c=Object(St.w)(a),o=r||nl,!(s=Hc()(c.ids,(function(e){var t=!1;return!!pe()(o)||(Ji.a.createFilterAction(o,{getFilterBuilder:Ji.a.createFilterAction}).matches(c.byId[e],{logOnFailure:!0})&&(t=!0),t)})))){i.next=14;break}return i.next=11,ba(fb,eo.w,{context:n,conversationId:s,payload:e.payload});case 11:e.promise.resolve({conversationId:s}),i.next=15;break;case 14:e.promise.reject(Ys.a.NOT_FOUND);case 15:i.next=21;break;case 17:i.prev=17,i.t0=i.catch(0),e.promise.reject(ni(i.t0)),Object(jc.b)(i.t0);case 21:case"end":return i.stop()}}),Hu,null,[[0,17]])}function al(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ca(Yc.g);case 3:return t.next=5,ba(rl,e);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.promise.reject(ni(t.t0)),Object(jc.b)(t.t0);case 11:case"end":return t.stop()}}),Wu,null,[[0,7]])}function cl(e){var t,n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,t=e.payload,n=t.context,r=t.conversationId,a=t.includeDeleted,!r){s.next=7;break}return s.next=5,ba(fb,eo.w,{context:n,conversationId:r,payload:e.payload});case 5:return e.promise.resolve({conversationId:r}),s.abrupt("return");case 7:if(!a){s.next=12;break}return s.next=10,ba(fb,eo.y,{context:n,updateLatest:a,payload:e.payload});case 10:return e.promise.resolve({conversationId:r}),s.abrupt("return");case 12:return s.next=14,fa(me.c);case 14:if(c=s.sent,o=Object(St.q)(c),!Object(St.b)(o)){s.next=21;break}return s.next=20,ba(rl,e);case 20:return s.abrupt("return");case 21:return s.next=23,la(al,e);case 23:s.next=29;break;case 25:s.prev=25,s.t0=s.catch(0),e.promise.reject(ni(s.t0)),Object(jc.b)(s.t0);case 29:case"end":return s.stop()}}),qu,null,[[0,25]])}function ol(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.k,cl);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Ku,null,[[0,5]])}function sl(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.lastReadMessageId,n.next=4,ba(nu,{type:"MESSAGE_READ",payload:{messageId:t}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),Xu,null,[[0,6]])}function il(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.Q,sl);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Yu,null,[[0,5]])}function ul(e){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ba(eo.m);case 3:return t=e.sent,e.next=6,oa({payload:{openConversationCount:t},type:Yc.cb});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(jc.b)(e.t0);case 11:case"end":return e.stop()}}),Qu,null,[[0,8]])}function bl(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oc(Yc.C,ul);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Zu,null,[[0,5]])}function ll(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(wb),la(Eb),la(Ab),la(kb),la(Ei),la(mb),la(hb),la(gb),la(jo),la(So),la(Ro),la(Jb),la(ol),la(_b),la(tl),la(il),la(Hi),la(bl)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),$u,null,[[0,5]])}var dl=Object(d.a)().mark(ml),pl=Object(d.a)().mark(yl),fl=Object(d.a)().mark(kl),vl=Object(d.a)().mark(Il),Ol=Object(d.a)().mark(wl),jl=Object(d.a)().mark(Cl),hl={},xl="START_TYPING",gl="STOP_TYPING";function ml(e,t){return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ba(nu,{type:e,payload:{conversationId:t}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(jc.b)(n.t0);case 8:case"end":return n.stop()}}),dl,null,[[0,5]])}function yl(e,t){return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,la(ml,xl,e);case 4:return n.next=6,Oa(25e3);case 6:return n.next=8,ca(t);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),Object(jc.b)(n.t0);case 13:n.next=0;break;case 15:case"end":return n.stop()}}),pl,null,[[1,10]])}function kl(e,t){var n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n=Na(qr.dropping(1)),c.next=4,la(yl,e,n);case 4:r=c.sent;case 5:return c.next=8,ca(t);case 8:if((a=c.sent).type!==Yc.db){c.next=13;break}n.put(a),c.next=14;break;case 13:return c.abrupt("break",16);case 14:c.next=5;break;case 16:c.next=21;break;case 18:c.prev=18,c.t0=c.catch(0),Object(jc.b)(c.t0);case 21:return c.prev=21,c.next=24,la(ml,gl,e);case 24:return n&&n.close(),r&&r.cancel(),c.finish(21);case 27:case"end":return c.stop()}}),fl,null,[[0,18,21,27]])}function Il(e,t){return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,void 0,n.next=5,ca(t);case 5:if(n.sent.type===Yc.db){n.next=8;break}return n.abrupt("continue",0);case 8:return n.next=10,ba(kl,e,t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),Object(jc.b)(n.t0);case 15:n.next=0;break;case 17:case"end":return n.stop()}}),vl,null,[[1,12]])}function wl(){var e,t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return a.prev=2,a.next=5,ia([ca(Yc.db),ca(Yc.eb)]);case 5:if(e=a.sent,t=Gc()(e)[0],n=t.payload.conversationId,r=hl[n]){a.next=14;break}return r=Na(qr.sliding(1)),hl[n]=r,a.next=14,la(Il,n,r);case 14:r.put(t),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(2),Object(jc.b)(a.t0);case 20:a.next=1;break;case 22:a.next=27;break;case 24:a.prev=24,a.t1=a.catch(0),Object(jc.b)(a.t1);case 27:case"end":return a.stop()}}),Ol,null,[[0,24],[2,17]])}function Cl(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,la(wl);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),jl,null,[[0,5]])}var El=n(548),Tl=n.n(El),Sl=n(465),_l=n.n(Sl),Al=(n(380),n(606)),Ml=n.n(Al),Rl=Object(d.a)().mark(Fl),Pl=Object(d.a)().mark(zl),Nl=Object(d.a)().mark(Vl),Dl=Object(d.a)().mark(Hl),Ll=Object(d.a)().mark(Wl),Ul=Object(d.a)().mark(ql),Bl={};function Gl(e,t){return"".concat(e,"_").concat(t)}function Fl(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(3e4);case 2:throw new Error("");case 3:case"end":return e.stop()}}),Rl)}function zl(e,t,n,r){var a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,oa({type:Yc.a,payload:{conversationId:t,userId:n,actionTime:r}});case 3:return u.next=5,la(Fl);case 5:a=u.sent;case 6:return u.next=9,ca(e);case 9:if((c=u.sent).type!==xc.i){u.next=21;break}if(a.isCancelled()){u.next=14;break}return u.next=14,pa(a);case 14:return u.next=16,la(Fl);case 16:return a=u.sent,u.next=19,oa({type:Yc.a,payload:{conversationId:t,userId:n,actionTime:c.payload.actionTime}});case 19:u.next=28;break;case 21:return u.next=23,fa(me.c);case 23:if(o=u.sent,s=Object(St.m)(o,t),!((i=Object(St.u)(s,n))&&Zc.a.getCreationTime(i)<c.payload.actionTime)){u.next=28;break}return u.abrupt("break",30);case 28:u.next=6;break;case 30:u.next=35;break;case 32:u.prev=32,u.t0=u.catch(0),Object(jc.b)(u.t0);case 35:return u.prev=35,u.next=38,oa({type:Yc.b,payload:{conversationId:t,userId:n}});case 38:if(!a||a.isCancelled()){u.next=41;break}return u.next=41,pa(a);case 41:return u.finish(35);case 42:case"end":return u.stop()}}),Pl,null,[[0,32,35,42]])}function Vl(e,t,n){var r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,r=void 0,a.next=5,ca(e);case 5:if((r=a.sent).type===xc.i){a.next=8;break}return a.abrupt("continue",0);case 8:return a.next=10,ba(zl,e,t,n,r.payload.actionTime);case 10:a.next=14;break;case 12:a.prev=12,a.t0=a.catch(1);case 14:a.next=0;break;case 16:case"end":return a.stop()}}),Nl,null,[[1,12]])}function Hl(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.conversationId,r=t.sender,i.next=4,fa(me.h);case 4:if(a=i.sent,c=Ot()(Object(ci.e)(a,r)),o=Gl(n,c),s=Bl[o]){i.next=13;break}return s=Na(qr.sliding(1)),Bl[o]=s,i.next=13,la(Vl,s,n,c);case 13:s.put(e),i.next=19;break;case 16:i.prev=16,i.t0=i.catch(0),Object(jc.b)(i.t0);case 19:case"end":return i.stop()}}),Dl,null,[[0,16]])}function Wl(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.map((function(e){return ba(Hl,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Ll,null,[[0,5]])}function ql(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.map((function(e){return ba(Hl,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Ul,null,[[0,5]])}var Kl=Object(d.a)().mark(Zl),Xl=Object(d.a)().mark($l),Yl=Object(d.a)().mark(Jl),Ql=["AGENT_ASSIGNED","AGENT_UNASSIGNED","AGENT_ASSIGNMENT_CHANGED","WORK_QUEUE_ASSIGNED"];function Zl(e,t,n){var r,a,c,o,i,u,b,l;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,!(p=e)||!Ql.includes(p.type)){d.next=21;break}return r=e.newAgentId,a=e.oldAgentId,c=e.queueId,o=[],i=[],a&&(o.push({conversationId:t,sender:a}),i.push(a)),r&&(o.push({conversationId:t,sender:r}),i.push(r)),d.next=9,ba(Ko,o);case 9:return d.next=11,oa(Object(oi.a)({conversationId:t,agentAssigned:!!r,participants:i,workQueueAssigned:!!c}));case 11:return d.next=13,fa((function(e){return r?Object(Vt.g)(Object(me.h)(e),r):void 0}));case 13:return u=d.sent,d.next=16,fa((function(e){return a?Object(Vt.g)(Object(me.h)(e),a):void 0}));case 16:if(b=d.sent,l={currentlyAssignedUser:u,previouslyAssignedUser:b,assignmentTime:n},!r){d.next=21;break}return d.next=21,oa(Object(s.c)({conversationId:t,additional:l,action:st.a.AGENT_ASSIGNED}));case 21:d.next=26;break;case 23:d.prev=23,d.t0=d.catch(0),Object(jc.b)(d.t0);case 26:case"end":return d.stop()}var p}),Kl,null,[[0,23]])}function $l(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.conversationId,n=e.messagePayload,r=e.creationTime,a=n.events,c.next=5,sa(a.map((function(e){return ba(Zl,e,t,r)})));case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),Object(jc.b)(c.t0);case 10:case"end":return c.stop()}}),Xl,null,[[0,7]])}function Jl(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.data,!Object(Jc.f)(t)){n.next=5;break}return n.next=5,sa([ba($l,t)]);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),Object(jc.b)(n.t0);case 10:case"end":return n.stop()}}),Yl,null,[[0,7]])}n(390);var ed=function(){var e=new Set;return{add:function(t){return e.add(t)},has:function(t){return e.has(t)},delete:function(t){return e.delete(t)},clear:function(){return e.clear()}}}(),td=function(){var e=[];return{set:function(t){e=t},get:function(){return e},push:function(t){e=[].concat(Object(Po.a)(e),Object(Po.a)(Do()(t)))},clear:function(){e=[]}}}(),nd=Object(d.a)().mark(Od),rd=Object(d.a)().mark(jd),ad=Object(d.a)().mark(hd),cd=Object(d.a)().mark(xd),od=Object(d.a)().mark(gd),sd=Object(d.a)().mark(md),id=Object(d.a)().mark(yd),ud=Object(d.a)().mark(kd),bd=Object(d.a)().mark(Id),ld=Object(d.a)().mark(wd),dd=Object(d.a)().mark(Cd);function pd(e){return e.type===xc.r}function fd(e){return e.type===xc.i}function vd(e){return e.type===xc.j}function Od(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(t=e.data)){a.next=11;break}return a.next=5,ba(Jl,e);case 5:return a.next=7,fa(me.h);case 7:return n=a.sent,r=Object(ci.e)(n,Zc.a.getSender(t)),a.next=11,oa(Object(oi.g)(t,r));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),Object(jc.b)(a.t0);case 16:case"end":return a.stop()}}),nd,null,[[0,13]])}function jd(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.filter(pd),r.next=4,sa(t.map((function(e){return ba(Od,e)})));case 4:if(n=t.reduce((function(e,t){var n=t.data;return n&&e.push(Zc.a.getId(n)),e}),[]),pe()(n)){r.next=8;break}return r.next=8,ba(eo.r,n);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),Object(jc.b)(r.t0);case 13:case"end":return r.stop()}}),rd,null,[[0,10]])}function hd(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,(t=e.filter(fd)).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,ba(Wl,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),ad,null,[[0,8]])}function xd(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,(t=e.filter(vd)).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,ba(ql,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),cd,null,[[0,8]])}function gd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa([ba(jd,e),ba(hd,e),ba(xd,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),od,null,[[0,5]])}function md(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.id,n=e.data,ed.add(t),Uc()(td.get(),(function(e){if(e.id===t)return e.data=n,!1})),t!==ue()(Ot()(td.get()),"id")){o.next=9;break}return r=vn()(td.get(),(function(e,t){return ed.has(t.id)&&pe()(e.unresolvedEvents)?(ed.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[].concat(Object(Po.a)(e.resolvedEvents),[t])})):Object.assign(Object.assign({},e),{unresolvedEvents:[].concat(Object(Po.a)(e.unresolvedEvents),[t])})}),{resolvedEvents:[],unresolvedEvents:[]}),a=r.resolvedEvents,c=r.unresolvedEvents,td.set(c),o.next=9,la(gd,a);case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(0),Object(jc.b)(o.t0);case 14:case"end":return o.stop()}}),sd,null,[[0,11]])}function yd(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!pd(e)){n.next=7;break}return n.next=4,ba(Mb,e);case 4:return t=n.sent,n.next=7,ba(md,{id:e.id,data:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),id,null,[[0,9]])}function kd(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!fd(e)){n.next=7;break}return t=Ml()(e.payload,["conversationId","sender"]),n.next=5,ba(Ko,t);case 5:return n.next=7,ba(md,{id:e.id,data:{}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),ud,null,[[0,9]])}function Id(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!vd(e)){t.next=4;break}return t.next=4,ba(md,{id:e.id,data:{}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0);case 9:case"end":return t.stop()}}),bd,null,[[0,6]])}function wd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa([ba(yd,e),ba(kd,e),ba(Id,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),ld,null,[[0,5]])}function Cd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,td.push(e),t.next=4,sa(e.map((function(e){return la(wd,e)})));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0);case 9:case"end":return t.stop()}}),dd,null,[[0,6]])}var Ed=n(1047),Td=n.n(Ed),Sd=Object(d.a)().mark(Gd),_d=Object(d.a)().mark(Fd),Ad=Object(d.a)().mark(zd),Md=Object(d.a)().mark(Vd),Rd=Object(d.a)().mark(Hd),Pd=Object(d.a)().mark(Wd);function Nd(e){return e.type===xc.q}function Dd(e){return e.type===xc.h}function Ld(e){return e.type===xc.k}function Ud(e){return e.type===xc.o}function Bd(e){return e.type===xc.l}function Gd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Ud).map((function(e){return ba(Rb,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Sd,null,[[0,5]])}function Fd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Nd).map((function(e){return ba(Pb,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),_d,null,[[0,5]])}function zd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(Td()(e.filter(Ld).map((function(e){return[ba(Xo,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),oa(Object(s.c)({conversationId:e.payload.conversationId,action:st.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]}))));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Ad,null,[[0,5]])}function Vd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Bd).map((function(e){return ba(Nb,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Md,null,[[0,5]])}function Hd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Dd).map((function(e){return ba(Db,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Rd,null,[[0,5]])}function Wd(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa([ba(Gd,e),ba(Fd,e),ba(zd,e),ba(Vd,e),ba(Hd,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Pd,null,[[0,5]])}var qd=Object(d.a)().mark(Zd),Kd=Object(d.a)().mark($d),Xd=Object(d.a)().mark(Jd),Yd=Object(d.a)().mark(ep),Qd=[xc.r,xc.i,xc.j];function Zd(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.events,n=[],r=[],Uc()(t,(function(e){Tl()(Qd,e.type)?n=[].concat(Object(Po.a)(n),[Object.assign(Object.assign({},e),{id:_l()()})]):r=[].concat(Object(Po.a)(r),[e])})),a.next=7,ba(Cd,n);case 7:return a.next=9,ba(Wd,r);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(jc.b)(a.t0);case 14:case"end":return a.stop()}}),qd,null,[[0,11]])}function $d(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.j,Zd);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Kd,null,[[0,5]])}function Jd(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca(cc.c);case 3:ed.clear(),td.clear(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(jc.b)(e.t0);case 9:case"end":return e.stop()}}),Xd,null,[[0,6]])}function ep(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la($d),la(Jd)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Yd,null,[[0,5]])}n(519);var tp=n(512),np=n(511),rp=Object(d.a)().mark(ip),ap=Object(d.a)().mark(up),cp=Object(d.a)().mark(bp),op=Object(d.a)().mark(lp),sp=function(e){var t=x.a.getNoDisplayConfigFilter(e);return!pe()(t)&&Object(np.d)(t,tp.a.IS_CONVERSATION_OPEN)};function ip(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fa(me.c);case 3:if(t=r.sent,n=Object(St.q)(t),Object(St.b)(n)){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,oa(Object(oi.b)({shouldFetchNumberOfOpenConversation:sp(e.applicationConfig),size:n.ids.length}));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),Object(jc.b)(r.t0);case 14:case"end":return r.stop()}}),rp,null,[[0,11]])}function up(){var e,t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fa(me.c);case 3:if(e=a.sent,t=Object(St.q)(e),n=Object(St.o)(e),!(r=vn()(n,(function(e,n,r){var a=n.messages;if(!r.startsWith(Ks.e)&&Object(St.a)(a)&&!Object(St.A)(t,r)){var c=Object(oi.c)(r,{size:Object(St.l)(a).length})();e.push(oa(c))}return e}),[])).length){a.next=10;break}return a.next=10,sa(r);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),Object(jc.b)(a.t0);case 15:case"end":return a.stop()}}),ap,null,[[0,12]])}function bp(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sa([la(ip,e),la(up)]);case 2:case"end":return t.stop()}}),cp)}function lp(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ca(cc.a);case 2:return e=n.sent,t=e.payload.applicationConfig,n.next=6,fc(hc.k,bp,{applicationConfig:t});case 6:case"end":return n.stop()}}),op)}var dp=Object(d.a)().mark(pp);function pp(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(ll),la(Cl),la(ep),la(lp)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),dp,null,[[0,5]])}var fp=Object(d.a)().mark(Op),vp=Object(d.a)().mark(jp);function Op(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.t0=Vt.c,r.next=5,fa(me.h);case 5:return r.t1=r.sent,n=(0,r.t0)(r.t1),r.next=9,ba(Bo.e,Object.assign(Object.assign({},n),{customContext:t}));case 9:return r.next=11,oa(Object(s.c)({action:st.a.USER_PROFILE_UPDATED}));case 11:r.next=16;break;case 13:r.prev=13,r.t2=r.catch(0),Object(jc.b)(r.t2);case 16:case"end":return r.stop()}}),fp,null,[[0,13]])}function jp(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Uo.g,Op);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),vp,null,[[0,5]])}var hp=Object(d.a)().mark(gp),xp=Object(d.a)().mark(mp);function gp(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,ba(Bo.d,t);case 4:return n=a.sent,e.promise.resolve(n),r=n.results,a.next=9,oa({type:Uo.h,payload:{users:r}});case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),e.promise.reject(a.t0),Object(jc.b)(a.t0);case 15:case"end":return a.stop()}}),hp,null,[[0,11]])}function mp(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Uo.e,gp);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),xp,null,[[0,5]])}var yp=Object(d.a)().mark(Ip),kp=Object(d.a)().mark(wp);function Ip(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.userId,r.next=4,ba(Bo.a,t);case 4:return n=r.sent,e.promise.resolve(n),r.next=8,oa({type:Uo.h,payload:{users:[n]}});case 8:r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),e.promise.reject(r.t0),Object(jc.b)(r.t0);case 14:case"end":return r.stop()}}),yp,null,[[0,10]])}function wp(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Uo.b,Ip);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),kp,null,[[0,5]])}var Cp=Object(d.a)().mark(Tp),Ep=Object(d.a)().mark(Sp);function Tp(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,ba(Bo.c,t);case 4:return n=a.sent,e.promise.resolve(n),r=n.results,a.next=9,oa({type:Uo.h,payload:{users:r}});case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),e.promise.reject(a.t0),Object(jc.b)(a.t0);case 15:case"end":return a.stop()}}),Cp,null,[[0,11]])}function Sp(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Uo.d,Tp);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),Ep,null,[[0,5]])}var _p=Object(d.a)().mark(Ap);function Ap(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(jp),la(mp),la(Sp),la(wp)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),_p,null,[[0,5]])}var Mp=n(760),Rp=n(710),Pp=Object(d.a)().mark(Xp),Np=Object(d.a)().mark(Yp),Dp=Object(d.a)().mark(Qp),Lp=Object(d.a)().mark(Zp),Up=Object(d.a)().mark($p),Bp=Object(d.a)().mark(Jp),Gp=Object(d.a)().mark(ef),Fp=Object(d.a)().mark(tf);function zp(e){return e.type===xc.d}function Vp(e){return e.type===xc.c}function Hp(e){return e.type===xc.b}function Wp(e){return e.type===xc.e}function qp(e){return e.type===xc.f}function Kp(e){return e.type===xc.g}function Xp(e,t){var n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.t0=Vt.c,r.next=4,fa(me.h);case 4:return r.t1=r.sent,n=(0,r.t0)(r.t1),r.next=8,sa(e.filter(zp).map((function(e){var r,a,c=e.payload.participantInfos.find((function(e){return e.snId===n.userId})),o=e.payload.type,s=null!==(r=null===c||void 0===c?void 0:c.permissions)&&void 0!==r?r:Object(Qi.b)(o,null===(a=t.callConfiguration)||void 0===a?void 0:a.allUserPermissions);return oa(Object(Wi.o)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,permissions:s,participantInfos:e.payload.participantInfos,type:o}))})));case 8:r.next=13;break;case 10:r.prev=10,r.t2=r.catch(0),Object(jc.b)(r.t2);case 13:case"end":return r.stop()}}),Pp,null,[[0,10]])}function Yp(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fa(me.b);case 3:return t=n.sent,n.next=6,sa(e.filter(Vp).map((function(e){var n=Object(Mp.a)(t,e.payload.videoConversationId),r=n.callDetails,a=n.isIncomingCall,c=n.isOutgoingCall,o=a&&r.state===ke.f.WAITING;if((a||c)&&!Object(Qi.d)({isIncomingCall:a,state:r.state}))return oa(o?Object(Wi.q)({videoConversationId:e.payload.videoConversationId}):Object(Wi.m)({callDetails:r,isIncomingCall:a,notifyAgent:!1,notifyUser:!0,videoConversationId:e.payload.videoConversationId}))})).filter((function(e){return e})));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),Np,null,[[0,8]])}function Qp(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fa(me.b);case 3:return t=n.sent,n.next=6,sa(e.filter(Wp).map((function(e){var n=Object(Mp.a)(t,e.payload.videoConversationId),r=n.callDetails,a=n.isIncomingCall,c=n.isOutgoingCall;if((a||c)&&!Object(Qi.d)({isIncomingCall:a,state:r.state}))return oa(Object(Wi.h)({isIncomingCall:a,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((function(e){return e})));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),Dp,null,[[0,8]])}function Zp(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fa(me.b);case 3:return t=r.sent,n=e.filter(Hp).map((function(e){var n=Object(Mp.a)(t,e.payload.videoConversationId),r=n.callDetails;if(n.isOutgoingCall&&!Object(Qi.d)({isIncomingCall:!1,state:r.state}))return oa(Object(Wi.c)({isIncomingCall:!1,conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId}))})).filter((function(e){return e})),r.next=7,sa(n);case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),Lp,null,[[0,9]])}function $p(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(qp).map((function(e){return oa(Object(Wi.v)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}}))})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Up,null,[[0,5]])}function Jp(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Kp).map((function(e){return oa({type:Rp.x,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions}})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Bp,null,[[0,5]])}function ef(e,t){var n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=t.payload.events,r.next=4,sa([ba(Yp,n),ba(Xp,n,e),ba(Zp,n),ba($p,n),ba(Qp,n),ba(Jp,n)]);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),Object(jc.b)(r.t0);case 9:case"end":return r.stop()}}),Gp,null,[[0,6]])}function tf(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,fc(hc.j,ef,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),Fp,null,[[0,9]])}var nf="/video-chat/conversation";function rf(e){var t=e.videoConversationId,n=e.shouldWaitForConnection;return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function e(){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(nf,"/accept/").concat(t,"?shouldWaitForConnection=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}function af(e){var t=e.videoConversationId;return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac.a.post("".concat(nf,"/leave/").concat(t)));case 1:case"end":return e.stop()}}),e)})))}function cf(e){var t=e.conversationId,n=e.audioOnly,r=e.messageText,a=e.sourceButtonId,c=e.postBackChatMessageId,o=e.shouldWaitForConnection,s=e.videoConversationId,i=e.activityEventType,u=e.autoInitiateCall;return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function e(){var b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(nf,"/initiate/").concat(t),{audioOnly:n,messageText:r,clickedButtonId:a,postBackChatMessageId:c,shouldWaitForConnection:o,videoChatConversationId:s,activityEventType:i,autoInitiateCall:u});case 2:return b=e.sent,e.abrupt("return",b.data);case 4:case"end":return e.stop()}}),e)})))}function of(e){var t=e.videoConversationId,n=e.meetingId;return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function e(){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(nf,"/participant/connected/").concat(t,"?meetingId=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}function sf(e){return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function t(){var n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ac.a.post("".concat(nf,"/fetch/ongoing/conversation?caseId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function uf(e){var t=e.videoConversationId,n=e.reason,r=e.subReason;return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function e(){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac.a.post("".concat(nf,"/callFailed/").concat(t),{reason:n,subReason:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))}var bf=n(845),lf=Object(d.a)().mark(Ef),df=Object(d.a)().mark(Tf),pf=Object(d.a)().mark(Sf),ff=Object(d.a)().mark(_f),vf=Object(d.a)().mark(Af),Of=Object(d.a)().mark(Mf),jf=Object(d.a)().mark(Rf),hf=Object(d.a)().mark(Pf),xf=Object(d.a)().mark(Nf),gf=Object(d.a)().mark(Df),mf=Object(d.a)().mark(Lf),yf=Object(d.a)().mark(Uf),kf=Object(d.a)().mark(Bf),If=Object(d.a)().mark(Gf),wf=Object(d.a)().mark(Ff),Cf=Object(d.a)().mark(zf);function Ef(e,t,n){var r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fa(me.c);case 3:if(r=c.sent,!(a=Object(Yi.b)(r,e,t))){c.next=8;break}return c.next=8,ba(Eo,{chatMessage:a,conversationId:e,params:{state:n}});case 8:c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),Object(jc.b)(c.t0);case 13:case"end":return c.stop()}}),lf,null,[[0,10]])}function Tf(e){var t,n,r,a,c,o,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.payload,n=t.notifyAgent,r=t.notifyUser,a=t.callDetails,c=t.videoConversationId,o=t.isIncomingCall,i=a.conversationId,u.next=5,oa(Object(s.c)({conversationId:i,action:st.a.CALL_ENDED,additional:{videoConversationId:c,userInitiated:!r}}));case 5:return u.next=7,ba(Ef,i,c,bf.a.CALL_ENDED);case 7:if(n){u.next=9;break}return u.abrupt("return");case 9:if(o||a.hasInitiateSucceeded||a.state!==ke.h.WAITING){u.next=15;break}return u.next=12,ca(Object(Yi.g)(c));case 12:if(u.sent.type!==Rp.e){u.next=15;break}return u.abrupt("return");case 15:if(!o||a.state!==ke.f.ACCEPTED){u.next=21;break}return u.next=18,ca(Object(Yi.c)(c));case 18:if(u.sent.type!==Rp.e){u.next=21;break}return u.abrupt("return");case 21:return u.next=23,ba(af,{videoConversationId:c});case 23:u.next=28;break;case 25:u.prev=25,u.t0=u.catch(0),Object(jc.b)(u.t0);case 28:case"end":return u.stop()}}),df,null,[[0,25]])}function Sf(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.payload.isOutgoingWaiting){t.next=4;break}return t.next=4,ba(Tf,e);case 4:return t.next=6,oa({type:Yc.bb,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(jc.b)(t.t0);case 11:case"end":return t.stop()}}),pf,null,[[0,8]])}function _f(e){var t,n,r,a,c,o,s,i,u,b;return Object(d.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,t=e.payload,n=t.actionParams,r=n.messageId,a=n.actionId,c=t.conversationId,l.next=4,fa(me.b);case 4:if(o=l.sent,s=Object(ye.f)(o),!(i=s.messageId)||r!==i||a===s.sourceButtonId){l.next=15;break}return l.next=10,fa(me.c);case 10:if(u=l.sent,!(b=Object(St.k)(Object(St.m)(u,c),r))||$c.a.getAttachment(Zc.a.getMessagePayload(b)).reSubmittable){l.next=15;break}return l.next=15,oa(Object(Wi.m)({notifyAgent:!0,notifyUser:!1,callDetails:s,isIncomingCall:!1,videoConversationId:s.videoConversationId}));case 15:l.next=20;break;case 17:l.prev=17,l.t0=l.catch(0),Object(jc.b)(l.t0);case 20:case"end":return l.stop()}}),ff,null,[[0,17]])}function Af(e,t){return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,oa(Object(Wi.r)({conversationId:t.payload.conversationId,controls:Object(Yi.h)(t.payload.isPhone),type:t.payload.type,messageText:t.payload.messageText,messageId:t.payload.messageId,autoInitiateCall:t.payload.autoInitiateCall,sourceButtonId:t.payload.sourceButtonId,allUserPermissions:e,videoConversationId:_l.a.v4()}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(jc.b)(n.t0);case 8:case"end":return n.stop()}}),vf,null,[[0,5]])}function Mf(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.error,n=e.videoConversationId,r=e.reason,a=e.isIncomingCall,i.prev=1,i.next=4,fa(me.b);case 4:if(c=i.sent,o=a?Object(ye.d)(c):Object(ye.f)(c),!pe()(o)&&o.videoConversationId===n&&!Object(Qi.d)({isIncomingCall:a,state:o.state})){i.next=8;break}return i.abrupt("return");case 8:if(!Object($s.f)(t)){i.next=16;break}if((s=ue()(t,"response.data.error"))!==ke.a.CALL_ALREADY_ENDED){i.next=14;break}return i.next=13,oa({type:Rp.c,payload:{videoConversationId:n,notifyAgent:!1,notifyUser:!0,callDetails:o,isIncomingCall:a}});case 13:return i.abrupt("return");case 14:return i.next=16,oa({type:Rp.e,payload:{videoConversationId:n,reason:r,subReason:s}});case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(1),Object(jc.b)(i.t0);case 21:case"end":return i.stop()}}),Of,null,[[1,18]])}function Rf(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.videoConversationId,r.next=4,oa(Object(Wi.b)({videoConversationId:t,controls:Object(Yi.h)(e.payload.isPhone)}));case 4:return r.next=6,ba(rf,{videoConversationId:t,shouldWaitForConnection:!0});case 6:return n=r.sent,r.next=9,oa({type:Rp.x,payload:{participantPermissions:n.participant.permissions,participantInfos:n.conversation.participantInfos,videoConversationId:n.conversation.id}});case 9:return r.next=11,oa(Object(Wi.u)({videoConversationId:t}));case 11:r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(0),Object(jc.b)(r.t0),r.next=18,ba(Mf,{videoConversationId:e.payload.videoConversationId,isIncomingCall:!0,error:r.t0,reason:ke.e.ACCEPT_FAILED});case 18:case"end":return r.stop()}}),jf,null,[[0,13]])}function Pf(e){var t,n,r,a,c,o,i,u,b,l,p;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,n=e.payload,r=n.videoConversationId,a=n.autoInitiateCall,d.next=4,fa(me.b);case 4:return c=d.sent,o=Object(ye.f)(c),i=o.messageId,u=o.conversationId,b=Object(ye.h)(c,r),d.next=9,oa(Object(s.c)({conversationId:u,action:b?st.a.AUDIO_CALL_OUTGOING_STARTING:st.a.VIDEO_CALL_OUTGOING_STARTING,additional:{videoConversationId:r}}));case 9:if(!i){d.next=16;break}return d.next=12,fa(me.c);case 12:return l=d.sent,t=Object(St.k)(Object(St.m)(l,u),i),d.next=16,ba(Eo,{chatMessage:t,conversationId:u,params:{buttonId:o.sourceButtonId}});case 16:return d.next=18,ba(cf,{conversationId:u,audioOnly:b,messageText:o.messageText,sourceButtonId:o.sourceButtonId,postBackChatMessageId:i,shouldWaitForConnection:!0,videoConversationId:r,activityEventType:"CALL_STARTED",autoInitiateCall:a});case 18:return p=d.sent,d.next=21,oa({type:Rp.x,payload:{agentWaitTime:p.conversation.agentWaitTime,participantInfos:p.conversation.participantInfos,participantPermissions:p.participant.permissions,videoConversationId:p.conversation.id}});case 21:d.next=31;break;case 23:if(d.prev=23,d.t0=d.catch(0),!t){d.next=28;break}return d.next=28,oa({type:Yc.K,payload:{chatMessage:t,conversationId:e.payload.conversationId}});case 28:return d.next=30,ba(Mf,{videoConversationId:e.payload.videoConversationId,reason:ke.g.INITIATE_FAILED,error:d.t0,isIncomingCall:!1});case 30:Object(jc.b)(d.t0);case 31:case"end":return d.stop()}}),hf,null,[[0,23]])}function Nf(e){var t,n,r,a,c,o,i,u,b,l,p,f,v;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.payload,n=t.conversationId,r=t.type,a=t.isPhone,c=t.prevState,o=t.videoConversationId,i=t.participantInfos,u=t.participantPermissions,d.next=4,fa(me.b);case 4:if(b=d.sent,l=Object(ye.c)(b),!Object(Yi.i)({callDetails:l})){d.next=8;break}return d.abrupt("return",void 0);case 8:return p=r===ke.c.AUDIO,f=Object(Yi.d)(c),d.next=12,oa(Object(s.c)({conversationId:n,action:Object(Yi.e)(p,f),additional:{videoConversationId:o}}));case 12:return d.next=14,oa(Object(Wi.s)({conversationId:n,videoConversationId:o,state:f?ke.f.ACCEPTED:ke.f.SETUP,controls:Object(Yi.h)(a),type:r,participantPermissions:u,participantInfos:i}));case 14:return d.next=16,ba(sf,n);case 16:if(v=d.sent,!pe()(v)){d.next=21;break}return d.next=20,oa({type:Rp.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0,isIncomingCall:!0}});case 20:case 37:case 47:case 48:return d.abrupt("return",void 0);case 21:return d.next=23,oa({type:Rp.x,payload:{participantPermissions:v.participant.permissions,participantInfos:v.conversation.participantInfos,videoConversationId:v.conversation.id}});case 23:if(!f){d.next=40;break}return d.prev=24,d.next=27,ba(rf,{videoConversationId:v.conversation.id,shouldWaitForConnection:!0});case 27:return v=d.sent,d.next=30,oa({type:Rp.x,payload:{participantPermissions:v.participant.permissions,participantInfos:v.conversation.participantInfos,videoConversationId:v.conversation.id}});case 30:d.next=38;break;case 32:return d.prev=32,d.t0=d.catch(24),Object(jc.b)(d.t0),d.next=37,ba(Mf,{videoConversationId:e.payload.videoConversationId,reason:ke.e.ACCEPT_FAILED,error:d.t0,isIncomingCall:!0});case 38:return d.next=40,oa(Object(Wi.u)({videoConversationId:v.conversation.id}));case 40:d.next=48;break;case 42:return d.prev=42,d.t1=d.catch(0),Object(jc.b)(d.t1),d.next=47,ba(Mf,{videoConversationId:e.payload.videoConversationId,reason:ke.e.REJOIN_FAILED,error:d.t1,isIncomingCall:!0});case 49:case"end":return d.stop()}}),xf,null,[[0,42],[24,32]])}function Df(e){var t,n,r,a,c,o,i,u,b,l,p,f;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.payload,n=t.conversationId,r=t.type,a=t.isPhone,c=t.prevState,o=t.videoConversationId,i=t.participantInfos,u=t.participantPermissions,d.next=4,fa(me.b);case 4:if(b=d.sent,l=Object(ye.c)(b),!Object(Yi.i)({callDetails:l})){d.next=8;break}return d.abrupt("return",void 0);case 8:return p=r===ke.c.AUDIO,d.next=11,oa(Object(s.c)({conversationId:n,action:Object(Yi.e)(p),additional:{videoConversationId:o}}));case 11:return d.next=13,oa(Object(Wi.t)({conversationId:n,videoConversationId:o,state:Object(Yi.f)(c),controls:Object(Yi.h)(a),type:r,participantPermissions:u,participantInfos:i}));case 13:return d.next=15,ba(sf,e.payload.conversationId);case 15:if(f=d.sent,!pe()(f)){d.next=20;break}return d.next=19,oa({type:Rp.c,payload:{videoConversationId:e.payload.videoConversationId,notifyAgent:!1,notifyUser:!0}});case 19:case 29:return d.abrupt("return",void 0);case 20:return d.next=22,oa({type:Rp.x,payload:{agentWaitTime:f.conversation.agentWaitTime,participantPermissions:f.participant.permissions,participantInfos:f.conversation.participantInfos,videoConversationId:f.conversation.id}});case 22:d.next=29;break;case 24:return d.prev=24,d.t0=d.catch(0),Object(jc.b)(d.t0),d.next=29,ba(Mf,{videoConversationId:e.payload.videoConversationId,reason:ke.g.REJOIN_FAILED,error:d.t0,isIncomingCall:!1});case 30:case"end":return d.stop()}}),gf,null,[[0,24]])}function Lf(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.isIncomingCall,r=Object(Qc.__rest)(t,["isIncomingCall"]),!n){a.next=7;break}return a.next=5,oa(Object(Wi.f)(r));case 5:a.next=9;break;case 7:return a.next=9,oa(Object(Wi.k)(r));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(jc.b)(a.t0);case 14:case"end":return a.stop()}}),mf,null,[[0,11]])}function Uf(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fa(me.b);case 2:return t=o.sent,n=e.payload.videoConversationId,r=Object(Mp.a)(t,n),a=r.isOutgoingCall,o.prev=5,c=a?Wi.l:Wi.g,o.next=9,oa(c({videoConversationId:n}));case 9:return o.next=11,ba(of,e.payload);case 11:o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(5),o.next=17,ba(Mf,{videoConversationId:n,reason:a?ke.g.JOIN_FAILED:ke.e.JOIN_FAILED,error:o.t0,isIncomingCall:!a});case 17:Object(jc.b)(o.t0);case 18:case"end":return o.stop()}}),yf,null,[[5,13]])}function Bf(e){var t,n,r,a,c,o;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fa(me.b);case 3:if(t=i.sent,n=Object(Mp.a)(t,e.payload.videoConversationId),r=n.callDetails,a=n.isIncomingCall,!r.reason||r.reason===e.payload.reason){i.next=7;break}return i.abrupt("return");case 7:return c=r.conversationId,o=r.videoConversationId,i.next=11,oa(Object(s.c)({conversationId:c,action:st.a.CALL_FAILED,additional:{videoConversationId:e.payload.videoConversationId}}));case 11:return i.next=13,ba(Ef,c,o,bf.a.CALL_FAILED);case 13:if(a||r.hasInitiateSucceeded){i.next=19;break}return i.next=16,ca(Object(Yi.g)(o));case 16:if(i.sent.type!==Rp.e){i.next=19;break}return i.abrupt("return");case 19:return i.next=21,ba(uf,{videoConversationId:e.payload.videoConversationId,reason:e.payload.reason,subReason:e.payload.subReason});case 21:i.next=26;break;case 23:i.prev=23,i.t0=i.catch(0),Object(jc.b)(i.t0);case 26:case"end":return i.stop()}}),kf,null,[[0,23]])}function Gf(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.isIncomingCall,r=t.conversationId,a=t.videoConversationId,c.next=4,oa(Object(s.c)({conversationId:r,action:st.a.CALL_DECLINED,additional:{videoConversationId:a,userInitiated:n}}));case 4:return c.next=6,ba(Ef,r,a,bf.a.CALL_DECLINED);case 6:return c.next=8,ba(af,{videoConversationId:a});case 8:c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),Object(jc.b)(c.t0);case 13:case"end":return c.stop()}}),If,null,[[0,10]])}function Ff(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.conversationId,r=t.videoConversationId,a=t.isIncomingCall,c.next=4,oa(Object(s.c)({conversationId:n,action:st.a.CALL_MISSED,additional:{videoConversationId:r,userInitiated:a}}));case 4:return c.next=6,ba(Ef,n,r,bf.a.CALL_MISSED);case 6:c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),Object(jc.b)(c.t0);case 11:case"end":return c.stop()}}),wf,null,[[0,8]])}function zf(){var e,t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ca(cc.a);case 3:return t=r.sent,n=t.payload.applicationConfig,r.next=7,fc(Rp.g,Rf);case 7:return r.next=9,fc(Rp.c,Tf);case 9:return r.next=11,fc(Rp.o,Af,null===(e=null===n||void 0===n?void 0:n.callConfiguration)||void 0===e?void 0:e.allUserPermissions);case 11:return r.next=13,fc(Rp.u,Pf);case 13:return r.next=15,fc(Rp.d,Sf);case 15:return r.next=17,fc(Rp.v,Lf);case 17:return r.next=19,fc(Rp.k,Nf);case 19:return r.next=21,fc(Rp.r,Df);case 21:return r.next=23,fc(Yc.c,_f);case 23:return r.next=25,fc(Rp.y,Uf);case 25:return r.next=27,fc(Rp.e,Bf);case 27:return r.next=29,fc(Rp.b,Gf);case 29:return r.next=31,fc(Rp.n,Ff);case 31:r.next=36;break;case 33:r.prev=33,r.t0=r.catch(0),Object(jc.b)(r.t0);case 36:case"end":return r.stop()}}),Cf,null,[[0,33]])}var Vf=Object(d.a)().mark(Hf);function Hf(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa([la(tf),la(zf)]);case 2:case"end":return e.stop()}}),Vf)}var Wf=Object(d.a)().mark(Yf),qf=Object(d.a)().mark(Qf),Kf=Object(d.a)().mark(Zf);function Xf(e){return e.type===xc.m}function Yf(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fa(me.f);case 3:if(e=t.sent,pe()(e)){t.next=7;break}return t.next=7,oa(Object(rs.h)());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(jc.b)(t.t0);case 12:return t.abrupt("return",null);case 13:case"end":return t.stop()}}),Wf,null,[[0,9]])}function Qf(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload.events,r.next=4,fa(me.f);case 4:return n=r.sent,r.next=7,sa(t.filter(Xf).map((function(e){if(n.type!==os.a.REQUEST)return null;var t=e.payload.status;return"LIVE"===t?ba(Yf):"COMPLETED"===t?oa(Object(rs.d)({endedByAgent:!0})):null})));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),qf,null,[[0,9]])}function Zf(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.j,Qf);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Kf,null,[[0,5]])}var $f=Object(d.a)().mark(Jf);function Jf(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa([la(Ps),la(Zf)]);case 2:case"end":return e.stop()}}),$f)}var ev=Object(d.a)().mark(nv),tv=Object(d.a)().mark(rv);function nv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Pc),la(pp),la(Ap),la(Hf),la(Jf)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),ev,null,[[0,5]])}function rv(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,la(nv);case 3:return e=t.sent,t.next=6,ca(cc.c);case 6:return t.next=8,pa(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(jc.b)(t.t0);case 13:case"end":return t.stop()}}),tv,null,[[0,10]])}n(86);var av=n(565),cv=n(474),ov=n(550),sv=n(718),iv=n(139),uv=Object(d.a)().mark(lv);function bv(e,t){var n=Object(sv.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};var r=ue()(n.params,"conversationId"),a=ue()(n.params,"transientId");return"all"===r?{isConversationPath:!1,matchedConversationId:void 0}:"new"===r?{isConversationPath:!0,matchedConversationId:t?t.slice(1):a}:{isConversationPath:!0,matchedConversationId:r}}function lv(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Vt.e,t.next=4,fa(m.h);case 4:return t.t1=t.sent,e=(0,t.t0)(t.t1),t.abrupt("return",Object(In.a)(Object(In.a)({},Object(iv.a)()),{},{locale:e}));case 9:return t.prev=9,t.t2=t.catch(0),Object(jc.b)(t.t2),t.abrupt("return",void 0);case 13:case"end":return t.stop()}}),uv,null,[[0,9]])}var dv=n(31),pv=n(956),fv=n(709),vv=n(1156),Ov=n(1036),jv=Object(d.a)().mark(Nv),hv=Object(d.a)().mark(Dv),xv=Object(d.a)().mark(Lv),gv=Object(d.a)().mark(Uv),mv=Object(d.a)().mark(Bv),yv=Object(d.a)().mark(Gv),kv=Object(d.a)().mark(Fv),Iv=Object(d.a)().mark(zv),wv=Object(d.a)().mark(Vv),Cv=Object(d.a)().mark(Hv),Ev=Object(d.a)().mark(Wv),Tv=Object(d.a)().mark(qv),Sv=Object(d.a)().mark(Kv),_v=Object(d.a)().mark(Xv),Av=Object(d.a)().mark(Yv),Mv=Object(d.a)().mark(Qv);function Rv(e,t){return!(Zc.a.getSender(e)===t)&&!Object(Jc.f)(e)}var Pv=function(e,t,n){return n?[{conversationId:n,count:Object(ov.b)(e[n],t)}]:vn()(e,(function(e,n){var r=Object(ov.b)(n,t);return e.push({conversationId:n.id,count:r}),e}),[])};function Nv(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.payload,n=t.conversationId,r=t.chatMessage,vv.a.emit(e),d.t0=Vt.d,d.next=6,fa(m.h);case 6:return d.t1=d.sent,a=(0,d.t0)(d.t1),d.next=10,fa(m.c);case 10:if(c=d.sent,!(o=Object(St.g)(c.conversations,n))){d.next=36;break}if(s=Bn()(o.defaultMessages,"id"),i=Zc.a.getId(r),!s.includes(i)){d.next=19;break}return d.next=18,oa({type:Yc.Q,payload:{conversationId:n,lastReadMessageId:i}});case 18:return d.abrupt("return");case 19:if(!Rv(r,a)){d.next=36;break}return d.next=22,fa(ov.c);case 22:return u=d.sent,b=u.isConversationPath,l=u.conversationId,d.next=27,fa(m.b);case 27:if(p=d.sent,f=p.isMinimized,v=Object(av.b)(),O=!!b,j=!pe()(o),!(Object(E.E)()?j&&n===l:j)){d.next=36;break}return d.next=35,oa({type:Yc.R,payload:{conversationId:n,count:1}});case 35:f&&!O&&v.push("/conversation/".concat(n));case 36:d.next=41;break;case 38:d.prev=38,d.t2=d.catch(0),Object(jc.b)(d.t2);case 41:case"end":return d.stop()}}),jv,null,[[0,38]])}function Dv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.F,Nv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),hv,null,[[0,5]])}function Lv(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:try{n=Object(dv.b)(),r=Object(pv.a)({url:Object(cv.d)(e.payload.url)},{location_url:Object(iv.b)()}),a=r.url,Object(dv.c)(n)?n.open(a,e.payload.target):window.open(a),null===(t=e.promise)||void 0===t||t.resolve()}catch(s){null===(c=e.promise)||void 0===c||c.reject(),Object(jc.b)(s)}case 1:case"end":return o.stop()}}),xv)}function Uv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.S,Lv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),gv,null,[[0,5]])}function Bv(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{window.open(Object(cv.c)(e.payload.phoneNumber)),null===(t=e.promise)||void 0===t||t.resolve()}catch(a){null===(n=e.promise)||void 0===n||n.reject(),Object(jc.b)(a)}case 1:case"end":return r.stop()}}),mv)}function Gv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.p,Bv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),yv,null,[[0,5]])}function Fv(e){var t,n,r,a,c,o,s,i;return Object(d.a)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.payload,n=t.surveyUrl,r=t.shouldReplace,a=t.conversationId,c=Object(av.b)(),o=Object(E.F)()||Object(E.K)()?"".concat(n,"&showCancel=true"):n,s="/survey/".concat(encodeURIComponent("".concat(o,"&hideThankYouPage=true"))),i=a?"/conversation/".concat(a).concat(s):s,u.abrupt("return",r?c.replace(s):c.push(i));case 7:return u.prev=7,u.t0=u.catch(0),Object(jc.b)(u.t0),u.abrupt("return",void 0);case 11:case"end":return u.stop()}}),kv,null,[[0,7]])}function zv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.W,Fv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Iv,null,[[0,5]])}function Vv(e){var t,n,r,a,c,o,s,i,u;return Object(d.a)().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,t=e.payload,n=t.deleted,r=t.closed,a=t.surveyUrl,c=t.conversationId,b.prev=2,!n&&!r){b.next=13;break}if(o=Object(av.b)(),s=bv(o.location.pathname,o.location.hash),i=s.matchedConversationId,u=n&&!!c&&i===c&&!Object(E.F)(),!a){b.next=12;break}return b.next=10,oa(Object(to.n)({surveyUrl:a,shouldReplace:u,conversationId:c}));case 10:b.next=13;break;case 12:u&&o.goBack();case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(2),Object(jc.b)(b.t0);case 18:b.next=23;break;case 20:b.prev=20,b.t1=b.catch(0),Object(jc.b)(b.t1);case 23:case"end":return b.stop()}}),wv,null,[[0,20],[2,15]])}function Hv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.j,Vv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Cv,null,[[0,5]])}ke.c.VIDEO,ke.c.AUDIO;function Wv(){var e,t,n,r,a,c,o;return Object(d.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,ca(cc.a);case 3:if(e=s.sent,t=e.payload.handshakeDetails,n=Object(fv.b)(),!t){s.next=23;break}if(!Object(E.J)()){s.next=11;break}return r=Object(E.i)(),s.next=11,oa(Object(to.b)({conversationId:r,isPhone:n}));case 11:if(!Object(E.I)()){s.next=19;break}return a=Object(E.h)(),c=Object(E.e)(a),s.next=16,ba(lv);case 16:return o=s.sent,s.next=19,oa(Object(to.a)(a,c,o,n));case 19:return s.next=21,Oa(1e3);case 21:return s.next=23,oa(Object(to.g)());case 23:s.next=28;break;case 25:s.prev=25,s.t0=s.catch(0),Object(jc.b)(s.t0);case 28:case"end":return s.stop()}}),Ev,null,[[0,25]])}function qv(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,a.next=5,ba(Ov.b,r);case 5:n&&n.resolve(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),e.promise&&e.promise.reject(),Object(jc.b)(a.t0);case 12:case"end":return a.stop()}}),Tv,null,[[0,8]])}function Kv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.o,qv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Sv,null,[[0,5]])}function Xv(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,fa(m.h);case 3:return t=o.sent,n=Object(Vt.d)(t),o.next=7,fa(m.c);case 7:if(r=o.sent,a=Object(St.q)(r),c=Pv(a.byId,n,e),pe()(c)){o.next=13;break}return o.next=13,oa({type:Yc.P,payload:c});case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.warn(o.t0);case 18:case"end":return o.stop()}}),_v,null,[[0,15]])}function Yv(){var e,t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!Object(E.E)()){a.next=25;break}if(!Object(E.M)()){a.next=14;break}case 3:return a.next=6,ca(Yc.g);case 6:return a.next=8,fa(ov.c);case 8:return e=a.sent,t=e.conversationId,a.next=12,ba(Xv,t);case 12:a.next=3;break;case 14:if(!Object(E.J)()&&!Object(E.I)()){a.next=24;break}return a.next=17,ia([ca(Yc.t),ca(Yc.u),ca(Yc.w),ca(Yc.x)]);case 17:return a.next=19,fa(ov.c);case 19:return n=a.sent,r=n.conversationId,a.next=23,ba(Xv,r);case 23:case 24:return a.abrupt("return");case 25:if(!Object(E.J)()&&!Object(E.I)()){a.next=31;break}return a.next=28,sa([ia([ca(Yc.t),ca(Yc.w),ca(Yc.u),ca(Yc.x)]),ca(Yc.g)]);case 28:return a.next=30,ba(Xv);case 30:return a.abrupt("return");case 31:if(!(Object(E.O)()||Object(E.L)()||Object(E.M)())){a.next=39;break}case 32:return a.next=35,ca(Yc.g);case 35:return a.next=37,ba(Xv);case 37:a.next=32;break;case 39:a.next=44;break;case 41:a.prev=41,a.t0=a.catch(0),Object(jc.b)(a.t0);case 44:case"end":return a.stop()}}),Av,null,[[0,41]])}function Qv(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Wv),la(Dv),la(Uv),la(Gv),la(Kv),la(zv),la(Hv),la(Yv)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Mv,null,[[0,5]])}var Zv=n(480),$v=Object(d.a)().mark(sO),Jv=Object(d.a)().mark(iO),eO=Object(d.a)().mark(uO),tO=Object(d.a)().mark(bO),nO=Object(d.a)().mark(lO),rO=Object(d.a)().mark(dO),aO=Object(d.a)().mark(pO),cO=Object(d.a)().mark(fO),oO=Object(d.a)().mark(vO);function sO(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.action,c.prev=1,n=t.payload,(o=n).type===Ti.i||o.type===Ti.j){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,fa(m.c);case 7:if(r=c.sent,a=Object(St.e)(Object(St.w)(r)),n.type!==Ti.i){c.next=12;break}return c.next=12,ba(Zv.n,n.payload.contextId||a,n.payload.abortedProcessContext,[]);case 12:if(n.type!==Ti.j){c.next=15;break}return c.next=15,ba(Zv.k,n.payload.contextId||a);case 15:c.next=20;break;case 17:c.prev=17,c.t0=c.catch(1),Object(jc.b)(c.t0);case 20:case"end":return c.stop()}var o}),$v,null,[[1,17]])}function iO(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.conversationId,r=t.chatMessage,i.next=4,ba(Zv.f,n);case 4:if(!(a=i.sent)){i.next=12;break}if(c=$c.a.getAttachment(Zc.a.getMessagePayload(r)),!(Object(Lo.c)(Zc.a.getSender(r))&&c&&Object($i.d)(c))){i.next=12;break}return o=Zc.a.getId(r),s=a.messageIds,i.next=12,ba(Zv.n,n,a.context,[].concat(Object(Po.a)(s),[o]));case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Object(jc.b)(i.t0);case 17:case"end":return i.stop()}}),Jv,null,[[0,14]])}function uO(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,t.chatMessage,a.next=4,ba(Zv.f,n);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,ba(Zv.n,n,r.context,[]);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Object(jc.b)(a.t0);case 13:case"end":return a.stop()}}),eO,null,[[0,10]])}function bO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.F,iO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),tO,null,[[0,5]])}function lO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.I,uO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),nO,null,[[0,5]])}function dO(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ba(Zv.f,e);case 3:if(!(t=n.sent)){n.next=11;break}return n.next=7,sa(t.messageIds.map((function(e){return ba(eo.q,e)})));case 7:return n.next=9,ba(eo.w,{context:t.context,conversationId:e});case 9:return n.next=11,ba(Zv.k,e);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),Object(jc.b)(n.t0);case 16:case"end":return n.stop()}}),rO,null,[[0,13]])}function pO(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.conversationResponse.results,n.next=4,sa(t.map((function(e){return ba(dO,e.id)})));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),aO,null,[[0,6]])}function fO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.g,pO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),cO,null,[[0,5]])}function vO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(bO),la(lO),la(fO)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),oO,null,[[0,5]])}var OO=n(506),jO=n.n(OO),hO=n(451),xO=n.n(hO),gO=n(754),mO=n.n(gO),yO=n(958),kO=n(430),IO=n(843),wO=Object(d.a)().mark(DO),CO=Object(d.a)().mark(LO),EO=Object(d.a)().mark(UO),TO=Object(d.a)().mark(BO),SO=Object(d.a)().mark(GO),_O=Object(d.a)().mark(FO),AO=Object(d.a)().mark(zO),MO=Object(d.a)().mark(VO),RO=function(e){return function(t){return t.type===Yc.w&&ue()(t,"payload.conversationResponse.externalCaseId")===e}},PO=function(e){return function(t){return t.type===Yc.x&&ue()(t,"payload.externalCaseId")===e}},NO=function(e){return e.map((function(e){return Fs()(e)?{message:{text:e},isSentByUser:!1}:Fs()(e.message)?Object(In.a)(Object(In.a)({},e),{},{message:{text:e.message}}):e}))};function DO(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fa(m.b);case 3:if(e=t.sent,!e.isMinimized){t.next=8;break}return t.next=8,oa({type:kO.d,payload:{}});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(jc.b)(t.t0);case 13:case"end":return t.stop()}}),wO,null,[[0,10]])}function LO(){var e,t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,fa(m.c);case 3:return e=c.sent,t=Object(St.e)(Object(St.w)(e)),c.next=7,ba(av.b);case 7:return n=c.sent,r="/conversation/".concat(t),a=bv(n.location.pathname,n.location.hash),a.isConversationPath?n.replace(r):n.push(r),c.next=13,ba(DO);case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(0),Object(jc.b)(c.t0);case 18:case"end":return c.stop()}}),CO,null,[[0,15]])}function UO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca(Yc.g);case 3:return e.next=5,ba(LO);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(jc.b)(e.t0);case 10:case"end":return e.stop()}}),EO,null,[[0,7]])}function BO(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.initialMessages,n=e.conversationContext,r=e.createCase,a=e.additional,c=e.assignToUser,o=e.conversationId,s=e.applicationConfig,d.prev=1,d.next=4,fa(m.h);case 4:if(i=d.sent,u=Object(Vt.d)(i),p=xO()(t,(function(e){var t=Fs()(e)?e:e.message;return!pe()(mO()(t))})),pe()(p)){d.next=16;break}return f=NO(p),d.next=11,po();case 11:v=d.sent,b=Gc()(f.map((function(e,t){if(!e.isSentByUser)return e.message.text?ti(e.message.text,o,"".concat(t),e.message.disableManualResponse):void 0;var n=Object(yO.a)({text:e.message.text,maskingConfigs:s.maskingConfigs}),r=n.maskedText,a=n.maskedValues;return v.makeTextMessage({text:r||"",conversationId:o,sender:u,maskingDetails:a,disableManualResponse:e.message.disableManualResponse})}))),l=!0,d.next=27;break;case 16:if(!pe()(t)||!Fn()(t)){d.next=21;break}l=!0,b=[],d.next=27;break;case 21:return d.next=23,fa(m.c);case 23:O=d.sent,j=Object(St.m)(O,Ks.e),b=Object(St.l)(j),l=Object(St.y)(j);case 27:return d.next=29,oa({type:Yc.L,payload:{conversationId:o,messages:b,conversationContext:n,hasInitialItems:l,createCase:r,assignToUser:c,additional:a}});case 29:d.next=35;break;case 31:throw d.prev=31,d.t0=d.catch(1),Object(jc.b)(d.t0),d.t0;case 35:case"end":return d.stop()}}),TO,null,[[1,31]])}function GO(e,t){var n,r,a,c,o,s,i,u,b,l,p,f,v,O,j,h;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return n=t.payload.silent,r=t.promise,d.prev=1,d.next=4,fa(m.g);case 4:if(a=d.sent,c=function(e,t){return ue()(e,t)},o=Object(m.c)(a),s=Object(St.q)(o),!Xc()(Object(St.v)(s))){d.next=16;break}return d.next=11,oa({type:Yc.C,payload:{}});case 11:return d.next=13,ca(Yc.cb);case 13:return d.next=15,fa(m.g);case 15:a=d.sent;case 16:if(i=Object(m.e)(a),o=Object(m.c)(a),s=Object(St.q)(o),u=Object(ov.e)({chatState:i,chatConversationsState:o,customizationSettings:e.otherConfigs.settings,getLocaleMessage:c}),!u.isLocked){d.next=26;break}if(n){d.next=25;break}return b=Object(St.b)(s),d.next=25,ba(b?LO:UO);case 25:throw Ys.a.LIMIT_REACHED;case 26:return l="".concat(Ks.e,"_").concat(jO()()),d.next=29,ba(BO,Object(In.a)(Object(In.a)({},t.payload),{},{conversationId:l,applicationConfig:e}));case 29:return d.next=31,ba(lv);case 31:if(p=d.sent,!n){d.next=35;break}return d.next=35,oa({type:Yc.M,payload:{conversationId:l,appContext:p},promise:r});case 35:if(n){d.next=43;break}return f=Object(av.b)(),v=bv(f.location.pathname,f.location.hash),O=v.isConversationPath,j=!!O,h="/conversation/new/".concat(l),j?f.replace(h):f.push(h),d.next=43,ba(DO);case 43:d.next=49;break;case 45:d.prev=45,d.t0=d.catch(1),r&&r.reject(ni(d.t0)),Object(jc.b)(d.t0);case 49:case"end":return d.stop()}}),SO,null,[[1,45]])}function FO(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j,h,x,g,y,k,I,w,C,T,S,_;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=e.promise,d.prev=1,d.next=4,fa(m.c);case 4:if(c=d.sent,o=Object(St.q)(c),r=t.conversationId,a=t.externalCaseId,r){d.next=37;break}if(Object(St.b)(o)){d.next=16;break}return d.next=12,ca(Yc.g);case 12:return d.next=14,fa(m.c);case 14:c=d.sent,o=Object(St.q)(c);case 16:if(!a){d.next=36;break}if((r=Object(St.d)(Object(St.w)(c),a))||!c.conversations.hasMore){d.next=34;break}return d.next=21,oa(Object(to.b)({externalCaseId:a}));case 21:return d.next=23,ia([ca(RO(a)),ca(PO(a))]);case 23:if(s=d.sent,i=Object(Ne.a)(s,2),u=i[0],!(b=i[1])){d.next=29;break}throw b.payload.error;case 29:return r=ue()(u,"payload.conversationResponse.id"),d.next=32,fa(m.c);case 32:c=d.sent,o=Object(St.q)(c);case 34:d.next=37;break;case 36:r=Object(St.e)(Object(St.w)(c));case 37:if(r){d.next=40;break}return n&&n.reject(Ys.a.NOT_FOUND),d.abrupt("return");case 40:if(l=Object(av.b)(),p=bv(l.location.pathname,l.location.hash),f=p.isConversationPath,v=p.matchedConversationId,O=!!f,j="/conversation/".concat(r),h=r,x=[],v===r){d.next=78;break}if(!Object(E.C)(r)){d.next=60;break}if(g=Object(E.f)(r),y=Object(E.e)(g),k=Object(St.j)(o,g),h=y,Tl()(o.ids,k)){d.next=58;break}return d.next=54,ba(lv);case 54:return I=d.sent,d.next=57,oa(Object(to.a)(g,y,I));case 57:x=[Yc.t,Yc.u];case 58:d.next=64;break;case 60:if(Tl()(o.ids,r)){d.next=64;break}return d.next=63,oa(Object(to.b)({conversationId:r}));case 63:x=[Yc.w,Yc.x];case 64:if(pe()(x)){d.next=78;break}return d.next=67,ia([ca(x[0]),ca(x[1])]);case 67:if(w=d.sent,C=Object(Ne.a)(w,2),T=C[0],S=C[1],_=ue()(T,"payload.conversationResponse.id")||ue()(S,"payload.conversationId"),h!==_){d.next=76;break}if(!S){d.next=75;break}throw S.payload.error;case 75:return d.abrupt("break",78);case 76:d.next=64;break;case 78:return O?l.replace(j):l.push(j),d.next=81,ba(DO);case 81:n&&n.resolve(r),d.next=87;break;case 84:d.prev=84,d.t0=d.catch(1),n?n.reject(ni(d.t0)):Object(jc.b)(d.t0);case 87:return d.prev=87,d.next=90,ra(na,{});case 90:return d.sent&&n&&n.reject(Ys.a.UNEXPECTED_ERROR),d.finish(87);case 93:case"end":return d.stop()}}),_O,null,[[1,84,87,93]])}function zO(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,fc(IO.c,GO,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),AO,null,[[0,9]])}function VO(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vc(IO.a,FO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),MO,null,[[0,5]])}var HO,WO=n(583),qO=n.n(WO),KO=n(860),XO=Object(kn.a)({},xo.c.PROGRESS_BAR,(function(e){return e.status===KO.a.ABORTED||e.status===KO.a.ERROR})),YO=function(e){var t,n=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment,r=n&&XO[n.type];return r&&r(n)},QO=Object(d.a)().mark(tj),ZO=Object(d.a)().mark(nj),$O=Object(d.a)().mark(rj),JO=function(){function e(){Object(Xn.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(Yn.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=qO()(this.queueItems,(function(t){return Zc.a.getId(e.message)===Zc.a.getId(t.message)}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}},{key:"flush",value:function(){return this.queueItems}}]),e}(),ej="EXTERNAL_MESSAGE_SEND";function tj(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.message,n=e.externalMessageId,a.next=4,ba(uo,t);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,oa({type:ej,payload:{id:n,message:r}});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Object(jc.b)(a.t0);case 13:case"end":return a.stop()}}),QO,null,[[0,10]])}function nj(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ca(e);case 4:if(t=n.sent,YO(t.message)){n.next=8;break}return n.next=8,ba(tj,t);case 8:n.next=1;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),Object(jc.b)(n.t0);case 15:case"end":return n.stop()}}),ZO,null,[[0,12]])}function rj(e,t){var n,r,a,c,o,s,i,u,b,l,p,f,v,O;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,HO){d.next=7;break}return d.next=4,ba(Na,new JO);case 4:return HO=d.sent,d.next=7,da(nj,HO);case 7:return d.next=9,fa(m.c);case 9:return r=d.sent,a=Object(St.e)(Object(St.w)(r)),d.next=13,fa(m.h);case 13:return c=d.sent,o=Object(Vt.d)(c),s=e.message.text,i=e.isSentByUser?Object(yO.a)({text:s,maskingConfigs:null===t||void 0===t?void 0:t.maskingConfigs}):{text:s},d.next=19,po();case 19:if(u=d.sent,b=u.makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:Object(In.a)(Object(In.a)({},e.message),{},{text:null!==(n=i.maskedText)&&void 0!==n?n:i.text,maskingDetails:i.maskedValues}),conversationId:e.contextId||a,messageContext:e.messageContext,sender:e.isSentByUser?o:Ks.b})){d.next=23;break}return d.abrupt("return",void 0);case 23:if(l={externalMessageId:e.id,message:b},e.sprMsgId&&!YO(b)){d.next=29;break}return d.next=27,la(tj,l);case 27:d.next=31;break;case 29:return d.next=31,oa(HO,l);case 31:return d.next=33,ca(ej);case 33:return p=d.sent,f=p.payload,v=f.id,O=f.message,d.abrupt("return",{id:v,message:O});case 40:return d.prev=40,d.t0=d.catch(0),Object(jc.b)(d.t0),d.abrupt("return",void 0);case 44:case"end":return d.stop()}}),$O,null,[[0,40]])}var aj=n(658),cj=n(585),oj=Object(d.a)().mark(sj);function sj(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.action,n=e.applicationConfig,o.prev=1,t.payload.type===Ti.e){o.next=4;break}return o.abrupt("return");case 4:return o.next=6,ba(rj,t.payload.payload,n);case 6:if(r=o.sent){o.next=10;break}return Object(y.a)({topic:aj.R,payload:{error:cj.a.INCORRECT_PAYLOAD,request:t.payload}}),o.abrupt("return");case 10:return a=r.id,c=r.message,o.next=13,oa(Object(oi.m)({id:a,conversationId:null===c||void 0===c?void 0:c.conversationId,messageId:null===c||void 0===c?void 0:c.id}));case 13:Object(y.a)({topic:aj.R,payload:{data:{id:a,conversationId:null===c||void 0===c?void 0:c.conversationId,messageId:null===c||void 0===c?void 0:c.id},request:t.payload}}),o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),Object(jc.b)(o.t0);case 19:case"end":return o.stop()}}),oj,null,[[1,16]])}var ij=Object(d.a)().mark(uj);function uj(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.action,c.prev=1,t.payload.type===Ti.d){c.next=4;break}return c.abrupt("return");case 4:return n=t.payload.payload,c.next=7,po();case 7:if(r=c.sent,a=r.makeDynamicMessage({externalMessageId:n.id,messagePayload:{events:Do()(n.event)},conversationId:n.contextId,sender:Ks.b})){c.next=11;break}return c.abrupt("return");case 11:return c.next=13,ba(uo,a);case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(1),Object(jc.b)(c.t0);case 18:case"end":return c.stop()}}),ij,null,[[1,15]])}var bj,lj=n(848),dj=n.n(lj),pj=n(957),fj=n.n(pj),vj=/\$\{(\w+)\}/g,Oj=function(e,t){var n=Object.keys(t);return fj()(e,vj,(function(e,r){return n.includes(r)?t[r]:e}))},jj=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".title")];return Oj(o,{completedUnits:r,totalUnits:n})},hj=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".description")];return Oj(o,{completedUnits:r,totalUnits:n})},xj=Object(d.a)().mark(Ij),gj=Object(d.a)().mark(wj),mj=function(){function e(){Object(Xn.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(Yn.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=qO()(this.queueItems,(function(t){return e.action.payload.contextId===t.action.payload.contextId}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}},{key:"flush",value:function(){return this.queueItems}}]),e}(),yj=function(e,t){return"".concat(e,"_").concat(t)},kj=dj()((function(){var e={};return{get:function(t){return e[t]},set:function(t,n){e[t]=n},remove:function(t){delete e[t]}}}));function Ij(e){var t,n,r,a,c,o,s,i,u,b,l,p,f;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=1,d.next=4,ca(e);case 4:return t=d.sent,n=t.action,r=t.localeData,a=n.payload,c=a.contextId,o=a.id,s=a.data,i=a.progressContext,u={type:xo.c.PROGRESS_BAR,title:jj(r,s),description:hj(r,s),progress:s.progress,status:s.status,action:s.action,enableCancel:s.enableCancel,enableRetry:s.enableRetry},b={attachment:u,disableManualResponse:s.disableManualResponse},d.next=12,ba(rj,{contextId:c,id:o,sprMsgId:kj().get(yj(c,u.action)),message:b,messageContext:i});case 12:if(l=d.sent){d.next=16;break}return Object(y.a)({topic:aj.R,payload:{error:cj.a.INCORRECT_PAYLOAD,request:n}}),d.abrupt("return");case 16:return p=l.id,f=l.message,d.next=19,oa(Object(oi.n)({id:p,conversationId:null===f||void 0===f?void 0:f.conversationId,messageId:null===f||void 0===f?void 0:f.id}));case 19:Object(y.a)({topic:aj.R,payload:{data:{id:o,conversationId:null===f||void 0===f?void 0:f.conversationId,messageId:null===f||void 0===f?void 0:f.id},request:n}}),(v=u).status!==KO.a.COMPLETED&&(v.status!==KO.a.ABORTED&&v.status!==KO.a.ERROR||v.enableRetry)?kj().set(yj(c,u.action),null===f||void 0===f?void 0:f.id):kj().remove(yj(c,u.action)),d.next=26;break;case 23:d.prev=23,d.t0=d.catch(1),Object(jc.b)(d.t0);case 26:d.next=0;break;case 28:case"end":return d.stop()}var v}),xj,null,[[1,23]])}function wj(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.action,n=e.localeData,r.prev=1,t.payload.type===Ti.g){r.next=4;break}return r.abrupt("return");case 4:if(bj){r.next=10;break}return r.next=7,ba(Na,new mj);case 7:return bj=r.sent,r.next=10,da(Ij,bj);case 10:return r.next=12,oa(bj,{action:t.payload,localeData:n});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),Object(jc.b)(r.t0);case 17:case"end":return r.stop()}}),gj,null,[[1,14]])}var Cj=Object(d.a)().mark(Sj),Ej=Object(d.a)().mark(_j),Tj=Object(d.a)().mark(Aj);function Sj(e,t,n){return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,sa([ba(sj,{action:n,applicationConfig:t}),ba(uj,{action:n}),ba(wj,{action:n,localeData:e}),ba(sO,{action:n})]);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),Object(jc.b)(r.t0);case 8:case"end":return r.stop()}}),Cj,null,[[0,5]])}function _j(e,t,n){return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=4;break}return r.next=4,fc(e,Sj,t,n);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),Object(jc.b)(r.t0);case 9:case"end":return r.stop()}}),Ej,null,[[0,6]])}function Aj(){var e,t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,ca(cc.a);case 3:return e=o.sent,t=e.payload.applicationConfig,o.next=7,va(Yc.z);case 7:n=o.sent;case 8:return o.prev=9,o.next=12,ca(Uo.c);case 12:if(a=o.sent,c=a.payload.data,!r){o.next=17;break}return o.next=17,pa(r);case 17:return o.next=19,la(_j,n,c,t);case 19:r=o.sent,o.next=25;break;case 22:o.prev=22,o.t0=o.catch(9),Object(jc.b)(o.t0);case 25:o.next=8;break;case 27:o.next=32;break;case 29:o.prev=29,o.t1=o.catch(0),Object(jc.b)(o.t1);case 32:case"end":return o.stop()}}),Tj,null,[[0,29],[9,22]])}var Mj=Object(d.a)().mark(Pj),Rj=Object(d.a)().mark(Nj);function Pj(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(kt.a)(),t.next=3,Object(Zv.h)(e.appId);case 3:case"end":return t.stop()}}),Mj)}function Nj(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(kO.f,Pj);case 2:case"end":return e.stop()}}),Rj)}var Dj=n(630),Lj=n(573),Uj=Object(d.a)().mark(Gj),Bj=Object(d.a)().mark(Fj);function Gj(e,t){var n,r,a,c,o,s,i,u,b;return Object(d.a)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=t.payload,r=t.promise,l.prev=1,pe()(n)){l.next=17;break}l.t0=n.landingScreen,l.next=l.t0===rt.a.KNOWLEDGE_BASE_LIST?6:15;break;case 6:if(s=null!==(a=null===(c=e.cardConfigs)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.cards)&&void 0!==a?a:e.cards,i=Object(av.b)(),u=null===s||void 0===s?void 0:s.find((function(e){return e.type===Lj.a.KNOWLEDGE_BASE})),b=ot(i.location.pathname),u){l.next=13;break}return r.reject({error:Ys.a.NOT_FOUND}),l.abrupt("return");case 13:return b!==rt.a.KNOWLEDGE_BASE_LIST&&i.push(Dj.b),l.abrupt("break",17);case 15:return r.reject({error:Ys.a.NOT_FOUND}),l.abrupt("return");case 17:if(!Object(E.Q)()){l.next=20;break}return l.next=20,oa({type:kO.d,payload:{}});case 20:r.resolve(void 0),l.next=27;break;case 23:l.prev=23,l.t1=l.catch(1),Object(jc.b)(l.t1),r.reject({error:Ys.a.UNEXPECTED_ERROR});case 27:case"end":return l.stop()}}),Uj,null,[[1,23]])}function Fj(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,fc(kO.m,Gj,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),Bj,null,[[0,9]])}var zj=Object(d.a)().mark(Vj);function Vj(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(zO),la(VO),la(Aj),la(Nj),la(Fj)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),zj,null,[[0,5]])}var Hj=n(471),Wj=Object(d.a)().mark(Zj),qj=Object(d.a)().mark($j),Kj=Object(d.a)().mark(Jj),Xj=Object(d.a)().mark(th),Yj=Object(d.a)().mark(nh),Qj=function(e){var t=Object(St.q)(Object(m.c)(e));return{totalCount:Object(St.x)(t),byExternalCaseIds:Object(St.t)(t)}};function Zj(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fa(Qj);case 3:e=n.sent;case 4:return n.prev=5,n.next=8,ia({notificationReceived:ca(Yc.R),notificationRead:ca(Yc.Q),notificationsReceived:ca(Yc.P)});case 8:return n.sent,n.next=11,fa(Qj);case 11:t=n.sent,e.totalCount!==t.totalCount&&(Object(y.a)({topic:C.m,payload:{data:{count:t.totalCount,additional:Object(In.a)({},pe()(t.byExternalCaseIds)?{}:{byExternalCaseIds:t.byExternalCaseIds})}}}),e=t),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),Object(jc.b)(n.t0);case 18:n.next=4;break;case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(jc.b)(n.t1);case 25:case"end":return n.stop()}}),Wj,null,[[0,22],[5,15]])}function $j(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=y.a,t.t1=C.g,t.t2=e.payload.type,t.t3=In.a,t.t4=Object(In.a)({},e.payload.payload),t.t5={},t.next=9,Object(Zv.a)(Hj.a.getAppId(Object(kt.a)()));case 9:t.t6=t.sent,t.t7={userAuthToken:t.t6},t.t8=(0,t.t3)(t.t4,t.t5,t.t7),t.t9={type:t.t2,payload:t.t8},t.t10={data:t.t9},t.t11={topic:t.t1,payload:t.t10},(0,t.t0)(t.t11),t.next=21;break;case 18:t.prev=18,t.t12=t.catch(0),Object(jc.b)(t.t12);case 21:case"end":return t.stop()}}),qj,null,[[0,18]])}function Jj(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.A,$j);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Kj,null,[[0,5]])}function eh(e){try{Object(y.a)({topic:C.f,payload:{data:e.payload.payload},callback:e.payload.callback})}catch(t){Object(jc.b)(t)}}function th(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Yc.y,eh);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Xj,null,[[0,5]])}function nh(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Zj),la(Jj),la(th)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Yj,null,[[0,5]])}n(707),n(602);var rh=n(446);function ah(e,t){return ch.apply(this,arguments)}function ch(){return(ch=Object(p.a)(Object(d.a)().mark((function e(t,n){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh.a.post("/livechat/upload?conversationId=".concat(n),{file:t,fileName:t.name},{multipart:!0});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oh=Object(d.a)().mark(sh);function sh(e,t,n){return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(e.size>t)){r.next=4;break}throw{response:{status:413,statusText:"Payload Too Large"}};case 4:return r.next=6,ba(ah,e,n);case 6:return r.t0=r.sent,r.abrupt("return",{token:r.t0});case 10:return r.prev=10,r.t1=r.catch(0),r.abrupt("return",{error:r.t1});case 13:case"end":return r.stop()}}),oh,null,[[0,10]])}var ih=n(737),uh=n(764),bh=Object(d.a)().mark(ph);function lh(e){return Tl()(uh.c,e)}function dh(e){return new Promise((function(t){if(e){var n=document.createElement("img");n.onload=function(e){var n=e.target;n&&t({height:n.naturalHeight,width:n.naturalWidth})},n.src=e}else t({})}))}function ph(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.conversationId,n=e.chatUserId,r=e.file,a=e.inReplyToChatMessageId,c=e.isAttachmentMasked,o=e.maximumContentLength,d.prev=1,!lh(r.type)){d.next=31;break}return s=c?void 0:URL.createObjectURL(r),d.next=6,ba(dh,s);case 6:return i=d.sent,u=i.height,b=i.width,d.next=11,po();case 11:return l=d.sent,d.next=14,ba(to.p,l.makeImageAttachmentMessage({attachmentProperties:{height:u,width:b,url:s,title:r.name},conversationId:t,sender:n,inReplyToChatMessageId:a}));case 14:return p=d.sent,d.next=17,oa(p);case 17:return d.next=19,ba(sh,r,o,t);case 19:if(f=d.sent,v=f.token,O=f.error,!v){d.next=29;break}return j=Object(ih.f)({chatMessage:p.payload.chatMessage,token:v}),d.next=26,ba(bo,j);case 26:s&&URL.revokeObjectURL(s),d.next=31;break;case 29:return d.next=31,ba(ro,{chatMessage:p.payload.chatMessage,conversationId:t,transientId:p.payload.chatMessage.id,error:O});case 31:d.next=36;break;case 33:d.prev=33,d.t0=d.catch(1),Object(jc.b)(d.t0);case 36:case"end":return d.stop()}}),bh,null,[[1,33]])}var fh=Object(d.a)().mark(hh),vh=Object(d.a)().mark(xh);function Oh(e){return Tl()(uh.e,e)}function jh(e){return new Promise((function(t){var n=document.createElement("video");n.onloadeddata=function(){n.currentTime=0},n.onseeked=function(e){var r=document.createElement("canvas");r.height=n.videoHeight,r.width=n.videoWidth;var a=r.getContext("2d");a&&(a.drawImage(n,0,0,r.width,r.height),(r.toBlob||r.msToBlob).bind(r)((function(e){var r=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:r,height:n.videoHeight,width:n.videoWidth})})))},n.src=e,n.load()}))}function hh(e,t,n){return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ba(sh,e,t,n);case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),Object(jc.b)(r.t0),r.abrupt("return",void 0);case 10:case"end":return r.stop()}}),fh,null,[[0,6]])}function xh(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j,h,x,g,m,y;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.conversationId,n=e.chatUserId,r=e.file,a=e.inReplyToChatMessageId,c=e.isAttachmentMasked,o=e.maximumContentLength,d.prev=1,!Oh(r.type)){d.next=37;break}return s=URL.createObjectURL(r),d.next=6,ba(jh,s);case 6:return i=d.sent,u=i.previewImageFile,b=i.height,l=i.width,p=URL.createObjectURL(u),d.next=13,po();case 13:return f=d.sent,d.next=16,ba(to.p,f.makeVideoAttachmentMessage({attachmentProperties:{height:b,width:l,previewImageUrl:c?null:p,url:c?null:s,title:r.name},conversationId:t,sender:n,inReplyToChatMessageId:a}));case 16:return v=d.sent,d.next=19,oa(v);case 19:return d.next=21,sa([ba(sh,r,o,t),ba(hh,u,o,t)]);case 21:if(O=d.sent,j=Object(Ne.a)(O,2),h=j[0],x=h.token,g=h.error,m=j[1].token,!x){d.next=35;break}return y=Object(ih.g)({chatMessage:Object(ih.f)({chatMessage:v.payload.chatMessage,token:x}),token:m}),d.next=31,ba(bo,y);case 31:URL.revokeObjectURL(s),URL.revokeObjectURL(p),d.next=37;break;case 35:return d.next=37,ba(ro,{chatMessage:v.payload.chatMessage,conversationId:t,transientId:v.payload.chatMessage.id,error:g});case 37:d.next=42;break;case 39:d.prev=39,d.t0=d.catch(1),Object(jc.b)(d.t0);case 42:case"end":return d.stop()}}),vh,null,[[1,39]])}var gh=Object(d.a)().mark(yh);function mh(e){return Tl()(uh.a,e)}function yh(e){var t,n,r,a,c,o,s,i,u,b,l,p,f;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.conversationId,n=e.chatUserId,r=e.file,a=e.inReplyToChatMessageId,c=e.isAttachmentMasked,o=e.maximumContentLength,d.prev=1,!mh(r.type)){d.next=26;break}return s=c?null:URL.createObjectURL(r),d.next=6,po();case 6:return i=d.sent,d.next=9,ba(to.p,i.makeAudioAttachmentMessage({attachmentProperties:{url:s,mimeType:r.type,title:r.name},conversationId:t,sender:n,inReplyToChatMessageId:a}));case 9:return u=d.sent,d.next=12,oa(u);case 12:return d.next=14,ba(sh,r,o,t);case 14:if(b=d.sent,l=b.token,p=b.error,!l){d.next=24;break}return f=Object(ih.f)({chatMessage:u.payload.chatMessage,token:l}),d.next=21,ba(bo,f);case 21:s&&URL.revokeObjectURL(s),d.next=26;break;case 24:return d.next=26,ba(ro,{chatMessage:u.payload.chatMessage,conversationId:t,transientId:u.payload.chatMessage.id,error:p});case 26:d.next=31;break;case 28:d.prev=28,d.t0=d.catch(1),Object(jc.b)(d.t0);case 31:case"end":return d.stop()}}),gh,null,[[1,28]])}var kh=n(1157),Ih=Object(d.a)().mark(Ch),wh={"application/pdf":kh.a.PDF,"text/plain":kh.a.DOCUMENT,"application/msword":kh.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":kh.a.WORD_DOCUMENT,"application/vnd.ms-excel":kh.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":kh.a.EXCEL,"application/vnd.ms-powerpoint":kh.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":kh.a.PRESENTATION,"application/onenote":kh.a.ONENOTE,"application/json":kh.a.DOCUMENT};function Ch(e){var t,n,r,a,c,o,s,i,u,b,l,p,f;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.conversationId,n=e.chatUserId,r=e.file,a=e.inReplyToChatMessageId,c=e.isAttachmentMasked,o=e.maximumContentLength,d.prev=1,lh(r.type)||mh(r.type)||Oh(r.type)){d.next=26;break}return s=c?null:URL.createObjectURL(r),d.next=6,po();case 6:return i=d.sent,d.next=9,ba(to.p,i.makeDocumentAttachmentMessage({attachmentProperties:{url:s,title:r.name,documentType:wh[r.type]},conversationId:t,sender:n,inReplyToChatMessageId:a}));case 9:return u=d.sent,d.next=12,oa(u);case 12:return d.next=14,ba(sh,r,o,t);case 14:if(b=d.sent,l=b.token,p=b.error,!l){d.next=24;break}return f=Object(ih.f)({chatMessage:u.payload.chatMessage,token:l}),d.next=21,ba(bo,f);case 21:s&&URL.revokeObjectURL(s),d.next=26;break;case 24:return d.next=26,ba(ro,{chatMessage:u.payload.chatMessage,conversationId:t,transientId:u.payload.chatMessage.id,error:p});case 26:d.next=31;break;case 28:d.prev=28,d.t0=d.catch(1),Object(jc.b)(d.t0);case 31:case"end":return d.stop()}}),Ih,null,[[1,28]])}var Eh=Object(d.a)().mark(Sh),Th=Object(d.a)().mark(_h);function Sh(e,t){var n,r,a,c,o,s,i,u;return Object(d.a)().wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,n=e.isAttachmentMasked,r=e.maximumContentLength,a=t.payload,c=a.conversationId,o=a.chatUserId,s=a.file,i=a.inReplyToChatMessageId,u={conversationId:c,chatUserId:o,file:s,inReplyToChatMessageId:i,isAttachmentMasked:n,maximumContentLength:r},b.next=6,sa([ba(ph,u),ba(xh,u),ba(yh,u),ba(Ch,u)]);case 6:b.next=11;break;case 8:b.prev=8,b.t0=b.catch(0),Object(jc.b)(b.t0);case 11:case"end":return b.stop()}}),Eh,null,[[0,8]])}function _h(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,fc(IO.b,Sh,{isAttachmentMasked:!!t.maskAttachment,maximumContentLength:t.maximumContentLength});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}}),Th,null,[[0,9]])}var Ah,Mh=_h,Rh=Object(d.a)().mark(Nh),Ph=Object(d.a)().mark(Dh);function Nh(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,t=void 0,n.next=5,ca(hc.b);case 5:return Ah=Date.now(),n.next=8,ca(hc.a);case 8:if(t=Date.now(),!(e||Ah&&t-Ah>=3e5)){n.next=14;break}return Ah=void 0,n.next=14,oa({type:hc.k,payload:{}});case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(1),Object(jc.b)(n.t0);case 19:n.next=0;break;case 21:case"end":return n.stop()}}),Rh,null,[[1,16]])}function Dh(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Object(fv.a)(),t.next=4,sa([la(Nh,e)]);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(jc.b)(t.t0);case 9:case"end":return t.stop()}}),Ph,null,[[0,6]])}var Lh=n(1136),Uh=Object(d.a)().mark(zh),Bh=Object(d.a)().mark(Vh),Gh=Object(d.a)().mark(Hh),Fh=Object(d.a)().mark(Wh);function zh(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.prev=2,e.next=5,ca(kO.g);case 5:if(e.sent,!Object(E.P)()){e.next=10;break}Object(y.a)({topic:C.d}),e.next=12;break;case 10:return e.next=12,oa(Object(Ie.b)());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),Object(jc.b)(e.t0);case 17:e.next=1;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),Object(jc.b)(e.t1);case 24:case"end":return e.stop()}}),Uh,null,[[0,21],[2,14]])}function Vh(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:return t.prev=2,t.next=5,ca(kO.l);case 5:e=t.sent,e.payload.isMediaOpen?Object(y.a)({topic:C.i}):Object(y.a)({topic:C.h}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Object(jc.b)(t.t0);case 13:t.next=1;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(0),Object(jc.b)(t.t1);case 20:case"end":return t.stop()}}),Bh,null,[[0,17],[2,10]])}function Hh(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:e=n.sent,t=e.payload.applicationConfig,setTimeout((function(){var e=ue()(t,"otherConfigs.theme.icons",{});Uc()(e,(function(e){Object(Lh.a)(e)}))}),1e4),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(jc.b)(n.t0);case 11:case"end":return n.stop()}}),Gh,null,[[0,8]])}function Wh(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(zh),la(Vh),la(Hh)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Fh,null,[[0,5]])}var qh=n(656),Kh=n(1096),Xh=Object(d.a)().mark(ex),Yh=Object(d.a)().mark(tx),Qh=Object(d.a)().mark(nx),Zh=Object(d.a)().mark(rx),$h=Object(d.a)().mark(ax),Jh=Object(d.a)().mark(cx);function ex(e){var t,n,r,a,c,o,i,u,b,l,p;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,t=e.payload||{},n=t.user,r=t.userContext,a=t.customUser,d.t0=Vt.c,d.next=5,fa(me.h);case 5:if(d.t1=d.sent,c=(0,d.t0)(d.t1),o=Go.a.getId(c),i=Object(E.R)(r),!(!Vs()(a)&&Object(Lo.b)(o)||Vs()(a)&&Object(Lo.a)(n)&&!Object(Lo.b)(o)||Object(Lo.b)(o)&&Object(Lo.e)(n,c))){d.next=21;break}return u=Dc()(Object(kt.a)(),{userContext:{$merge:i},user:{$set:Object(In.a)(Object(In.a)({},Object(kt.a)().user||{}),n||{})},customUser:{$set:a}}),Object(kt.f)(u),d.next=14,ba(Bo.e,Object(In.a)(Object(In.a)(Object(In.a)({},c),n),{},{customContext:i,customUser:a}));case 14:return b=d.sent,l=b.data,d.next=18,oa(Object(s.c)({action:st.a.USER_PROFILE_UPDATED}));case 18:return d.next=20,oa({type:Uo.h,payload:{users:[l]}});case 20:return d.abrupt("return");case 21:return p=Dc()(Object(kt.a)(),{userContext:{$set:i},user:{$set:n},customUser:{$set:a}}),Object(kt.f)(p),Object(qh.e)({shouldReboot:!0,shouldContinueSession:(!Vs()(a)||!Object(Lo.a)(n))&&!Object(Lo.b)(o)}),d.abrupt("return");case 27:d.prev=27,d.t2=d.catch(0),Object(jc.b)(d.t2);case 30:case"end":return d.stop()}}),Xh,null,[[0,27]])}function tx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Kh.a,ex);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Yh,null,[[0,5]])}function nx(e,t){return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,oa(Object(Ie.i)(e,t));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(jc.b)(n.t0);case 8:case"end":return n.stop()}}),Qh,null,[[0,5]])}function rx(e,t,n){var r,a,c,o;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fa(m.b);case 3:return r=t.sent,a=Object(g.e)(r),t.t0=Vt.c,t.next=8,fa(me.h);case 8:return t.t1=t.sent,c=(0,t.t0)(t.t1).userId,o={},Uc()(a,(function(e,t){o=Object(In.a)(Object(In.a)({},o),{},Object(kn.a)({},t,e.enabled))})),t.next=14,Object(Zv.o)(c,o);case 14:t.next=21;break;case 16:return t.prev=16,t.t2=t.catch(0),t.next=20,ba(nx,e,n);case 20:Object(jc.b)(t.t2);case 21:case"end":return t.stop()}}),Zh,null,[[0,16]])}function ax(){var e,t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0;case 1:return c.next=4,ca(kO.t);case 4:return e=c.sent,t=e.payload,n=t.userPreferenceKey,r=t.newValue,a=t.oldValue,c.next=8,ba(nx,n,r);case 8:return c.next=10,ba(rx,n,r,a);case 10:c.next=1;break;case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),Object(jc.b)(c.t0);case 17:case"end":return c.stop()}}),$h,null,[[0,14]])}function cx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(tx),la(ax)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Jh,null,[[0,5]])}var ox=Object(d.a)().mark(ix),sx=Object(d.a)().mark(ux);function ix(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Da((function(e){var t=function(){e(Object(s.g)(!0))},n=function(){e(Object(s.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n)}})));case 4:e.prev=4,e.t0=e.catch(0),Object(jc.b)(e.t0);case 7:case"end":return e.stop()}}),ox,null,[[0,4]])}function ux(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ba(ix);case 3:e=n.sent;case 4:return n.next=7,ca(e);case 7:return t=n.sent,n.next=10,oa(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),Object(jc.b)(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),sx,null,[[0,14,17,20]])}var bx=Object(d.a)().mark(dx);function lx(){return Da((function(e){var t=Object(kt.b)();if(!t)return Di.a;var n=function(){var t=Object(dv.d)();t||e({type:hc.b}),t&&e({type:hc.a})};return t.document.addEventListener("visibilitychange",n),function(){t.document.removeEventListener("visibilitychange",n)}}))}function dx(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ba(lx);case 3:e=n.sent;case 4:return n.next=7,ca(e);case 7:return t=n.sent,n.next=10,oa(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),Object(jc.b)(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),bx,null,[[0,14,17,20]])}var px=n(1033),fx=Object(d.a)().mark(jx),vx=Object(d.a)().mark(hx),Ox=Object(d.a)().mark(xx);function jx(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.ssoId,r=t.conversationId,a=t.messageId,c.next=4,Object(px.b)({ssoId:n,conversationId:r,messageId:a});case 4:e.promise&&e.promise.resolve(),Object(qh.e)({shouldReboot:!0,shouldContinueSession:!0}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),e.promise&&e.promise.reject();case 11:case"end":return c.stop()}}),fx,null,[[0,8]])}function hx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.c,jx);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),vx,null,[[0,5]])}function xx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(hx)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Ox,null,[[0,5]])}var gx=Object(d.a)().mark(Cx),mx=Object(d.a)().mark(Ex),yx=Object(d.a)().mark(Tx),kx=Object(d.a)().mark(Sx),Ix=Object(d.a)().mark(_x),wx=!0;function Cx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.prev=2,e.next=5,ca(kO.b);case 5:return e.next=7,oa({type:kO.c,payload:{}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Object(jc.b)(e.t0);case 12:e.next=1;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),Object(jc.b)(e.t1);case 19:case"end":return e.stop()}}),gx,null,[[0,16],[2,9]])}function Ex(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.prev=2,e.next=5,ca(kO.d);case 5:return e.next=7,oa({type:kO.e,payload:{}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Object(jc.b)(e.t0);case 12:e.next=1;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),Object(jc.b)(e.t1);case 19:case"end":return e.stop()}}),mx,null,[[0,16],[2,9]])}function Tx(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,wx=!1,c=new Promise((function(e,t){r=e,a=t})),o.next=5,oa(Object(s.a)({ssoId:null===(t=e.otherConfigs)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.autoLoginSSOId})({resolve:r,reject:a}));case 5:return o.next=7,c;case 7:o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),Object(jc.b)(o.t0);case 12:return o.prev=12,o.next=15,la(Ex);case 15:return o.next=17,oa({type:kO.d,payload:{}});case 17:return o.finish(12);case 18:case"end":return o.stop()}}),yx,null,[[0,9,12,18]])}function Sx(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ca(cc.a);case 3:if(e=n.sent,t=e.payload.applicationConfig,!Object(E.P)()){n.next=7;break}return n.abrupt("return");case 7:if(wx&&Object(px.a)(t)){n.next=11;break}return n.next=10,la(Ex);case 10:return n.abrupt("return");case 11:return n.next=13,ca(kO.d);case 13:return n.next=15,ba(Tx,t);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),Object(jc.b)(n.t0);case 20:case"end":return n.stop()}}),kx,null,[[0,17]])}function _x(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Sx),la(Cx)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Ix,null,[[0,5]])}var Ax=n(751);function Mx(e){return{type:Ax.b,payload:{promptId:e}}}var Rx=n(752),Px=n(1158),Nx=n(1159),Dx=Object(d.a)().mark(Ux),Lx=Object(d.a)().mark(Bx);function Ux(e){var t,n,r,a,c,o,s;return Object(d.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.type,r=t.buttonId,a=t.promptId,i.next=7,fa(m.d);case 7:if(c=i.sent,o=Hc()(c,(function(e){return e.id===a}))){i.next=11;break}return i.abrupt("return");case 11:if(n===Nx.a.TRIGGERED){i.next=14;break}return i.next=14,oa(Mx(a));case 14:if(s=Hc()(o.buttons,(function(e){return e.id===r})),n!==Nx.a.ENGAGED||!s||s.type!==Nx.b.URL||!s.value){i.next=19;break}window.open(Object(cv.d)(s.value)),i.next=22;break;case 19:if(n!==Nx.a.ENGAGED||s&&s.type===Nx.b.CLOSE){i.next=22;break}return i.next=22,oa(Object(Rx.b)({initialMessages:Gc()([].concat(Object(Po.a)(Bn()(o.messages,(function(e){var t=e.text,n=e.disableManualResponse;return{message:{text:t,disableManualResponse:void 0!==n&&n}}}))),[s?{isSentByUser:!0,message:s.label}:void 0])),createCase:!!ue()(o.additional,"createCase"),additional:Object(In.a)(Object(In.a)({},Ml()(o.additional,["interceptId","creativeId"])),{},{interceptTargetId:r,clickedOnPrompt:!0})})());case 22:Object(y.a)({topic:C.k,payload:{data:{type:n,id:a,button:s}}}),i.next=28;break;case 25:i.prev=25,i.t0=i.catch(0),Object(jc.b)(i.t0);case 28:case"end":return i.stop()}}),Dx,null,[[0,25]])}function Bx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Px.a,Ux);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Lx,null,[[0,5]])}var Gx=n(147),Fx=n.n(Gx),zx=n(1160),Vx=Object(d.a)().mark(qx),Hx="CANCEL_ACTION_TYPE",Wx=function(e){var t=Object(d.a)().mark(c),n=Object(d.a)().mark(o),r=e.sessionManagedByClient,a=null;function c(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:return t.next=4,oa(Object(s.c)({label:st.a.SESSION_ACTIVE.label,action:st.a.SESSION_ACTIVE}));case 4:return t.next=6,ia({delay:Oa(15e3),cancel:ca(Hx)});case 6:if(e=t.sent,!e.cancel){t.next=10;break}return t.abrupt("break",12);case 10:t.next=1;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),Object(jc.b)(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}function o(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a&&clearTimeout(a),e.next=4,oa({type:Hx,payload:{}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(jc.b)(e.t0);case 9:case"end":return e.stop()}}),n,null,[[0,6]])}return{startHandler:r?c:function e(t){var n=t.sessionExpiryTimeInMinutes,r=t.sessionExpiryAlertTime;try{Object(zx.a)(),a=setTimeout((function(){e({sessionExpiryTimeInMinutes:n,sessionExpiryAlertTime:r})}),function(e,t){var n=60*e*1e3-t,r=60*e*1e3/3;return n<=r?Math.max(n-2e3,0):r}(n,r))}catch(c){Object(jc.b)(c)}},stopHandler:o}};function qx(e){var t,n,r,a,c,o,s,i,u,b,l,p,f,v,O,j;return Object(d.a)().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.startEvents,n=e.stopEvents,d.prev=1,d.next=4,ca(cc.a);case 4:if(o=d.sent,s=o.payload.applicationConfig,i=s.autoExpireUserSessionTimeInMinutes,u=null===(r=s.otherConfigs.settings)||void 0===r||null===(a=r.autoExpiryConfig)||void 0===a?void 0:a.alertTime,b=i&&u,l=null===(c=s.otherConfigs.settings)||void 0===c?void 0:c.sendSessionActiveEvent,b||l){d.next=12;break}return d.abrupt("return");case 12:return p=t.map((function(e){return ca(e)})),f=n.map((function(e){return ca(e)})),d.next=16,ba(Wx,{sessionManagedByClient:l});case 16:v=d.sent,O=v.startHandler,j=v.stopHandler,d.prev=19;case 20:return d.next=23,ia(p);case 23:return d.next=25,la(O,{sessionExpiryTimeInMinutes:i,sessionExpiryAlertTime:u});case 25:return d.next=27,ia(f);case 27:return d.next=29,ba(j);case 29:d.next=20;break;case 31:d.next=36;break;case 33:d.prev=33,d.t0=d.catch(19),Object(jc.b)(d.t0);case 36:return d.prev=36,d.next=39,ba(j);case 39:return d.finish(36);case 40:d.next=45;break;case 42:d.prev=42,d.t1=d.catch(1),Object(jc.b)(d.t1);case 45:case"end":return d.stop()}}),Vx,null,[[1,42],[19,33,36,40]])}var Kx=n(947),Xx=Object(d.a)().mark(Zx),Yx=Object(d.a)().mark($x),Qx=Object(d.a)().mark(Jx);function Zx(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=Object(kt.a)(),t=e.appId,n.next=4,ba(Kx.a.remove,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),Xx,null,[[0,6]])}function $x(e){var t,n,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=Object(kt.a)(),n=t.appId,a.next=4,ba(Kx.a.get,n);case 4:return r=a.sent,a.next=7,ba(Kx.a.set,n,Fx()(r,e.payload.state));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),Object(jc.b)(a.t0);case 12:case"end":return a.stop()}}),Yx,null,[[0,9]])}function Jx(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(qx,{startEvents:[as.j,as.n,as.p,as.o,as.k,as.l,as.m],stopEvents:[as.i,as.q,as.h,as.r]}),fc([as.h,as.i],Zx),fc(as.k,$x)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Qx,null,[[0,5]])}var eg=Object(d.a)().mark(tg);function tg(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(qx,{startEvents:[Rp.g,Rp.u,Rp.v],stopEvents:[Rp.e,Rp.c,Rp.n,Rp.b]})]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),eg,null,[[0,5]])}var ng=n(654),rg=Object(d.a)().mark(ug),ag=Object(d.a)().mark(bg),cg=Object(d.a)().mark(lg),og=Object(d.a)().mark(dg);function sg(e){return e.type===xc.u}function ig(e){return e.type===xc.n}function ug(e){var t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fa(m.h);case 3:return t=r.sent,n=Object(Vt.c)(t),r.next=7,sa(e.filter(sg).map((function(e){return Object(Lo.d)(n)||ng.d.emit({type:ng.a,payload:{shouldReboot:e.payload.shouldReboot}}),null})));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(jc.b)(r.t0);case 12:case"end":return r.stop()}}),rg,null,[[0,9]])}function bg(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(ig).map((function(e){return oa({type:kO.j,payload:e.payload})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),ag,null,[[0,5]])}function lg(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,sa([ba(ug,t),ba(bg,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),cg,null,[[0,6]])}function dg(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.j,lg);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),og,null,[[0,5]])}var pg=n(758),fg=n.n(pg),vg=(n(21),n(861));function Og(e){var t=function(){Object(vg.a)().disconnect().then((function(){Object(k.a)("MQTT Client | Disconnected")})).catch((function(e){Object($s.f)(e)?console.warn(e):console.error("MQTT Client | Disconnection Error ".concat(e))}))};try{Object(vg.a)().connect().catch((function(e){Object($s.f)(e)?console.warn(e):console.error("MQTT Client | Connection Error ".concat(e))})),function(){var e=Object(vg.a)();e.on("error",(function(){Object(k.a)("MQTT Client | Error")})),e.on("offline",(function(){Object(k.a)("MQTT Client | Offline")})),e.on("reconnect",(function(){Object(k.a)("MQTT Client | Reconnect")})),e.on("close",(function(){Object(k.a)("MQTT Client | Closed")}))}(),Object(vg.a)().subscribe().catch((function(e){Object($s.f)(e)?console.warn(e):console.error("MQTT client | Subscribe Error ".concat(e))})),Object(vg.a)().on("message",(function(t,n){try{var r=JSON.parse(n.toString());e(r)}catch(a){Object(jc.b)(a)}}))}catch(n){Object(jc.b)(n),t()}return t}var jg=n(1120),hg=function(){return"A_".concat((e=Date.now(),"".concat(Math.floor(e/1e3).toString(16),"0000000000000000")));var e},xg=dj()((function(){var e=hg();return{set:function(t){e=t||e},get:function(){return e}}})),gg=!0;function mg(e,t){var n=xg();return new jg.a((function(){return Date.now(),function(e){return Object(Qc.__awaiter)(this,void 0,void 0,Object(d.a)().mark((function t(){var n,r,a,c,o;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||ui.a,r=n.cursor,a=n.lastActiveDiff,c=n.active,t.next=3,ac.a.post("".concat(tu,"/fetch-notifications").concat(r?"?cursor=".concat(r):""),{lastActiveDiff:a,active:c},{headers:{"x-chat-auto":!0},backoff:!0});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((function(t){var r=t.results,a=t.afterCursor,c=t.details,o=t.browserTimeAtServerTime,s=c.SERVER_TIMESTAMP,i={type:kO.o,payload:{serverTimestamp:s,browserTimeAtServerTime:o}};e(null,r,{isFirstCall:gg,serverTimeDifferenceAction:i}),gg=!1,n.set(a)})).catch((function(t){e(Object($s.c)(t)?t:null,[],{})}))}),Object(In.a)(Object(In.a)({},t||{}),{},{pollInterval:15e3}))}var yg,kg=n(1846),Ig=n(1853),wg=n(1745),Cg=Object(kg.a)(["payload","type"]),Eg=Object(Ig.a)("conversationId"),Tg=Object(Ig.a)("sender"),Sg=Object(Ig.a)("payload"),_g=Object(Ig.a)("creationTime"),Ag=Object(Yn.a)((function e(){Object(Xn.a)(this,e)}));Ag.getMessageType=Object(wg.a)(Cg),Ag.getConversationId=Object(wg.a)(Eg),Ag.getSender=Object(wg.a)(Tg),Ag.getCreationTime=Object(wg.a)(_g),Ag.getPayload=function(e){return Object(wg.a)(Sg)(e)};var Mg=(yg={},Object(kn.a)(yg,xc.r,(function(e){return{payload:{conversationId:Ag.getConversationId(e),messageId:Ag.getPayload(e).messageId},type:xc.r}})),Object(kn.a)(yg,xc.q,(function(e){return{payload:{conversationId:Ag.getConversationId(e),messageId:Ag.getPayload(e).messageId},type:xc.q}})),Object(kn.a)(yg,xc.o,(function(e){return{payload:Object(In.a)(Object(In.a)({},pn()(e.payload.externalEvent,["type","action","conversationId","payload"])),{},{actionType:Ag.getPayload(e).externalEvent.action,externalParams:Ag.getPayload(e).externalEvent.payload,contextId:Ag.getConversationId(e)}),type:xc.o}})),Object(kn.a)(yg,xc.s,(function(e){return{type:Ag.getPayload(e).event.action,payload:Ag.getPayload(e).event.payload?JSON.parse(Ag.getPayload(e).event.payload):{}}})),Object(kn.a)(yg,xc.k,(function(e){return{payload:{conversationId:Ag.getConversationId(e),chatUserId:Ag.getPayload(e).chatUserId},type:xc.k}})),Object(kn.a)(yg,xc.i,(function(e){return{payload:{conversationId:Ag.getConversationId(e),sender:Ag.getSender(e),actionTime:Ag.getCreationTime(e)},type:xc.i}})),Object(kn.a)(yg,xc.j,(function(e){return{payload:{conversationId:Ag.getConversationId(e),sender:Ag.getSender(e),actionTime:Ag.getCreationTime(e)},type:xc.j}})),Object(kn.a)(yg,xc.l,(function(e){return{payload:{conversationId:Ag.getConversationId(e),sender:Ag.getSender(e),closed:Ag.getPayload(e).closed,deleted:Ag.getPayload(e).deleted,caseNumber:Ag.getPayload(e).caseNumber,caseId:Ag.getPayload(e).caseId,expireAssetUntilLastMessageId:Ag.getPayload(e).lastMessageId,requestClientId:null===e||void 0===e?void 0:e.requestClientId},type:xc.l}})),Object(kn.a)(yg,xc.d,(function(e){var t=Ag.getPayload(e).audioOnly;return{payload:{videoConversationId:Ag.getPayload(e).videoConversationId,conversationId:Ag.getConversationId(e),participantInfos:Ag.getPayload(e).participantInfos,type:t?ke.c.AUDIO:ke.c.VIDEO},type:xc.d}})),Object(kn.a)(yg,xc.c,(function(e){return{payload:{conversationId:Ag.getConversationId(e),videoConversationId:Ag.getPayload(e).videoConversationId},type:xc.c}})),Object(kn.a)(yg,xc.h,(function(e){return{payload:{conversationId:Ag.getConversationId(e),videoCallEnabled:Ag.getPayload(e).videoEnabled,audioCallEnabled:Ag.getPayload(e).audioEnabled},type:xc.h}})),Object(kn.a)(yg,xc.g,(function(e){return{payload:{conversationId:Ag.getConversationId(e),permissions:Ag.getPayload(e).permissions,videoConversationId:Ag.getPayload(e).videoConversationId},type:xc.g}})),Object(kn.a)(yg,xc.f,(function(e){return{payload:{conversationId:Ag.getConversationId(e),videoConversationId:Ag.getPayload(e).conversation.id,conversation:Ag.getPayload(e).conversation,participant:Ag.getPayload(e).participant},type:xc.f}})),Object(kn.a)(yg,xc.b,(function(e){return{payload:{conversationId:Ag.getConversationId(e),videoConversationId:Ag.getPayload(e).videoConversationId},type:xc.b}})),Object(kn.a)(yg,xc.e,(function(e){return{payload:{conversationId:Ag.getConversationId(e),videoConversationId:Ag.getPayload(e).videoConversationId},type:xc.e}})),Object(kn.a)(yg,xc.m,(function(e){return{payload:{status:Ag.getPayload(e).status},type:xc.m}})),Object(kn.a)(yg,xc.a,(function(e){var t=Ag.getPayload(e).action;return{payload:{additional:{conversationId:Ag.getConversationId(e),actionIdentifier:t.params.actionIdentifier},request:{url:t.params.httpUrl,method:t.params.httpMethod,payload:t.params.httpPayload},id:t.params.requestId,type:t.actionType},type:xc.a}})),Object(kn.a)(yg,xc.n,(function(e){var t=e.payload,n=t.request;return{payload:{request:n,id:t.id,type:n.type},type:xc.n}})),Object(kn.a)(yg,xc.u,(function(e){return{payload:{shouldReboot:Ag.getPayload(e).shouldReboot},type:xc.u}})),yg);function Rg(e){try{var t=Ag.getMessageType(e),n=Mg[t];if(n)return n(e)}catch(r){Object(jc.b)(r)}}var Pg=function(){var e=new Set;return{add:function(t){return e.add(t)},clear:function(){return e.clear()},has:function(t){return e.has(t)}}}(),Ng=Object(d.a)().mark(rm),Dg=Object(d.a)().mark(am),Lg=Object(d.a)().mark(cm),Ug=Object(d.a)().mark(om),Bg=Object(d.a)().mark(sm),Gg=Object(d.a)().mark(im),Fg=Object(d.a)().mark(um),zg=Object(d.a)().mark(bm),Vg=Object(d.a)().mark(lm),Hg=Object(d.a)().mark(dm),Wg=Object(d.a)().mark(pm),qg=Object(d.a)().mark(fm),Kg=Object(d.a)().mark(vm),Xg=function(){var e=0,t=!0;return{getLastActiveTimeDifference:function(){return t||Object(dv.d)()?0:Date.now()-e},setAppActive:function(n){t=n,n||(e=Date.now())}}}(),Yg=function(e,t){return function(e,t){var n;function r(){n&&n.stop()}try{(n=mg(e,t)).start()}catch(a){r()}return r}((function(t,n,r){var a=r.isFirstCall,c=r.serverTimeDifferenceAction;if(e(Object(s.g)(!t)),!t){c&&e(c);var o=n.filter((function(e){return!Pg.has(e.id)})).map(Rg).filter((function(e){return!!e})).filter((function(e){return!a||!function(e){return e.type===xc.f||e.type===xc.d}(e)}));e(o),Pg.clear()}}),Object(In.a)(Object(In.a)({},t),{},{getLastActiveTimeDifference:Xg.getLastActiveTimeDifference}))};function Qg(){return Da((function(e){var t=function(e){return Og((function(t){var n=Rg(t);n&&(Pg.add(t.id),e(n))}))}(e);return function(){t()}}))}function Zg(){return Da((function(e){var t=Yg(e);return function(){t()}}))}function $g(){return Da((function(e){var t,n=Yg(e,{enableBackOff:!0});return t=window.setTimeout((function(){n()}),432e5),function(){t&&window.clearTimeout(t),n()}}))}var Jg=function(e){return e.type===hc.d},em=function(e){return e.type===kO.o},tm=function(e){return!Jg(e)&&!em(e)},nm=function(e,t,n){var r=ue()(e.payload,"contextId")||ue()(e.payload,"conversationId");return!!t&&(!r||!n||n.startsWith(Ks.e)||r===n)};function rm(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(Jg).map((function(e){return oa(e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Ng,null,[[0,5]])}function am(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oa(fg()(e,em));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),Dg,null,[[0,5]])}function cm(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.filter(tm),!Object(E.E)()){c.next=9;break}return c.next=5,fa(ov.c);case 5:n=c.sent,r=n.isConversationPath,a=n.conversationId,t=t.filter((function(e){return nm(e,r,a)}));case 9:if(pe()(t)){c.next=14;break}return c.next=12,oa({type:hc.j,payload:{events:t}});case 12:return c.next=14,oa(Object(s.e)());case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),Object(jc.b)(c.t0);case 19:case"end":return c.stop()}}),Lg,null,[[0,16]])}function om(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Do()(e),n.next=4,sa([ba(rm,t),ba(am,t),ba(cm,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),Ug,null,[[0,6]])}function sm(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.prev=1,n.next=4,ba($g);case 4:return e=n.sent,n.next=7,fc(e,om);case 7:return t=n.sent,n.next=10,ca(hc.a);case 10:n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:if(n.prev=14,e&&e.close(),!t||t.isCancelled()){n.next=19;break}return n.next=19,pa(t);case 19:return n.finish(14);case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(jc.b)(n.t1);case 25:case"end":return n.stop()}}),Bg,null,[[0,22],[1,12,14,20]])}function im(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ca(hc.b);case 4:return n.next=6,ia([ca(hc.a),Oa(18e5)]);case 6:if(e=n.sent,t=Object(Ne.a)(e,2),t[0],!t[1]){n.next=12;break}return n.abrupt("break",14);case 12:n.next=1;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),Object(jc.b)(n.t0);case 19:case"end":return n.stop()}}),Gg,null,[[0,16]])}function um(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.prev=1,n.next=4,ba(Zg);case 4:return e=n.sent,n.next=7,fc(e,om);case 7:return t=n.sent,n.next=10,ba(im);case 10:n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:if(n.prev=14,e&&e.close(),!t||t.isCancelled()){n.next=19;break}return n.next=19,pa(t);case 19:return n.finish(14);case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(jc.b)(n.t1);case 25:case"end":return n.stop()}}),Fg,null,[[0,22],[1,12,14,20]])}function bm(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ca(hc.b);case 4:return n.next=6,ia([ca(hc.a),Oa(108e5)]);case 6:if(e=n.sent,t=Object(Ne.a)(e,2),t[0],!t[1]){n.next=12;break}return n.abrupt("break",14);case 12:n.next=1;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),Object(jc.b)(n.t0);case 19:case"end":return n.stop()}}),zg,null,[[0,16]])}function lm(){var e,t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.prev=2,n.next=5,ia([ca(hc.h),ca(hc.a)]);case 5:return n.next=7,ba(Qg);case 7:return e=n.sent,n.next=10,fc(e,om);case 10:return t=n.sent,n.next=13,ba(bm);case 13:n.next=17;break;case 15:n.prev=15,n.t0=n.catch(2);case 17:if(n.prev=17,e&&e.close(),!t||t.isCancelled()){n.next=22;break}return n.next=22,pa(t);case 22:return n.finish(17);case 23:n.next=1;break;case 25:n.next=30;break;case 27:n.prev=27,n.t1=n.catch(0),Object(jc.b)(n.t1);case 30:case"end":return n.stop()}}),Vg,null,[[0,27],[2,15,17,23]])}function dm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ia([ca(hc.g),ca(hc.a)]);case 3:return e.next=6,ba(um);case 6:return e.next=8,ba(sm);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Object(jc.b)(e.t0);case 15:case"end":return e.stop()}}),Hg,null,[[0,12]])}function pm(){var e,t,n;return Object(d.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,ia([ca(hc.a),ca(hc.b)]);case 4:e=r.sent,t=Object(Ne.a)(e,2),n=t[0],t[1],Xg.setAppActive(!!n),r.next=1;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Object(jc.b)(r.t0);case 16:case"end":return r.stop()}}),Wg,null,[[0,13]])}function fm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca(cc.c);case 3:Pg.clear(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(jc.b)(e.t0);case 9:case"end":return e.stop()}}),qg,null,[[0,6]])}function vm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(lm),la(dm),la(pm),la(fm)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Kg,null,[[0,5]])}var Om=n(706),jm=Object(d.a)().mark(mm),hm=Object(d.a)().mark(ym),xm=Object(d.a)().mark(km);function gm(e){return e.type===xc.a}function mm(e){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sa(e.filter(gm).map((function(e){return oa({type:Om.a,payload:e.payload})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(jc.b)(t.t0);case 8:case"end":return t.stop()}}),jm,null,[[0,5]])}function ym(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,sa([ba(mm,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(jc.b)(n.t0);case 9:case"end":return n.stop()}}),hm,null,[[0,6]])}function km(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(hc.j,ym);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),xm,null,[[0,5]])}var Im=new(n(905).a),wm=function(){var e=Object(p.a)(Object(d.a)().mark((function e(t){var n,r,a,c,o,s,i,u,b,l,p;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.method,r=void 0===n?"GET":n,a=t.url,c=void 0===a?"":a,o=t.payload,s=void 0===o?ui.a:o,i=t.headers,u=void 0===i?ui.a:i,e.prev=1,"POST"!==r&&"PUT"!==r){e.next=8;break}return e.next=5,Im[r.toLowerCase()](c,s,{withCredentials:!0,headers:u});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Im[r.toLowerCase()](c,{withCredentials:!0,headers:u});case 10:e.t0=e.sent;case 11:p=e.t0,b=p.request.status,l=p.request.responseText,e.next=20;break;case 16:e.prev=16,e.t1=e.catch(1),Object(jc.b)(e.t1),Object($s.f)(e.t1)?(b=e.t1.request.status,l=e.t1.request.responseText):(b=500,l="");case 20:return e.abrupt("return",{status:b,responseText:l});case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),Cm=function(){var e=Object(p.a)(Object(d.a)().mark((function e(t){var n,r,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wm(t.request);case 2:return n=e.sent,r=n.status,a=n.responseText,e.next=7,ac.a.post("livechat/conversation/process-endpoint-response",{status:r,response:a,id:t.id});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Em="/livechat/cart",Tm=function(){var e=Object(p.a)(Object(d.a)().mark((function e(t){var n,r,a,c,o,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,r=t.additional,a=t.id,e.next=3,wm(n);case 3:return c=e.sent,o=c.status,s=c.responseText,e.next=8,ac.a.post("".concat(Em,"/on-add-to-cart/").concat(r.conversationId),{status:o,responseText:s,actionIdentifier:r.actionIdentifier,requestId:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sm=function(e){return ac.a.post("".concat(Em,"/update-cart"),e)},_m=function(e){return ac.a.post("".concat(Em,"/remove-from-cart"),e)},Am=Object(d.a)().mark(Rm),Mm=Object(d.a)().mark(Pm);function Rm(e){var t,n,r,a,c;return Object(d.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,t=e.payload,n=t.type,r=t.request,a=t.additional,c=t.id,"HTTP_REQUEST"!==n){o.next=5;break}return o.next=5,ba(Tm,{request:r,additional:a,id:c});case 5:o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),Object(jc.b)(o.t0);case 10:case"end":return o.stop()}}),Am,null,[[0,7]])}function Pm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Om.a,Rm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Mm,null,[[0,5]])}var Nm=n(702),Dm={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},Lm={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Dm,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Um={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Dm,quantity:{type:"number"}}}}},Bm=Object(d.a)().mark(Fm),Gm=Object(d.a)().mark(zm);function Fm(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=Object(Nm.a)(r,Lm))){n.next=5;break}return Object(k.a)("Invalid payload passed to update cart, please check",t),n.abrupt("return");case 5:return n.next=7,ba(Sm,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}var r}),Bm,null,[[0,9]])}function zm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Om.c,Fm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Gm,null,[[0,5]])}var Vm=Object(d.a)().mark(Wm),Hm=Object(d.a)().mark(qm);function Wm(e){var t;return Object(d.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=Object(Nm.a)(r,Um))){n.next=5;break}return Object(k.a)("Invalid payload passed to remove from cart, please check",t),n.abrupt("return");case 5:return n.next=7,ba(_m,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(jc.b)(n.t0);case 12:case"end":return n.stop()}var r}),Vm,null,[[0,9]])}function qm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(Om.b,Wm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Hm,null,[[0,5]])}var Km=Object(d.a)().mark(Xm);function Xm(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(km),la(Pm),la(zm),la(qm)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Km,null,[[0,5]])}var Ym=Object(d.a)().mark(Zm),Qm=Object(d.a)().mark($m);function Zm(e){var t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.payload,n=t.type,r=t.request,a=t.id,"HTTP_REQUEST"!==n){c.next=5;break}return c.next=5,ba(Cm,{request:r,id:a});case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),Object(jc.b)(c.t0);case 10:case"end":return c.stop()}}),Ym,null,[[0,7]])}function $m(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(kO.j,Zm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),Qm,null,[[0,5]])}var Jm=n(63),ey=n.n(Jm),ty=n(925),ny=n(923),ry=n(1100),ay=n(841),cy=n(1099),oy=function(){var e=Object(p.a)(Object(d.a)().mark((function e(t){var r,a,c,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.applicationConfig,a=t.preloadedState,e.prev=1,ay.a.reset(),Object(ny.e)(ny.a.PENDING),e.next=6,Object(ty.b)(Object(kt.a)());case 6:c=e.sent,Object(ty.h)({handshakeDetails:c}),Object(ry.b)(c.chatUser),r.hasPrompts&&n.e(55).then(n.bind(null,1817)).then((function(e){(0,e.default)(r,c)})),ky(null,{applicationConfig:r,handshakeDetails:c,chatSettings:Object(kt.a)(),subscribeToEvent:ty.f,preloadedState:a}),e.next=22;break;case 13:if(e.prev=13,e.t0=e.catch(1),o=Hj.a.getUserSettings(Object(kt.a)()),!(Object($s.e)(e.t0)&&o&&cy.a.getOneTimeToken(o))){e.next=20;break}ky(e.t0,{applicationConfig:r,handshakeDetails:c,chatSettings:Object(kt.a)(),subscribeToEvent:ty.f,preloadedState:a}),e.next=22;break;case 20:return e.next=22,Object(ty.e)();case 22:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),sy=oy,iy=Object(d.a)().mark(py),uy=Object(d.a)().mark(fy),by=Object(d.a)().mark(vy),ly=Object(d.a)().mark(Oy),dy=Object(d.a)().mark(jy);function py(){var e,t,n,r,a;return Object(d.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ca(cc.a);case 3:e=c.sent,t=e.payload.applicationConfig;case 5:return c.prev=6,c.next=9,ca(cc.b);case 9:if(n=c.sent,r=n.payload.shouldContinueSession,a=void 0,!r){c.next=16;break}return c.next=15,fa(ey.a);case 15:a=c.sent;case 16:return c.next=18,sy({applicationConfig:t,preloadedState:a});case 18:c.next=23;break;case 20:c.prev=20,c.t0=c.catch(6),Object(jc.b)(c.t0);case 23:c.next=5;break;case 25:c.next=30;break;case 27:c.prev=27,c.t1=c.catch(0),Object(jc.b)(c.t1);case 30:case"end":return c.stop()}}),iy,null,[[0,27],[6,20]])}function fy(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Qv),la(Bx),la(Vj),la(nh),la(Mh),la(ux),la(dx),la(Dh),la(cx),la(vO),la(Jx),la(tg),la(dg),la(vm),la(Xm),la($m)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),uy,null,[[0,5]])}function vy(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ca(cc.c);case 3:Object(ty.d)(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(jc.b)(e.t0);case 9:case"end":return e.stop()}}),by,null,[[0,6]])}function Oy(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(Wh),la(py),la(_x),la(xx),la(vy)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(jc.b)(e.t0);case 8:case"end":return e.stop()}}),ly,null,[[0,5]])}function jy(){var e;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,la(Oy);case 3:return t.next=5,la(fy);case 5:return e=t.sent,t.next=8,ca(cc.c);case 8:return t.next=10,pa(e);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Object(jc.b)(t.t0);case 15:case"end":return t.stop()}}),dy,null,[[0,12]])}var hy=Object(d.a)().mark(xy);function xy(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa([la(rv),la(jy)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),hy,null,[[0,5]])}var gy=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new oc).setReducer(m.a).setSaga(xy).setPreloadedState(r).setHTTPClient(rh.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function my(e){var t=e.applicationConfig,n=e.store,r=e.history,a=Object(kt.b)().document,c=Object(E.P)()?E.b:E.c;o.a.render(Object(i.jsx)(Kn,{applicationConfig:t,history:r,store:n}),c(a,Rn.a))}function yy(e,t){var n=t.applicationConfig,r=t.handshakeDetails,a=t.chatSettings,c=t.subscribeToEvent,o=gy(n,r,a),s=Object(av.b)({isUnauthorized:!!e});Object(vg.b)(r,n);c((function(t){e||o.dispatch(t)})),my({applicationConfig:n,store:o,history:s})}function ky(e,t){var n=t.applicationConfig,r=t.handshakeDetails,a=t.chatSettings,c=t.subscribeToEvent,o=t.preloadedState,s=gy(n,r,a,o),i=Object(av.b)({isUnauthorized:!!e,reset:!o});Object(vg.b)(r,n);c((function(t){e||s.dispatch(t)})),my({applicationConfig:n,store:s,history:i}),o?i.goBack():i.go(i.entries.length-1)}},1017:function(e,t,n){"use strict";n.d(t,"b",(function(){return ct})),n.d(t,"a",(function(){return it}));var r=n(25),a=n(374),c=n(193),o=n(1045),s=n(166),i=n(194);var u=n(43),b=(n(59),n(131),n(208),n(209),n(841)),l=n(441),d=n(922),p=n(923),f=n(1095),v=n(585),O=n(29),j=n(462),h=n.n(j),x=n(87),g=n.n(x),m=n(509),y="APP_AVAILABLE",k="APP_IN_SESSION",I=n(5),w=n(6);function C(e,t){var n=Object(I.R)(t);if(!g()(n)){var r=h()(Object(w.a)(),{userContext:{$merge:n}});Object(w.f)(r),e({type:m.g,payload:n})}}C.dependecies=[k];var E=n(1096);function T(e,t){e({type:E.a,payload:t})}T.dependecies=[k];var S=n(430),_=n(404);function A(e){e({type:S.f,payload:_.a})}A.dependecies=[k];n(11),n(134);function M(e,t,n){new Promise((function(n,r){e({type:S.m,payload:null!==t&&void 0!==t?t:_.a,promise:{resolve:n,reject:r}})})).then((function(e){null===n||void 0===n||n({data:e})})).catch((function(e){null===n||void 0===n||n({error:e})}))}M.dependecies=[y];n(137);var R=n(583),P=n.n(R),N=n(398),D=n.n(N),L=n(898),U=function(e){var t=e.topic,n=e.legacySubscriberMap,r=e.legacySubscriber,a=e.newSubscriber;return Object(L.b)(D.a,{topic:t,subscriber:a}),n.push({legacySubscriber:r,newSubscriber:a}),n},B=function(e){var t=e.topic,n=e.legacySubscriberMap,r=e.legacySubscriber,a=P()(n,(function(e){return e.legacySubscriber===r}));return-1!==a&&(Object(L.c)(D.a,{topic:t,subscriber:n[a].newSubscriber}),n.splice(a,1)),n},G=n(435);function F(e){Object(I.Q)()&&e({type:S.b,payload:_.a})}F.dependecies=[y];var z=[];var V=n(30),H=n.n(V),W=[];var q=[];var K=n(751);function X(e,t){e({type:K.a,payload:t})}function Y(e,t){e({type:K.b,payload:{promptId:t.id}})}X.dependecies=[k,y],Y.dependecies=[k];var Q=[];var Z=n(14),$=n(8),J=n.n($),ee=n(22),te=n.n(ee),ne=n(466),re=n(752),ae=n(658);function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=J()(t)?t:H()(t,"initialMessages");new Promise((function(r,a){e(Object(re.b)({initialMessages:n,conversationContext:H()(t,"conversationContext"),assignToUser:H()(t,"assignToUser"),createCase:!!H()(t,"autoInitiateConversation"),additional:!J()(t)&&te()(t)?Object(Z.a)(Object(Z.a)({},t.additional),{},{externalCaseId:t.id}):void 0,silent:!!H()(t,"silent")})({resolve:r,reject:a}))})).then((function(e){Object(ne.a)({topic:ae.M,payload:{data:{conversationId:e},request:t}})})).catch((function(e){Object(ne.a)({topic:ae.M,payload:{error:e,request:t}})}))}ce.dependecies=[k,y];var oe=n(565);function se(e,t){var n=Object(oe.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}se.dependecies=[y];var ie=n(456),ue=n.n(ie),be=n(418);function le(e,t){ue()(t.payload)?Object(ne.a)({topic:ae.R,payload:{error:v.a.INCORRECT_PAYLOAD,request:t}}):e({type:be.z,payload:t})}le.dependecies=[k,y];var de=n(924);function pe(e,t){var n=Object(Z.a)(Object(Z.a)({},t),{},{context:Object(I.R)(t.context)});new Promise((function(r,a){var c=t.conversationId;de.a.info({chatConversationId:c,message:"".concat(c,": updateConversationContext SDK called"),additionalDetails:{params:n}}),e({type:be.k,payload:n,promise:{resolve:r,reject:a}})})).then((function(e){Object(ne.a)({topic:ae.X,payload:{data:e,request:Object(Z.a)(Object(Z.a)({},n),{},{conversationId:n.conversationId||e.conversationId}),shouldLogEvent:!0}})})).catch((function(e){Object(ne.a)({topic:ae.X,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function fe(e,t){var n=Object(I.R)(t);if(!g()(n)){var r=h()(Object(w.a)(),{clientContext:{$merge:n}});Object(w.f)(r),e({type:be.e,payload:{context:n}})}}pe.dependecies=[k],fe.dependecies=[y];var ve=[];var Oe=[];var je=[];var he=[];function xe(e){Object(I.Q)()&&e({type:S.i,payload:_.a})}function ge(e){Object(I.Q)()&&e({type:S.h,payload:_.a})}xe.dependecies=[k],ge.dependecies=[y];var me=[];var ye=n(706);function ke(e,t){e({type:ye.c,payload:t})}function Ie(e,t){e({type:ye.b,payload:t})}ke.dependecies=[k],Ie.dependecies=[k];var we=n(217),Ce=n.n(we),Ee=n(446),Te=(n(361),n(702));Te.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};var Se={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},_e=Object.assign(Object.assign({},Se),{deviceToken:{type:"string",presence:!0}});function Ae(e,t){if(t.appVersion=Ce()(t.appVersion),n=t,Object(Te.a)(n,_e))throw Object(l.a)("Invalid device registration payload",t),new Error(v.a.INCORRECT_PAYLOAD);var n;return Ee.a.post("".concat("/livechat/event","/push/register-device"),t).then((function(){return{}})).catch((function(){throw new Error(v.a.NETWORK_FAILURE)}))}Ae.dependecies=[k];var Me=[];function Re(e,t){if(t.appVersion=Ce()(t.appVersion),n=t,Object(Te.a)(n,Se))throw Object(l.a)("Invalid device unregistration payload",t),new Error(v.a.INCORRECT_PAYLOAD);var n;return Ee.a.post("".concat("/livechat/event","/push/unregister-device"),t).then((function(){return{}})).catch((function(){throw new Error(v.a.NETWORK_FAILURE)}))}Re.dependecies=[k];var Pe=[];var Ne=[];var De=n(382),Le=n(510),Ue=n(366),Be=["type"];function Ge(e,t){var n=t.type,r=Object(De.a)(t,Be);if(n===Le.r){var a=r.cId;new Promise((function(t,n){e(Object(re.a)({conversationId:a},{resolve:t,reject:n}))})).catch((function(e){Object(Ue.b)(e)}))}}Ge.dependecies=[k,y];var Fe=n(90),ze=n.n(Fe),Ve=function(e){Ke(D.a,e)},He=null,We=Ve;function qe(e,t){ze()(t)&&(We=t)}function Ke(e,t){He&&(He(t),He=null)}Object(L.b)(D.a,{topic:G.j,subscriber:function(e){var t=(e.response||{}).data,n=void 0===t?{}:t,r=n.callBack,a=n.permissions;He=r,We(a)}});var Xe=function(e,t,n){e({type:S.a,payload:{id:t.id,filters:t.filters,cb:n}})};Xe.dependecies=[k];var Ye=function(e,t){e({type:S.n,payload:{id:t.id}})};Ye.dependecies=[k];var Qe=function(e){Ee.a.post("".concat("/livechat/conversation","/fetchAgentAvailabilityDetails")).then((function(e){Object(ne.a)({topic:ae.g,payload:{data:e.data}})})).catch((function(){Object(ne.a)({topic:ae.g,payload:{error:v.a.NETWORK_FAILURE}})}))};Qe.dependecies=[k];var Ze=n(657);function $e(e,t){new Promise((function(n,r){var a=te()(t)?t:{conversationId:t};a.externalCaseId&&a.conversationId?r(Ze.a.NOT_ACCEPTABLE):e(Object(re.a)(a,{resolve:n,reject:r}))})).catch((function(e){Object(Ue.b)(e)}))}$e.dependecies=[k,y];var Je=n(1098);function et(e,t,n){new Promise((function(n,r){e({type:m.f,payload:{locale:t},promise:{resolve:n,reject:r}})})).then((function(e){null===n||void 0===n||n({data:e})})).catch((function(e){null===n||void 0===n||n({error:e})}))}et.dependecies=[k,y];var tt,nt=n(53);var rt=(tt={},Object(O.a)(tt,ae.ab,[C]),Object(O.a)(tt,ae.bb,[T]),Object(O.a)(tt,ae.K,[M]),Object(O.a)(tt,ae.d,[F]),Object(O.a)(tt,ae.J,[function(e,t){W=U({topic:G.m,legacySubscriberMap:W,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(H()(n,"count"))}})}]),Object(O.a)(tt,ae.v,[function(e,t){W=B({topic:G.m,legacySubscriberMap:W,legacySubscriber:t})}]),Object(O.a)(tt,ae.D,[function(e,t){q=U({topic:G.g,legacySubscriberMap:q,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(O.a)(tt,ae.q,[function(e,t){q=B({topic:G.g,legacySubscriberMap:q,legacySubscriber:t})}]),Object(O.a)(tt,ae.y,[function(e,t){z=U({topic:G.d,legacySubscriberMap:z,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(O.a)(tt,ae.l,[function(e,t){z=B({topic:G.d,legacySubscriberMap:z,legacySubscriber:t})}]),Object(O.a)(tt,ae.f,[xe]),Object(O.a)(tt,ae.e,[ge]),Object(O.a)(tt,ae.x,[function(e,t){Ne=U({topic:G.c,legacySubscriberMap:Ne,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n.isChatVisible)}})}]),Object(O.a)(tt,ae.k,[function(e,t){Ne=B({topic:G.c,legacySubscriberMap:Ne,legacySubscriber:t})}]),Object(O.a)(tt,ae.S,[L.b]),Object(O.a)(tt,ae.U,[L.c]),Object(O.a)(tt,ae.a,[Xe]),Object(O.a)(tt,ae.P,[Ye]),Object(O.a)(tt,ae.N,[X]),Object(O.a)(tt,ae.b,[Y]),Object(O.a)(tt,ae.G,[function(e,t){Q=U({topic:G.k,legacySubscriberMap:Q,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(O.a)(tt,ae.s,[function(e,t){Q=B({topic:G.k,legacySubscriberMap:Q,legacySubscriber:t})}]),Object(O.a)(tt,ae.M,[ce]),Object(O.a)(tt,ae.R,[le]),Object(O.a)(tt,ae.c,[A]),Object(O.a)(tt,ae.X,[pe]),Object(O.a)(tt,ae.W,[fe]),Object(O.a)(tt,ae.Z,[function(e,t,n){new Promise((function(n,r){var a=Object(w.a)().skin===nt.a;!t||!I.a.includes(t)||a&&"DARK"===t?r(v.a.INCORRECT_PAYLOAD):(Object(w.f)({themeMode:t}),e({type:S.r,payload:{themeMode:t},promise:{resolve:n,reject:r}}))})).then((function(e){null===n||void 0===n||n({data:e})})).catch((function(e){null===n||void 0===n||n({error:e})}))}]),Object(O.a)(tt,ae.I,[function(e,t){je=U({topic:G.i,legacySubscriberMap:je,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(O.a)(tt,ae.u,[function(e,t){je=B({topic:G.i,legacySubscriberMap:je,legacySubscriber:t})}]),Object(O.a)(tt,ae.z,[function(e,t){he=U({topic:G.h,legacySubscriberMap:he,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(O.a)(tt,ae.m,[function(e,t){he=B({topic:G.h,legacySubscriberMap:he,legacySubscriber:t})}]),Object(O.a)(tt,ae.C,[function(e,t){me=U({topic:G.e,legacySubscriberMap:me,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(O.a)(tt,ae.p,[function(e,t){me=B({topic:G.e,legacySubscriberMap:me,legacySubscriber:t})}]),Object(O.a)(tt,ae.g,[Qe]),Object(O.a)(tt,ae.L,[$e]),Object(O.a)(tt,ae.cb,[function(e,t){var n=t.details.status;Je.a[n]?e({type:S.s,payload:t}):(Object(l.a)("Invaild status code",n),Object(ne.a)({topic:S.s,payload:{data:t,error:v.a.INCORRECT_PAYLOAD}}))}]),Object(O.a)(tt,ae.Y,[et]),Object(O.a)(tt,ae.V,[ke]),Object(O.a)(tt,ae.Q,[Ie]),Object(O.a)(tt,ae.O,[Ae,function(e,t){Object(ne.a)({topic:G.l,payload:{data:t,error:e}})}]),Object(O.a)(tt,ae.A,[function(e,t){Me=U({topic:G.l,legacySubscriberMap:Me,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(O.a)(tt,ae.n,[function(e,t){Me=B({topic:G.l,legacySubscriberMap:Me,legacySubscriber:t})}]),Object(O.a)(tt,ae.T,[Re,function(e,t){Object(ne.a)({topic:G.n,payload:{data:t,error:e}})}]),Object(O.a)(tt,ae.B,[function(e,t){Pe=U({topic:G.n,legacySubscriberMap:Pe,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(O.a)(tt,ae.o,[function(e,t){Pe=B({topic:G.n,legacySubscriberMap:Pe,legacySubscriber:t})}]),Object(O.a)(tt,ae.w,[function(e,t){ve=U({topic:G.a,legacySubscriberMap:ve,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(O.a)(tt,ae.j,[function(e,t){ve=B({topic:G.a,legacySubscriberMap:ve,legacySubscriber:t})}]),Object(O.a)(tt,ae.E,[function(e,t){Oe=U({topic:G.b,legacySubscriberMap:Oe,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(O.a)(tt,ae.r,[function(e,t){Oe=B({topic:G.b,legacySubscriberMap:Oe,legacySubscriber:t})}]),Object(O.a)(tt,ae.h,[se]),Object(O.a)(tt,ae.F,[Ge]),Object(O.a)(tt,ae.H,[qe]),Object(O.a)(tt,ae.t,[function(e){qe(0,Ve)}]),Object(O.a)(tt,ae.i,[Ke]),tt),at=function(){var e=Object(u.a)(Object(r.a)().mark((function e(){var t,n,u,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.a.isEmpty()){e.next=6;break}return t=f.a.popNextCmd(),r=t,n=Object(c.a)(r)||Object(o.a)(r)||Object(s.a)(r)||Object(i.a)(),u=n[0],b=n.slice(1),e.next=4,it.apply(void 0,[f.a.getBufferQueue(),u].concat(Object(a.a)(b)));case 4:return e.next=6,at();case 6:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(u.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.a.isFlushingInProgress()){e.next=4;break}f.a.setIsReFlushPending(!0),e.next=13;break;case 4:return f.a.setIsFlushingInProgress(!0),e.next=7,at();case 7:if(f.a.setIsFlushingInProgress(!1),f.a.isEmpty(f.a.getBufferQueue())||f.a.move(f.a.getBufferQueue(),f.a.getQueue()),!f.a.isReFlushPending()){e.next=13;break}return f.a.setIsReFlushPending(!1),e.next=13,ct();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ot(e,t,n){return st.apply(this,arguments)}function st(){return st=Object(u.a)(Object(r.a)().mark((function e(t,n,c){var o,s,i,u,d,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:for(o=p.length,s=new Array(o>3?o-3:0),i=3;i<o;i++)s[i-3]=p[i];return u=[b.a.emit.bind(b.a)].concat(s),e.prev=4,e.next=7,n.apply(void 0,Object(a.a)(u));case 7:d=e.sent,c&&c(void 0,d),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),Object(l.a)(e.t0),c&&c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),st.apply(this,arguments)}function it(){return ut.apply(this,arguments)}function ut(){return ut=Object(u.a)(Object(r.a)().mark((function e(){var t,n,a,c,o,s,i,u,b,l=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length>0&&void 0!==l[0]?l[0]:f.a.getQueue(),n=l.length>1?l[1]:void 0,a=rt[n]&&rt[n][0],c=rt[n]&&rt[n][1],o=a&&a.dependecies&&a.dependecies.includes(y),s=a&&a.dependecies&&a.dependecies.includes(k),i=l.length,u=new Array(i>2?i-2:0),b=2;b<i;b++)u[b-2]=l[b];if(s||o){e.next=8;break}return ot.apply(void 0,[n,a,c].concat(u)),e.abrupt("return");case 8:if(!o||s){e.next=17;break}if(!Object(d.b)()){e.next=12;break}return c&&c(v.a.CHAT_UNAVAILABLE),e.abrupt("return");case 12:if(!Object(d.a)()){e.next=15;break}return f.a.addCmdToQueue(t,[n].concat(u)),e.abrupt("return");case 15:return ot.apply(void 0,[n,a,c].concat(u)),e.abrupt("return");case 17:if(!s||o){e.next=26;break}if(!Object(p.c)()&&!Object(p.b)()){e.next=21;break}return c&&c(v.a.CHAT_UNAVAILABLE),e.abrupt("return");case 21:if(!Object(p.d)()){e.next=24;break}return f.a.addCmdToQueue(t,[n].concat(u)),e.abrupt("return");case 24:return ot.apply(void 0,[n,a,c].concat(u)),e.abrupt("return");case 26:if(!(Object(p.c)()||Object(p.b)()||Object(d.b)())){e.next=29;break}return c&&c(v.a.CHAT_UNAVAILABLE),e.abrupt("return");case 29:if(!Object(p.d)()&&!Object(d.a)()){e.next=32;break}return f.a.addCmdToQueue(t,[n].concat(u)),e.abrupt("return");case 32:ot.apply(void 0,[n,a,c].concat(u));case 33:case"end":return e.stop()}}),e)}))),ut.apply(this,arguments)}},1018:function(e,t,n){"use strict";n.d(t,"a",(function(){return Nt})),n.d(t,"c",(function(){return Ct})),n.d(t,"b",(function(){return Et}));var r,a=n(14),c=n(132),o=n(357),s=n.n(o),i=n(373),u=n(396),b=n(635),l=n(379),d=n(364),p=n(1144),f=n(367),v=n(358),O=n(360),j=n(711),h=n.n(j),x=n(395),g=n(87),m=n.n(g),y=n(374),k=n(29),I=n(485),w=n(359),C=(n(131),n(30)),E=n.n(C),T=n(363),S=n(596),_=n(365),A=n(362),M=n(423),R=n(632),P=n(484);var N=Object(k.a)({},"PULSE",(function(e){var t=Object(A.e)("trigger.borderColor")({theme:e}),n=Object(v.keyframes)(r||(r=Object(I.a)(["0%{box-shadow:0 0 0 0 ","}100%{box-shadow:0 0 0 10px ","}"])),Object(R.k)(t,.6),Object(R.k)(t,0));return Object(v.css)("animation:",n," 2s ease infinite;")})),D=function(e){var t=e.triggerAnimationInfo,n=e.theme,r=E()(t,"effect"),a=N[r];return a?a(n):""},L=function(e){var t=Object(A.e)("trigger.size")(e);return Math.min(Math.max.apply(Math,Object(y.a)(Object(M.b)(Object(A.e)("trigger.borderRadius",t/2)(e)))),t/2)*(1-Math.pow(2,-.5))},U=function(e){return.13*Object(A.e)("trigger.overlayIconButton.button.height")(e)},B=function(e){return Object(A.e)("trigger.size")(e)-.5*Object(A.e)("trigger.overlayIconButton.button.height")(e)-(L(e)-U(e))},G=function(e){var t=e.direction,n=e.theme,r=t===P.b.LTR?"right":"left",a=-.5*Object(A.e)("trigger.overlayIconButton.button.height")({theme:n})+L({theme:n})-U({theme:n});return"".concat(r,": ").concat(a,"px")},F=Object(w.a)("div",{target:"eg0frzz0"})("width:",(function(e){return Object(A.e)("trigger.overlayIconButton.button.width")(e)}),"px;height:",(function(e){return Object(A.e)("trigger.overlayIconButton.button.height")(e)}),"px;border-radius:",(function(e){return Object(A.e)("trigger.overlayIconButton.borderRadius","".concat(Object(A.e)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";background-color:",Object(A.e)("trigger.removeIcon.backgroundColor"),";position:absolute;bottom:",(function(e){return B(e)}),"px;",(function(e){return G(e)}),";cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;transform:translatez(",Object(A.e)("frame.translateZ"),"px);z-index:",Object(A.e)("frame.zIndex"),";",T.o,"{visibility:visible;}"),z=Object(w.a)("div",{target:"eg0frzz1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),V=Object(w.a)(_.b,{target:"eg0frzz2"})("width:",(function(e){return Object(A.e)("trigger.overlayIconButton.icon.width")(e)}),"px;height:",(function(e){return Object(A.e)("trigger.overlayIconButton.icon.height")(e)}),"px;fill:",Object(A.e)("trigger.removeIcon.fill"),";"),H="\n  ".concat(F," {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n"),W=Object(w.a)("div",{target:"eg0frzz3"})((function(e){return e.enableTriggerHideIcon&&"\n    &:hover {\n      ".concat(H,";\n    }\n  ")}),";"),q=Object(w.a)("div",{target:"eg0frzz4"})("background:transparent;overflow:hidden;box-shadow:",Object(A.e)("trigger.boxShadow"),";border-radius:",(function(e){return Object(A.e)("trigger.borderRadius","".concat(Object(A.e)("trigger.size")(e)/2,"px}"))(e)}),";height:",Object(A.e)("trigger.size"),"px;position:relative;transition:",(function(e){var t=e.enableTriggerWidthTransition,n=e.animationDuration;return t?"width ".concat(n,"s"):"none"}),";visibility:",(function(e){return e.showTrigger?"visible":"hidden"}),";width:",(function(e){return function(e){var t=e.showTrigger,n=e.showLabel,r=e.labelWidth,a=e.theme;return n&&t?r+Object(A.e)("trigger.icon.width")({theme:a})+8+48:Object(A.e)("trigger.size")({theme:a})}(e)}),"px;&:focus-visible{",T.m,";}&:-moz-focusring{",T.m,";}"),K=Object(w.a)(S.a,{target:"eg0frzz5"})("border-radius:",(function(e){return Object(A.e)("trigger.borderRadius","".concat(Object(A.e)("trigger.size")(e)/2,"px}"))(e)}),";border:0 none;height:100%;width:100%;"),X=function(e,t){var n=!((Object(A.e)("trigger.backgroundUrls")({theme:e})||Object(A.e)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(v.css)("body{background-color:",n?Object(A.e)("trigger.backgroundColor")({theme:e}):"transparent",";}")},Y=Object(w.a)("div",{target:"eg0frzz6"})({name:"17ehq8p",styles:"position:absolute;top:0;left:0;height:100%;width:100%;-webkit-touch-callout:none !important;-webkit-user-select:none !important;background:transparent;"}),Q=n(1354),Z=n(398),$=n.n(Z);var J=Object(w.a)("div",{target:"e1t174p80"})("cursor:pointer;position:relative;overflow:hidden;border-radius:",(function(e){return Object(A.e)("trigger.borderRadius","".concat(Object(A.e)("trigger.size")(e)/2,"px"))(e)}),";height:",(function(e){return Object(A.e)("trigger.size")(e)}),"px;background-color:transparent;"),ee=Object(w.a)(J,{target:"e1t174p81"})("border:",(function(e){return"".concat(Object(A.e)("trigger.borderWidth")(e),"px solid ").concat(Object(A.e)("trigger.borderColor")(e))}),";background-size:cover;"),te=Object(w.a)(J,{target:"e1t174p82"})("background-color:",Object(A.e)("trigger.backgroundColor"),";"),ne={name:"15vzngf",styles:"bottom:0;top:0;transform:translate3d(-50%,-50%,0);transition:transform 0.16s linear,opacity 0.08s linear,-webkit-transform 0.16s linear;width:100%;"},re={name:"w8476o",styles:"transform:rotate(90deg) scale(0);opacity:0;"},ae={name:"12ovxee",styles:"transform:scale(0);opacity:0;"},ce={name:"k4n0ja",styles:"transform:rotate(0deg) scale(1);opacity:1;"},oe={name:"20dbs8",styles:"transform:scale(1);opacity:1;"},se=Object(w.a)(_.b,{target:"e1t174p83"})("fill:",Object(A.e)("trigger.closeIcon.color"),";height:",Object(A.e)("trigger.closeIcon.height"),"px;width:",Object(A.e)("trigger.closeIcon.width"),"px;"),ie=Object(w.a)("div",{target:"e1t174p84"})(ne,";"),ue=Object(w.a)("div",{target:"e1t174p85"})(ne,";"),be=Object(w.a)("h2",{target:"e1t174p86"})("color:",Object(A.e)("trigger.icon.color"),";",(function(e){return Object(T.c)("font-size","var(--spr-lc-fs-lg)","var(--spr-lc-fs-xl)")(e)})," font-weight:600;margin-bottom:0;margin-top:0;line-height:1.4;white-space:nowrap;",Object(T.d)("margin-left: 8px","margin-right: 8px;"),";"),le=Object(w.a)(_.b,{target:"e1t174p87"})("height:",Object(A.e)("trigger.icon.height"),"px;width:",Object(A.e)("trigger.icon.width"),"px;fill:",Object(A.e)("trigger.icon.color"),";"),de=n(948),pe=n(455);n(361);function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}var me=n(856);function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var ke,Ie=n(382),we=n(857),Ce=["customTriggerIconUrls","onLoad","onError"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var Te,Se=function(e){return Object(A.e)("trigger.backgroundUrls")({theme:e})||Object(A.e)("trigger.icon.url")({theme:e})},_e=s.a.memo((function(e){var t=e.customTriggerIconUrls,n=e.onLoad,r=e.onError,a=Object(Ie.a)(e,Ce),c=Object(o.useRef)(null),s=ke||(ke=Object(we.a)(t,1)[0]);return Object(o.useEffect)((function(){if(c.current){var e=new Image,t=function(){c.current.style.backgroundImage='url("'.concat(s,'")'),n(!0)};return e.addEventListener("load",t),e.addEventListener("error",r),e.src=s,function(){e.removeEventListener("load",t),e.removeEventListener("error",r)}}}),[s,r,n]),Object(v.jsx)(ee,Ee({},a,{ref:c}))})),Ae=n(852),Me="MINIMIZED",Re="MAXIMIZED",Pe=(Te={},Object(k.a)(Te,Ae.a.BOX,{Icon:function(e){return Object(v.jsx)("svg",fe({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBox",focusable:"false"},e),Object(v.jsx)("path",{d:"M12.7,0.3L12.7,0.3H1.3C-0.2,0.3,0,1.7,0,1.7v7.7c0,1.1,0.9,1.2,1.2,1.2c0.1,0,0.1,0,0.1,0h3.6c0.5,0,0.7,0.2,0.7,0.2 l4.5,2.9c0.1,0.1,0.2,0.1,0.3,0.1c0.6,0,0.7-0.8,0.7-0.8v-2.3h1.6c1.3,0,1.4-1.2,1.4-1.2V1.5C14.1,0.4,12.9,0.3,12.7,0.3z M8.2,7.4 H2.5C2.2,7.4,2,7.2,2,6.9c0-0.3,0.2-0.5,0.5-0.5h5.7c0.3,0,0.5,0.2,0.5,0.5S8.5,7.4,8.2,7.4z M11.2,4.4H2.5C2.2,4.4,2,4.2,2,3.9 c0-0.3,0.2-0.5,0.5-0.5h8.8c0.3,0,0.5,0.2,0.5,0.5C11.7,4.2,11.5,4.4,11.2,4.4z"}))},Component:le}),Object(k.a)(Te,Ae.a.BUBBLE,{Icon:function(e){return Object(v.jsx)("svg",ve({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerBubble",focusable:"false"},e),Object(v.jsx)("path",{d:"M12.9,2.5c-0.9-1.1-2.5-2-3.8-2.3C3.5-0.9,0.7,3.3,0.3,4.9c-0.9,4.9,1.2,7.6,2.5,8.9C2.9,14,3.1,14,3.1,13.9 c-0.2-3,1.7-3.5,5.6-3.3c1.4,0.1,4.7-1.1,5-3.7C14,5.3,14.1,4.1,12.9,2.5z M3.1,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8 s0.8,0.4,0.8,0.8C3.9,6.1,3.5,6.5,3.1,6.5z M6.9,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8 C7.7,6.1,7.3,6.5,6.9,6.5z M10.7,6.5c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.6,6.1,11.2,6.5,10.7,6.5z"}))},Component:le}),Object(k.a)(Te,Ae.a.COLLABORATORS,{Icon:function(e){return Object(v.jsx)("svg",Oe({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCollaborators",focusable:"false"},e),Object(v.jsx)("path",{d:"M12.103 7.498c.077 0 .145 0 .216.005l.11.013-.02-.157a5.233 5.233 0 00-2.392-3.729l-.247-.148A2.925 2.925 0 017.22 5.37l-.224.008A2.944 2.944 0 014.3 3.673l-.078-.192-.212.126a5.236 5.236 0 00-2.445 3.908 1.823 1.823 0 01.325-.018 2.893 2.893 0 012.945 2.836A2.797 2.797 0 014.11 12.2l-.155.16.114.072a5.598 5.598 0 002.625.822l.322.01.336-.01a5.591 5.591 0 002.724-.894 2.744 2.744 0 01-.88-2.026 2.86 2.86 0 012.907-2.836z"}),Object(v.jsx)("path",{d:"M1.893 8.51a1.934 1.934 0 00-1.087.332l-.015.011a1.801 1.801 0 00-.792 1.481 1.858 1.858 0 001.72 1.816l.174.008.17-.008a1.856 1.856 0 001.723-1.816A1.889 1.889 0 001.893 8.51zm10.214 0a1.864 1.864 0 00-1.893 1.824 1.837 1.837 0 001.248 1.715 1.936 1.936 0 00.477.102l.168.007.17-.008a1.822 1.822 0 00-.17-3.64zM6.998 4.366a1.864 1.864 0 001.894-1.824A1.848 1.848 0 006.998.737 1.864 1.864 0 005.105 2.56a1.849 1.849 0 001.893 1.805z"}))},Component:le}),Object(k.a)(Te,Ae.a.CLOUD,{Icon:function(e){return Object(v.jsx)("svg",je({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerCloud",focusable:"false"},e),Object(v.jsx)("path",{d:"M7.1,0C3.2,0,0.1,3.1,0.1,6.9c0,1.7,0.5,3,1.5,4.2l-1,2.5C0.5,13.8,0.6,14,0.8,14h0.1l3.7-0.6C5.4,13.7,6,13.8,7,13.8h0.1 c3.8,0,6.8-3.1,6.8-6.9C13.9,3.1,10.9,0,7.1,0z M3.2,7.8C2.8,7.8,2.4,7.4,2.4,7s0.4-0.8,0.8-0.8S4,6.6,4,7C4,7.5,3.7,7.8,3.2,7.8z M7.2,7.8C6.7,7.8,6.4,7.4,6.4,7s0.4-0.8,0.8-0.8S8,6.6,8,7C7.9,7.5,7.6,7.8,7.2,7.8z M11,7.8c-0.4,0-0.8-0.4-0.8-0.8 s0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C11.8,7.5,11.5,7.8,11,7.8z"}))},Component:le}),Object(k.a)(Te,Ae.a.MIC,{Icon:function(e){return Object(v.jsx)("svg",ge({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerMic",focusable:"false"},e),Object(v.jsx)("path",{id:"Shape-Copy-3",d:"M7.1,0C4.5,0,2.5,2,2.5,4.5V6H2.3c-1.1,0-2,0.9-2,2v1.2c0,1.1,0.9,2,2,2h1.5c0.3,0,0.5-0.2,0.5-0.5V6.4 C4.3,6.2,4.1,6,3.9,6H3.4V4.5c0-2,1.6-3.6,3.7-3.6s3.7,1.6,3.7,3.6V6h-0.5C9.9,6,9.8,6.2,9.8,6.4v4.2c0,0.3,0.2,0.5,0.5,0.5h0.4 c-0.1,0.3-0.3,0.5-0.6,0.7c-0.4,0.3-1,0.5-1.9,0.6c-0.2-0.4-0.6-0.7-1.1-0.7c-0.7,0-1.2,0.5-1.2,1.2C5.8,13.5,6.3,14,7,14 c0.5,0,0.9-0.3,1.1-0.8c1-0.1,1.9-0.3,2.4-0.8c0.5-0.4,0.8-0.9,0.9-1.4h0.2c1.1,0,2-0.9,2-2V7.9c0-1.1-0.9-2-2-2h-0.2V4.5 C11.6,2,9.6,0,7.1,0z"}))},Component:le}),Object(k.a)(Te,Ae.a.ELLIPSIS,{Icon:function(e){return Object(v.jsx)("svg",he({viewBox:"0 0 32 32","data-icon-name":"ChatTriggerEllipsis",focusable:"false"},e),Object(v.jsx)("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M28.28387,3.51813C30.33623,3.51813,32,5.1819,32,7.23426 v14.45782c0,2.05236-1.66377,3.71613-3.71613,3.71613l-1.29445-0.00002l0.61046,3.88583 c0.02475,0.1576,0.00841,0.31823-0.04651,0.46661l-0.04838,0.10876c-0.21984,0.41951-0.71518,0.60119-1.14754,0.43933 l-0.10658-0.04768l-9.26093-4.85285L3.71613,25.40821C1.66377,25.40821,0,23.74444,0,21.69208V7.23426 C0,5.1819,1.66377,3.51813,3.71613,3.51813H28.28387z M16,11.3664c-1.7103,0-3.09677,1.38647-3.09677,3.09677 S14.2897,17.55995,16,17.55995s3.09678-1.38647,3.09678-3.09678S17.7103,11.3664,16,11.3664z M7.52941,12.639 c-1.03959,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417s1.88235-0.81671,1.88235-1.82417 S8.56901,12.639,7.52941,12.639z M24.47059,12.639c-1.0396,0-1.88235,0.81671-1.88235,1.82417s0.84276,1.82417,1.88235,1.82417 c1.03959,0,1.88235-0.81671,1.88235-1.82417S25.51018,12.639,24.47059,12.639z"}))},Component:le}),Object(k.a)(Te,Ae.a.ELLIPSIS_STROKE,{Icon:function(e){return Object(v.jsx)("svg",xe({viewBox:"0 0 14 14","data-icon-name":"ChatTriggerEllipsisStroke",focusable:"false"},e),Object(v.jsx)("path",{d:"M2.4,13.8c-0.2-0.1-0.3-0.2-0.3-0.4v-2.6H1.7C0.7,10.8,0,10,0,9.1V1.9c0-1,0.8-1.7,1.7-1.7h10.5c1,0,1.7,0.8,1.7,1.7v7.2 c0,1-0.8,1.7-1.7,1.7H5.7l-2.8,2.8C2.7,13.8,2.5,13.9,2.4,13.8L2.4,13.8z M0.8,1.9v7.2c0,0.5,0.4,0.9,0.9,0.9h0.8 C2.8,10,3,10.2,3,10.5v2l2.2-2.3C5.3,10.1,5.4,10,5.5,10h6.8c0.5,0,0.9-0.4,0.9-0.9V1.9c0-0.5-0.4-0.9-0.9-0.9H1.7 C1.2,1,0.8,1.4,0.8,1.9z M6.2,5.5C6.2,5,6.6,4.7,7,4.7c0.5,0,0.8,0.4,0.8,0.8C7.8,6,7.5,6.3,7,6.3S6.2,6,6.2,5.5L6.2,5.5z M9.3,5.5 c0-0.5,0.4-0.8,0.8-0.8c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.3,0.8-0.8,0.8S9.3,6,9.3,5.5L9.3,5.5z M3,5.5C3,5,3.4,4.7,3.8,4.7 c0.5,0,0.8,0.4,0.8,0.8c0,0.5-0.4,0.8-0.8,0.8l0,0C3.4,6.3,3,6,3,5.5L3,5.5z"}))},Component:le}),Object(k.a)(Te,Ae.a.CROSS,{Icon:function(e){return Object(v.jsx)("svg",ye({viewBox:"0 0 14 14","data-icon-name":"Close",focusable:"false"},e),Object(v.jsx)("path",{d:"M12.8 12.7c.3-.3.3-.8 0-1L8 7l4.6-4.7c.3-.3.3-.8 0-1.1-.3-.3-.8-.3-1.1 0L6.9 6 2.3 1.3C2 1 1.5 1 1.2 1.3s-.3.7 0 1L5.9 7l-4.7 4.7c-.3.3-.3.8 0 1.1.3.3.8.3 1 0l4.7-4.7 4.7 4.6c.3.3.8.3 1.2 0z"}))},Component:se}),Object(k.a)(Te,Ae.a.CHEVRON,{Icon:me.a,Component:se}),Te),Ne=s.a.memo((function(e){var t=e.className,n=e.minimizedIconClassName,r=e.maximizedIconClassName,a=e.triggerIconName,u=void 0===a?Ae.a.BUBBLE:a,b=e.label,l=e.innerLabelRef,d=e.mode,p=void 0===d?Me:d,f=e.closeIconName,O=void 0===f?Ae.a.CROSS:f,j=e.onLoad,h=void 0===j?$.a:j,x=Pe[u],g=x.Icon,y=x.Component,k=Pe[O],I=k.Icon,w=k.Component,C=Object(i.b)(),E=Object(o.useState)(!1),T=Object(c.a)(E,2),S=T[0],_=T[1],A=Object(o.useMemo)((function(){return Se(C)}),[C]),M=Object(de.a)(),R=Object(pe.a)(),P=p===Me,N=!m()(A)&&P&&!S,D=!M,L=D||P;Object(o.useEffect)((function(){return N||h(!0),function(){return h(!1)}}),[h,N]);var U=Object(o.useCallback)((function(){_(!0)}),[]);return N?Object(v.jsx)(_e,{className:t,theme:C,customTriggerIconUrls:A,onLoad:h,onError:U}):Object(v.jsx)(te,{className:t,theme:C},Object(v.jsx)(s.a.Fragment,null,D&&Object(v.jsx)(ie,{className:"center-x-y ".concat(r),css:P?re:ce},Object(v.jsx)(w,{alt:I})),L&&Object(v.jsx)(ue,{className:"center-x-y ".concat(n),css:P?oe:ae,"data-testid":"default-trigger"},Object(v.jsx)(y,{alt:g}),b?Object(v.jsx)(be,{ref:l,className:"m-b-0",direction:R,isPhone:M,theme:C},b):null)))})),De=n(392),Le=n(377),Ue=n(402),Be=n(372),Ge=(n(205),n(11),n(388)),Fe=n(560),ze=n(25),Ve=n(43),He=n(401),We=n(544),qe=n(376),Ke=n(433),Xe=n(441),Ye=function(e){return Object(Ke.g)(Object(qe.b)(e))},Qe=n(480),Ze=n(378),$e=n(412),Je=n(430),et=n(450),tt=function(e){return Object(qe.b)(e).meta.isTriggerManuallyHidden},nt=function(){var e;!function(){var e=Object(l.a)(He.h),t=Object(Ge.a)(),n=We.a.getNoDisplayConfigFilter(t),r=Object(Fe.a)(n,{defaultValue:!1,logOnSuccess:!0}).hasPassed,a=Object(d.d)(Ye);Object(o.useEffect)((function(){!m()(n)&&a&&(r&&Object(Xe.a)("Sprinklr Chat hidden by display criteria"),e({value:r}))}),[n,a,r])}();var t=Object(l.a)(He.c),n=null===(e=Object(Le.a)().trigger)||void 0===e?void 0:e.hideTimeout,r=Object(d.c)(),a=Object(o.useRef)(null),c=Object(o.useRef)(!n),s=Object(d.d)(tt),i=Object(d.d)(Ze.h),b=Object($e.d)(i),p=Object(u.a)();c.current||(c.current=!0,Object(Qe.c)(b).then((function(e){e&&Date.now()<=e?a.current=window.setTimeout((function(){r({type:Je.p,payload:{}})}),e-Date.now()):r({type:Je.p,payload:{}})})));var f=Object(o.useCallback)(Object(Ve.a)(Object(ze.a)().mark((function e(){return Object(ze.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,Object(Qe.m)(b,Date.now()+n);case 3:a.current=window.setTimeout((function(){r({type:Je.p,payload:{}})}),n);case 4:p({action:et.a.CHAT_TRIGGER_REMOVED}),t();case 6:case"end":return e.stop()}}),e)}))),[n,t,r,b]);return Object(o.useEffect)((function(){s||(Object(Qe.j)(b),a.current&&(window.clearTimeout(a.current),a.current=null))}),[s]),f},rt=n(371),at=n(473),ct=n(400),ot=n(453),st=function(e){return Object(Ke.g)(Object(qe.b)(e))},it=function(e){return Object(Ke.f)(Object(qe.b)(e))},ut=function(e){return Object(qe.d)(e)},bt=function(e){return e?Math.ceil(e.clientWidth):0},lt=s.a.memo(Object(O.h)((function(e){var t=Object(rt.a)().direction,n=e.showTrigger,r=e.handleShowTriggerStateChange,a=e.triggerHandlers,s=Object(Le.a)(),l=Object(i.b)(),p=Object(Be.a)(),O=Object(o.useRef)(),j=Object(o.useRef)(null),g=Object(Ue.a)()(at.a.getTriggerConfig(s),"label"),y=nt(),k=Object(o.useState)(g),I=Object(c.a)(k,2),w=I[0],C=I[1],T=Object(o.useState)(!1),S=Object(c.a)(T,2),M=S[0],R=S[1],P=Object(o.useState)(0),N=Object(c.a)(P,2),L=N[0],U=N[1],B=Object(d.d)(st),G=Object(d.d)(it),H=Object(d.d)(ut),Z=Object(u.a)(),$=at.a.getAnimationInfoOfTrigger(s),J=function(){var e,t,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],s=r[1],i=Object(Ge.a)(),u=Object(Le.a)(),b=null===(e=i.triggerAnimationConfig)||void 0===e?void 0:e.filter,l=Object(Fe.a)(b,{defaultValue:!1,logOnSuccess:!0}).hasPassed,d=null===(t=u.trigger)||void 0===t?void 0:t.animation,p=E()(d,"effect");return Object(o.useEffect)((function(){!m()(b)&&p&&s(l)}),[b,p,l]),{showChatTriggerAnimation:a}}(),ee=J.showChatTriggerAnimation,te=h()(G),ne=h()(n),re=h()(w);Object(o.useEffect)((function(){(te||!ne)&&!(G||!n)&&Z({action:et.a.TRIGGER_VISIBLE})}),[n,ne,G,te,Z]),Object(o.useEffect)((function(){return n&&!p&&(O.current=window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){R(!0)}))}))),function(){O.current&&window.cancelAnimationFrame(O.current)}}),[n,p]),Object(o.useEffect)((function(){var e=p?"":g;re!==e&&C(e)}),[p,g,re]);var ae=e.intl.formatMessage,ce=at.a.canTriggerBeManuallyRemoved(s)&&B&&m()(H),oe=Object(o.useMemo)((function(){return Object(A.e)("trigger.icon.type")({theme:l})}),[l]),se=Object(o.useMemo)((function(){return Object(A.e)("trigger.closeIcon.type")({theme:l})}),[l]),ie=Object(o.useCallback)((function(){n&&U(bt(j.current))}),[n]),ue=Object(o.useCallback)((function(){U(bt(j.current))}),[]),be=Object(o.useCallback)((function(e){r(e),U(bt(j.current))}),[]),le=G||p&&!B,de=ae(B?ct.a.openChat:ct.a.closeChat);return le?null:Object(v.jsx)(W,{enableTriggerHideIcon:ce,"data-testid":"triggerContainer"},Object(v.jsx)(De.a,Object(f.a)({component:q,showTrigger:n,showLabel:B&&!!w,css:ee?D({triggerAnimationInfo:$,theme:l}):"",labelWidth:L,enableTriggerWidthTransition:M,animationDuration:w!==re?"0.25":"0.08",theme:l,className:"spr-chat__trigger-box spr-live-chat-frame",id:"spr-chat__trigger-button",ariaLabel:de},a,{onContextMenu:function(e){e.preventDefault()}}),Object(v.jsx)(K,{"aria-label":ae(ct.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:ie,shouldHideLocaleLoader:!0,title:ae(ct.a.liveChat)},Object(v.jsx)(v.Global,{styles:X(l,{isMinimized:B})}),Object(v.jsx)("div",{className:"full-height full-width"},Object(v.jsx)(x.FrameContextConsumer,null,(function(e){var t=e.window;return Object(v.jsx)(Q.a,{window:t,onResize:ue,resizeRefs:j},(function(e){return Object(v.jsx)(Ne,{className:"full-width",label:w,triggerIconName:oe,closeIconName:se,mode:B?Me:Re,onLoad:be,innerLabelRef:e,minimizedIconClassName:"spa",maximizedIconClassName:"spa"})}))})))),Object(v.jsx)(Y,null)),ce&&n&&Object(v.jsx)(F,{onClick:y,"data-testid":"triggerCloseIconContainer",direction:t,className:b.a},Object(v.jsx)(z,null,Object(v.jsx)(V,{alt:ot.a,name:_.a.CLOSE}))))}))),dt=n(661),pt=n(897);var ft=Object(w.a)("div",{target:"e5qlxka0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(function(e){return Object(A.e)("trigger.overlayIconButton.borderRadius","".concat(Object(A.e)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";position:absolute;bottom:",(function(e){return B(e)}),"px;",(function(e){return G(e)}),";height:",Object(A.e)("trigger.overlayIconButton.button.height"),"px;width:",Object(A.e)("trigger.overlayIconButton.button.width"),"px;transform:translatez(",Object(A.e)("frame.translateZ"),"px);z-index:",Object(A.e)("frame.zIndex"),";box-shadow:var(--spr-lc-bxs-3);"),vt=Object(w.a)(S.a,{target:"e5qlxka1"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Ot=Object(w.a)(pt.a,{target:"e5qlxka2"})("font-size:",Object(A.e)("trigger.overlayIconButton.fontSize"),";height:",Object(A.e)("trigger.overlayIconButton.button.height"),"px;width:",Object(A.e)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(A.e)("trigger.overlayIconButton.button.height"),"px;border-radius:",(function(e){return Object(A.e)("trigger.overlayIconButton.borderRadius","".concat(Object(A.e)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";"),jt="spr-chat-proactive-box-anim",ht=Object(v.css)(".",jt,"-enter{opacity:0;}.",jt,"-enter.",jt,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",jt,"-enter-done,.",jt,"-appear{}.",jt,"-exit{opacity:1;}.",jt,"-exit.",jt,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),xt=Object(w.a)("div",{target:"e5qlxka3"})({name:"79elbk",styles:"position:relative;"}),gt=n(636),mt=n(669),yt=n.n(mt),kt=n(386),It=Object(dt.a)((function(e){return Object(Ke.g)(Object(qe.b)(e))}),(function(e){return Object(Ke.f)(Object(qe.b)(e))}),(function(e){return Object(kt.x)(Object(kt.q)(Object(qe.c)(e)))}),(function(e,t,n){return{isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n}})),wt=s.a.memo(Object(O.h)((function(e){var t=Object(d.d)(It),n=t.isMinimized,r=t.totalUnreadCount,a=t.isChatTriggerHidden,c=Object(i.b)(),o=Object(rt.a)().direction,u=e.isTriggerLoaded,b=e.intl.formatMessage;return a?null:Object(v.jsx)(s.a.Fragment,null,Object(v.jsx)(v.Global,{styles:ht}),Object(v.jsx)(yt.a,{in:n,timeout:{enter:300,exit:0},classNames:jt,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(v.jsx)(xt,{className:"notification-container"},Object(v.jsx)(gt.a,{unreadCount:r,shouldPlay:!0}),r>0&&u?Object(v.jsx)(ft,{className:"spr-chat__notification-box spr-live-chat-frame","data-testid":"notification-frame-container",theme:c,direction:o},Object(v.jsx)(vt,{name:"spr-chat__notification-frame","aria-label":b(ct.a.liveChatNotification),title:b(ct.a.liveChatNotification)},Object(v.jsx)(Ot,{className:"center-x-y",count:r}))):null)))}))),Ct=function(e){return Object(A.e)("trigger.xPadding")({theme:e})},Et=function(e){return Object(A.e)("trigger.yPadding")({theme:e})},Tt=Object(w.a)("div",{target:"ezg1tqb0"})((function(e){return null==e.triggerOffsetBottom?"bottom: ".concat(Et(e.theme),"px;\n  ").concat(function(e){var t=Object(A.e)("trigger.align","right")({theme:e}),n=Ct(e);return"".concat(t,": ").concat(n,"px")}(e.theme),";"):"bottom: 0; ".concat(Object(A.e)("trigger.align","right")({theme:e.theme}),": 0;")})," position:fixed;z-index:",(function(e){return Object(A.e)("frame.zIndex")(e)}),";",(function(e){return null!==e.triggerOffsetBottom?"transform: translate3d(".concat(function(e){var t=Object(A.e)("trigger.align","right")({theme:e});return Ct(e)*("right"===t?-1:1)}(e.theme),"px, -").concat(e.triggerOffsetBottom,"px, ").concat(Object(A.e)("frame.translateZ")(e),"px) !important"):""}),";",(function(e){return!e.isDragging&&!e.isChatMinimized&&"transition: transform 0.16s linear"}),";",(function(e){return e.triggerOffsetBottom&&e.isDragAllowed?"cursor: grab;":"cursor:pointer"}),""),St=(n(58),n(134),n(133),n(85),n(383)),_t=n(1141),At=["children"],Mt=Object(St.a)((function(){return n.e(6).then(n.bind(null,1847)).then((function(e){return{default:e.DraggableContainer}}))})),Rt=function(e){var t=e.children,n=Object(Ie.a)(e,At);return Object(_t.a)()?Object(v.jsx)(o.Suspense,{fallback:null},Object(v.jsx)(Mt,n,t)):Object(v.jsx)(s.a.Fragment,null,t)},Pt=function(e){return Object(Ke.g)(Object(qe.b)(e))},Nt=function(){var e=Object(i.b)(),t=Object(o.useState)(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],f=Object(b.c)(),O=Object(u.a)(),j=Object(l.a)(He.g),h=Object(d.d)(Pt),x=Object(o.useMemo)((function(){return Se(e)}),[e]),g=Object(o.useCallback)((function(){null!==f&&void 0!==f&&f.lazyIsDragging||(j(!h),h&&O(Object(a.a)({action:et.a.CHAT_TRIGGER_CLICKED},(null===x||void 0===x?void 0:x.length)>1?{additional:{triggerImageUrl:ke}}:{})))}),[null===x||void 0===x?void 0:x.length,null===f||void 0===f?void 0:f.lazyIsDragging,h,O,j]),m=Object(p.a)(g),y=m.onDragStart,k=m.onDragStop,I=m.onTouchStart,w=m.onTouchMove,C=m.onTouchEnd,E=m.onTouchCancel,T=Object(o.useMemo)((function(){return{onTouchStart:I,onTouchMove:w,onTouchEnd:C,onTouchCancel:E,onClick:g}}),[I,w,C,E,g]);return Object(v.jsx)(Rt,{onDragStart:y,onDragStop:k},Object(v.jsx)(Tt,{theme:e,triggerOffsetBottom:null===f||void 0===f?void 0:f.triggerOffsetBottom,isDragging:!(null===f||void 0===f||!f.isDragging),isDragAllowed:!(null!==f&&void 0!==f&&f.isFrameOpen),isChatMinimized:h},Object(v.jsx)(lt,{triggerHandlers:T,showTrigger:r,handleShowTriggerStateChange:s}),Object(v.jsx)(wt,{isTriggerLoaded:r})))}},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n(25),a=n(43),c=(n(131),n(11),n(134),n(428),n(7),n(135),function(e){var t=screen.width/2,n=screen.height/2,r=t-t/2,a=n-n/2;return window.open(e,"_blank","height=".concat(n,",width=").concat(t,",top=").concat(a,",left=").concat(r))}),o=n(474),s=n(6),i=n(480),u=n(656),b=n(909),l=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,c,o,u,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,a=t.conversationId,c=t.messageId,o=Object(s.a)(),u=o.appId,e.t0={key:"idpId",value:n},e.next=6,Object(i.a)(u);case 6:return e.t1=e.sent,e.t2={key:"x-chat-token",value:e.t1},b=[e.t0,e.t2],a&&b.push({key:"conversationId",value:a}),c&&b.push({key:"messageId",value:c}),e.abrupt("return",b);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d="".concat("https://www.samsung.com/chat","/api"),p=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,c,s,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,a=t.conversationId,c=t.messageId,e.next=3,l({ssoId:n,conversationId:a,messageId:c});case 3:return s=e.sent,i=Object(o.f)(s),e.abrupt("return","".concat(d,"/livechat/authenticate/begin?").concat(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t,n,r;return(null===(t=Object(s.a)().user)||void 0===t?void 0:t.isSSOAuthorized)&&!(null===(n=e.otherConfigs)||void 0===n||null===(r=n.settings)||void 0===r||!r.autoLoginSSOId)},v=function(){var e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)},O=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,o,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,o=t.conversationId,l=t.messageId,e.t0=c,e.next=4,p({ssoId:n,conversationId:o,messageId:l});case 4:return e.t1=e.sent,d=(0,e.t0)(e.t1),Object(b.a)({src:"".concat("https://live-chat-static.sprinklr.com","/api/livechat/authenticate/listener.html?appId=").concat(Object(s.a)().appId),id:"subscriberIframe"}),e.abrupt("return",new Promise((function(e,t){var n,c;c=Object(u.d)("/logout",(function(){b(),t()})),n=setInterval((function(){d&&d.closed&&(b(),t())}),1500);var o=function(){var n=Object(a.a)(Object(r.a)().mark((function n(a){var c,o;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.origin.match(/(sprinklr\.com)/g)||"string"!==typeof a.data){n.next=14;break}return n.prev=1,c=JSON.parse(a.data),o=c.params,n.next=5,Object(i.l)(Object(s.a)().appId,o.authToken);case 5:e(o),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t();case 11:return n.prev=11,b(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(e){return n.apply(this,arguments)}}(),b=function(){clearInterval(n),c&&c(),window.removeEventListener("message",o)};window.addEventListener("message",o)})).finally((function(){d&&d.close(),v()})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1034:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));var r=n(25),a=n(14),c=n(43),o=(n(58),n(11),n(134),n(133),n(85),n(357)),s=n(364),i=n(87),u=n.n(i),b=n(379),l=n(587);var d=n(947),p=n(376),f=n(6),v=n(366),O=n(634),j=n(383),h=n(495),x=n(358),g=Object(j.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(57)]).then(n.bind(null,1822))})),m=Object(j.a)((function(){return Promise.all([n.e(0),n.e(7),n.e(17)]).then(n.bind(null,1831))}));t.c=function(e){var t=e.parentFrameRef,n=Object(s.d)(p.f),i=Object(b.a)(O.q),j=!function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}(Object(l.a)()),y=Object(o.useMemo)((function(){return Object(f.a)()}),[]).appId;return Object(o.useEffect)((function(){if(j){var e=function(){var e=Object(c.a)(Object(r.a)().mark((function e(){var t,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(y);case 3:(t=e.sent)&&(n=t.type,Object(f.e)()("open"),i({state:Object(a.a)(Object(a.a)({},t),{},{type:null!==n&&void 0!==n?n:h.a.REQUEST})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(v.b)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i,y,j]),u()(n)?null:Object(x.jsx)(o.Suspense,{fallback:null},n.type===h.a.REQUEST?Object(x.jsx)(g,null):Object(x.jsx)(m,{parentFrameRef:t}))}},1036:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return A}));var r=n(14),a=n(25),c=n(43),o=(n(131),n(439),n(59),n(138)),s=n.n(o),i=n(1517),u=n.n(i),b=n(22),l=n.n(b),d=n(87),p=n.n(d),f=n(506),v=n.n(f),O=n(446),j=n(6),h=n(474),x=n(413),g="x-chat-token",m=function(e){var t=e.data,n=e.url,r="";return p()(t)||s()(t,(function(e,t){t!==g&&(r+="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(l()(e)?JSON.stringify(e):e),"&"))})),r?"".concat(n,"?").concat(r.slice(0,-1)):n};function y(e){var t=e.url,n=e.data,r=e.method,a=void 0===r?x.a.POST:r,c=e.contentType,o=v()(),s=document.createElement("form"),i=document.body,b=m({data:n,url:t});return s.setAttribute("id","spr-chat-download-form-".concat(o)),s.setAttribute("target","_top"),s.setAttribute("action",b),s.setAttribute("method",a),s.style.display="none",c&&(s.enctype=c),null!==n&&void 0!==n&&n[g]&&(s.innerHTML='<input type="hidden" id="'.concat(g,'" name="').concat(g,'" value="').concat(u()(n[g]),'">')),i.appendChild(s),s}var k=function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)};function I(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(Object(a.a)().mark((function e(t){var n,c,o,s,i,u,b,l,d,p,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(j.a)(),!n.webview){e.next=18;break}return c=t.url,o=t.data,s=void 0===o?{}:o,i=m({url:c,data:Object(r.a)(Object(r.a)({},s),{},{generateUrl:!0})}),e.next=6,O.a.post(i);case 6:u=e.sent,b=u.data,l=b.fileName,d=b.url,(p=document.createElement("a")).setAttribute("href","livechat-app:url=".concat(Object(h.a)(d,[{key:"fileName",value:l}]))),p.style.display="none",document.body.appendChild(p),p.click(),setTimeout((function(){return k(p)}),3e4),e.next=21;break;case 18:(f=y(t)).submit(),setTimeout((function(){return k(f)}),3e4);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(480),E=n(471),T=n(139);function S(e){return _.apply(this,arguments)}function _(){return(_=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://www.samsung.com/chat","/api/livechat/conversation/downloadChatTranscript"),e.next=3,Object(C.a)(E.a.getAppId(Object(j.a)()));case 3:r=e.sent,c=Object(T.g)(),I({url:n,data:{timeZone:c,"x-chat-token":r,conversationId:t}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(Object(a.a)().mark((function e(t){var n,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://www.samsung.com/chat","/api/livechat/conversation/downloadAttachment"),e.next=3,Object(C.a)(E.a.getAppId(Object(j.a)()));case 3:c=e.sent,o=Object(T.g)(),I({url:n,data:Object(r.a)({timeZone:o,"x-chat-token":c},t)});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1041:function(e,t,n){"use strict";var r=n(367),a=n(382),c=n(357),o=n.n(c),s=n(375),i=n.n(s),u=n(365),b=n(359),l=n(358),d=n(363);var p=Object(b.a)("button",{target:"e1nedcse0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",d.o,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"},v=["iconName","iconCss","Icon","onLoad"],O=o.a.forwardRef((function(e,t){var n=e.iconName,o=e.iconCss,s=e.Icon,b=e.onLoad,d=Object(a.a)(e,v),O=Object(c.useMemo)((function(){return o?[f,o]:[f]}),[o]);return Object(l.jsx)(p,Object(r.a)({},d,{ref:t,className:i()("center-x-y",e.className)}),Object(l.jsx)(u.b,{alt:s,name:n,css:O,onLoad:b,"aria-hidden":!0,focusable:!1}),e.children)}));t.a=O},1095:function(e,t,n){"use strict";var r=n(369),a=n(368),c=(n(60),n(11),n(62),n(87)),o=n.n(c),s=Object(r.a)((function e(){var t=this;Object(a.a)(this,e),this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=function(){return t.queue},this.getBufferQueue=function(){return t.buffer},this.isFlushingInProgress=function(){return t._isFlushingInProgress},this.setIsFlushingInProgress=function(e){t._isFlushingInProgress=e},this.isReFlushPending=function(){return t._isReFlushPending},this.setIsReFlushPending=function(e){t._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o()(n)||e.push.apply(e,n)},this.move=function(e,n){e.forEach((function(){t.addCmdToQueue(n,t.popNextCmd(e))}))},this.isEmpty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.queue;return o()(e)},this.popNextCmd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.queue;return e.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}));t.a=new s},1096:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="@user/UPDATE_USER_SETTINGS"},1097:function(e,t,n){var r=n(1442),a=n(276);e.exports=function(e,t){return null!=e&&a(e,t,r)}},1098:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},1099:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(369),a=n(368),c=n(1853),o=n(1745),s=n(1854),i=Object(c.a)("isSSOAuthorized"),u=Object(c.a)("authToken"),b=Object(c.a)("oneTimeToken"),l=Object(r.a)((function e(){Object(a.a)(this,e)}));l.isSSOAuthorized=Object(o.a)(i),l.getAuthToken=Object(o.a)(u),l.hasIsSSOAuthorized=function(e){return e&&Object(s.a)("isSSOAuthorized",e)},l.getOneTimeToken=Object(o.a)(b)},1100:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));n(131);var r=n(754),a=n.n(r),c=n(30),o=n.n(c),s=n(6),i=n(366);function u(e){var t=Object(i.a)();t&&t.setUser&&t.setUser({id:e.userId,username:a()("".concat(e.firstName||""," ").concat(e.lastName||"")),email:e.email||""})}var b=function(e,t){var n=Object(s.a)().appId,r=e.chatUser;if(o()(t,"otherConfigs.settings.enableSentry")&&!Object(i.a)()){var a=window.document.createElement("script");a.src="https://".concat("live-chat-static.sprinklr.com","/sentry/sentry.min.js"),a.crossOrigin="anonymous",a.onload=function(){Object(i.a)().onLoad((function(){Object(i.a)().init({tunnel:"".concat("https://www.samsung.com/chat","/sentry"),ignoreErrors:["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Network Error"],denyUrls:[/extension:\/\//i]}),Object(i.a)().setTag("appId",n),Object(i.a)().setTag("appVersion","KGvI3EBDb"),u(r)}))},window.document.body.appendChild(a)}}},1101:function(e,t,n){var r=n(749);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},1127:function(e,t,n){"use strict";var r=n(357),a=n.n(r),c=n(398),o=n.n(c),s=a.a.createContext([null,o.a]);t.a=s},1132:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(58),n(11),n(134),n(133),n(85);var r=n(383),a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(30)]).then(n.bind(null,1742))}))},1135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(359),a=n(549),c=n(363),o=Object(r.a)(a.a,{target:"e1yw42fw0"})("position:absolute;top:40px;height:20px;width:20px;",(function(e){return e.isPhone&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "}),";padding:0;",Object(c.e)(c.j,c.h),";")},1137:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return l}));var r=n(357),a=n.n(r),c=n(398),o=n.n(c),s=n(943),i=n(358),u={debug:o.a,info:o.a,error:o.a,warning:o.a,cleanup:o.a},b=a.a.createContext(u),l=function(e){var t=e.videoConversationId,n=e.conversationId,r=e.isAudioCall,a=e.children,c=Object(s.a)({videoConversationId:t,conversationId:n,isAudioCall:r});return Object(i.jsx)(b.Provider,{value:c},a)}},1138:function(e,t,n){"use strict";var r=n(132),a=n(357),c=n(364),o=n(399),s=n(489),i=n(378),u=n(412),b=n(413),l=n(842),d=(new o.a).setUrl("/video-chat/conversation/log/event").setType(b.a.POST).build();t.a=function(e){var t=e.videoConversationId,n=e.conversationId,o=Object(s.a)(d,{ignoreResults:!0}),b=Object(r.a)(o,1)[0],p=Object(c.d)(i.h),f=Object(u.d)(p),v=Object(a.useCallback)((function(e){var n=e.eventType,r=e.activityAdditionalDetails;return{videoConversationId:t,loggerSnUserId:f,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:r}}),[n,t,f]);return Object(a.useMemo)((function(){return new l.a(b,{adapter:v,skip:!t})}),[b,v,t])}},1139:function(e,t,n){"use strict";n(58),n(11),n(134),n(133),n(85);var r=n(383),a=function(){return n.e(20).then(n.bind(null,1744))},c=function(e){return n(1505)("./".concat(e.toLowerCase(),"/pages"))},o=Object(r.a)(a);o.preload=function(e){return Promise.all([c(e),a()])},t.a=o},1140:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(359),a=n(423),c=n(633),o=Object(r.a)("div",{target:"e1kwqiqk0"})("width:100%;position:relative;height:",(function(e){return Object(a.a)(Object(c.c)(e))}),";")},1141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(377),a=function(){var e,t,n=Object(r.a)(),a=!(null===(e=n.trigger)||void 0===e||!e.useCustomTrigger);return!(null===(t=n.trigger)||void 0===t||!t.draggable)&&!a}},1142:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return g}));var r=n(359),a=(n(131),n(358)),c=n(586),o=n.n(c),s=n(596),i=n(362),u=n(632),b=n(423),l=n(1143);var d=500,p=Object(r.a)("div",{target:"e19bzbh60"})("transition:width ",l.a,"ms ease,max-height ",l.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(function(e){return Object(i.e)("frame.zIndex")(e)}),";padding:",(function(e){return Object(i.h)("frame.margin")(e)}),";transform:",(function(e){return"translateZ(".concat(Object(i.e)("frame.translateZ")(e),"px)")}),";",(function(e){return function(e){var t=Object(b.c)(Object(i.e)("frame.marginTop")({theme:e})),n=Object(b.c)(Object(i.e)("frame.marginBottom")({theme:e})),r=Object(b.c)(Object(i.e)("frame.marginLeft")({theme:e})),a=Object(b.c)(Object(i.e)("frame.marginRight")({theme:e}));return o()([t,n,r,a],(function(e){return e>0}))}(e.theme)&&"background-color: ".concat(Object(u.j)(Object(i.e)("frame.overlay.opacity")(e),Object(i.e)("frame.overlay.backgroundColour")(e)),";")}),";"),f=Object(r.a)(p,{target:"e19bzbh61"})((function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,a=e.isPhone,c=e.triggerOffsetTopBeforeReposition,o=e.triggerOffsetBottom,s=e.shouldRepositionTrigger;return Object(l.c)({triggerOffsetTopBeforeReposition:c,triggerOffsetBottom:o,isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:a,shouldRepositionTrigger:s})}),""),v=Object(r.a)(p,{target:"e19bzbh62"})((function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,a=e.isPhone,c=e.customTriggerPosition;return Object(l.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:a,customTriggerPosition:c})}),""),O=Object(r.a)("div",{target:"e19bzbh63"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:",(function(e){return Object(i.e)("frame.boxShadow")(e)}),";border-radius:",(function(e){return Object(i.e)("frame.borderRadius")(e)}),";",(function(e){var t=Object(b.c)(Object(i.e)("frame.marginTop")(e)),n=Object(b.c)(Object(i.e)("frame.marginBottom")(e)),r=Object(b.b)(Object(i.e)("frame.borderRadius")(e)),a=t>0?r[0]:0,c=t>0?r[1]:0,o=n>0?r[2]:0,s=n>0?r[3]:0;return e.isPhone&&"\n    border-radius: ".concat(a,"px ").concat(c,"px ").concat(o,"px ").concat(s,"px;\n    box-shadow: none;")}),";"),j="spr-chat-box-anim",h=Object(r.a)(s.a,{target:"e19bzbh64"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),x=function(e){var t,n=Object(i.e)("trigger.size")({theme:e.theme}),r=Object(i.e)("frame.sYMargin")({theme:e.theme}),c="calc(100% - ".concat(null!==(t=e.triggerOffsetTopBeforeReposition)&&void 0!==t?t:0,"px - ").concat(e.triggerOffsetBottom+(e.isTriggerHiddenWhenMaximised?0:n+r),"px)");return Object(a.css)(!e.isPhone&&e.shouldRepositionTrigger?function(e){return"\n.spr-chat__box.".concat(j,"-enter {\n  height: 0;\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) translateY(20px);\n}\n.spr-chat__box.").concat(j,"-enter.").concat(j,"-enter-active {\n  height: ").concat(e.frameHeight,";\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) ;\n  transition: height 0.16s linear, transform  0.08s linear;\n}\n.spr-chat__box.").concat(j,"-enter-done {\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) ;\n}\n.spr-chat__box.").concat(j,"-exit {\n  height: ").concat(e.frameHeight,";\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) ;\n}\n.spr-chat__box.").concat(j,"-exit.").concat(j,"-exit-active {\n  height: 0;\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px);\n  transition: height 0.16s linear, transform  0.08s linear;\n}\n")}({frameHeight:c,theme:e.theme}):function(e){return"\n.spr-chat__box.".concat(j,"-enter {\n  opacity: 0;\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) translateY(20px);\n}\n\n.spr-chat__box.").concat(j,"-enter.").concat(j,"-enter-active {\n  opacity: 1;\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) translateY(0px);\n  transition: opacity 0.16s linear, transform 0.08s linear;\n}\n\n.spr-chat__box.").concat(j,"-enter-done {\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) ;\n}\n\n.spr-chat__box.").concat(j,"-exit {\n  opacity: 1;\n  height: ").concat(e.frameHeight,";\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) translateY(0);\n}\n\n.spr-chat__box.").concat(j,"-exit.").concat(j,"-exit-active {\n  opacity: 0;\n  transform: translateZ(").concat(Object(i.e)("frame.translateZ")(e),"px) translateY(20px);\n  transition: opacity 0.16s linear, transform 0.08s linear;\n}\n")}({frameHeight:c,theme:e.theme}),"")},g={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},1143:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return l}));var r=n(14),a=(n(59),n(131),n(362)),c=n(608),o=n(1018),s=200,i=function(e){var t=e.theme,n=e.triggerWidth,r=e.triggerHeight,o=e.triggerXpadding,s=e.triggerYpadding,i=e.isTriggerHiddenWhenMaximised,u=e.triggerOffsetTop,b=Object(a.e)("frame.align")({theme:t}),l=Object(a.e)("frame.sXMargin")({theme:t}),d=Object(a.e)("frame.sYMargin")({theme:t}),p="L"===b.slice(-1)?c.f.LEFT:c.f.RIGHT,f=function(e){var t=e.alignType,n=e.frameSXMargin,r=e.triggerWidth,a=e.triggerXpadding;switch(t){case c.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case c.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return r+a+n;case c.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return a+n}}({alignType:b,frameSXMargin:l,triggerWidth:n,triggerXpadding:o}),v=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.alignType,r=e.frameSYMargin,a=e.triggerHeight,o=e.triggerYpadding,s=e.triggerOffsetTop;if(t&&!s)return o;var i=n===c.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===c.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;return s?s+(t?0:a+r):i?o+r:a+o+r}({isTriggerHiddenWhenMaximised:i,alignType:b,frameSYMargin:d,triggerHeight:r,triggerYpadding:s,triggerOffsetTop:u});return{xEdgeToAlign:p,xOffset:f,yOffset:v,triggerOffsetTop:u}},u=function(e){var t=e.yOffset,n=e.xEdgeToAlign,r=e.xOffset,c=e.theme,o=e.isMaximized,s=e.triggerOffsetTop,i="calc(100% - ".concat(t,"px)");return" \n    ".concat(void 0!==s?"top: ".concat(s,"px;"):"bottom: ".concat(t,"px;"),"\n    height: ").concat(i,";\n    max-height: ").concat(o?i:Object(a.e)("frame.height")({theme:c}),";\n    ").concat(n,": ").concat(r,"px;\n    max-width: ","calc(100% - ".concat(r,"px)"),";\n    min-width: 200px;\n    width: ").concat("".concat(o?Object(a.e)("frame.maximizedWidth")({theme:c}):Object(a.e)("frame.width")({theme:c}),"px"),";\n    ")},b=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,c=e.isMaximized,s=e.isPhone,b=e.triggerOffsetTopBeforeReposition,l=e.triggerOffsetBottom,d=e.shouldRepositionTrigger;if(s)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";var p=Object(a.e)("trigger.size")({theme:n}),f=i({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:p,triggerWidth:p,triggerXpadding:Object(o.c)(n),triggerYpadding:null!==l&&void 0!==l?l:Object(o.b)(n),triggerOffsetTop:d&&void 0!==b?b:void 0});return u(Object(r.a)(Object(r.a)({},f),{},{theme:n,isMaximized:c}))},l=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,o=e.isPhone,s=e.customTriggerPosition,b="L"===Object(a.e)("frame.align")({theme:n}).slice(-1)?c.f.LEFT:c.f.RIGHT,l=i({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:s.height,triggerWidth:s.width,triggerXpadding:"left"===b?s.left:s.right,triggerYpadding:s.bottom}),d=l.xOffset,p=l.yOffset;if(o){var f="left"===b?"right":"left";return"\n      top: 0;\n      bottom: ".concat(p,"px;\n      ").concat(b,": ").concat(d,"px;\n      ").concat(f,": 0;\n      width: calc(100vw - ").concat(d,"px);\n      height: calc(100% - ").concat(p,"px);\n      min-width: calc(100vw - ").concat(d,"px);\n      max-width:  100vh;\n      max-height: 100vh;\n    ")}return u({xEdgeToAlign:b,xOffset:d,yOffset:p,theme:n,isMaximized:r})}},1144:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(357),a=n(468),c=n.n(a),o=n(709),s=Object(o.c)(),i=function(e){var t=Object(r.useRef)(!1),n=Object(r.useRef)(0);return{onTouchStart:Object(r.useCallback)((function(){t.current=!0}),[]),onTouchMove:Object(r.useCallback)(c()((function(){t.current=!1}),100),[]),onTouchEnd:Object(r.useCallback)((function(){t.current&&e(),t.current=!1}),[e]),onTouchCancel:Object(r.useCallback)((function(){t.current=!1}),[]),onDragStart:Object(r.useCallback)((function(e){n.current=e.timeStamp}),[]),onDragStop:Object(r.useCallback)((function(r){s&&!t.current&&r.timeStamp-n.current<=100&&(t.current=!1,e()),n.current=0}),[e])}}},1145:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(357),a=n.n(r),c=n(358),o=a.a.createContext("MOBILE");t.b=function(e){return Object(c.jsx)(o.Provider,{value:e.device},e.children)}},1146:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(357),a=n.n(r),c=n(358),o=a.a.createContext("ltr");t.b=function(e){return Object(c.jsx)(o.Provider,{value:e.direction},e.children)}},1147:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function c(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var i=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=c;var b=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;b.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,c.__suppressDeprecationWarning=!0},1148:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(421))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1150:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return h}));var r=n(14),a=n(132),c=n(29),o=(n(431),n(11),n(357)),s=n(462),i=n.n(s),u=n(87),b=n.n(u),l=n(928),d=n(859),p=n(430),f=n(358),v={byIds:{}},O=Object(o.createContext)(v),j=function(e,t){if(t.type===p.s){var n=t.payload,r=n.id,a=n.details;return b()(e.byIds[r])?i()(e,{byIds:{$merge:Object(c.a)({},r,a)}}):i()(e,{byIds:Object(c.a)({},r,{$merge:a})})}return e},h=function(e){var t=e.children,n=Object(o.useReducer)(j,v),c=Object(a.a)(n,2),s=c[0],i=c[1],u=Object(d.a)(),b=Object(o.useCallback)((function(e){var t=e.type,n=e.payload,a=null===u||void 0===u?void 0:u.find((function(e){var t,r;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(r=t.details)||void 0===r?void 0:r.id)===n.id}));a&&i({type:t,payload:Object(r.a)(Object(r.a)({},n),{},{id:a.id})})}),[u]);return Object(l.a)(p.s,b),Object(f.jsx)(O.Provider,{value:s},t)}},1151:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(380),n(11),n(7),n(61);var r=function(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)}),0)}},1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},1153:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(58),n(11),n(134),n(133),n(85);var r=function(){return n.e(70).then(n.bind(null,1703))}},1154:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(29),a=(n(380),n(11),n(692)),c=n(952),o=n(953),s=n(717),i=n(394),u=Object(r.a)({},i.c.CONTACT_DETAILS_FORM,{NAME:function(e){var t=e.user;return Object(s.a)(t)},FIRST_NAME:function(e){return e.user.firstName},LAST_NAME:function(e){return e.user.lastName},EMAIL:function(e){return e.user.email},PHONE_NO:function(e){return e.user.phoneNo}}),b=Object(r.a)({},i.c.CONTACT_DETAILS_FORM,(function(e,t){var n=c.a.getFields(o.a.getForm(e)),r=u[i.c.CONTACT_DETAILS_FORM];return n.reduce((function(e,n){var a=n.id,c=r[a];return c&&(e[a]=c(t)),e}),{})})),l=function(e,t){var n=b[a.a.getType(e)];return n?n(e,t):{}}},1155:function(e,t,n){n(88),n(7),n(21),n(204),n(59),n(86),n(11),n(719),n(439),n(58),n(85),n(135);var r=n(1516);e.exports=p,e.exports.parse=c,e.exports.compile=function(e,t){return s(c(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(e,t){for(var n,r=[],c=0,o=0,s="",b=t&&t.delimiter||"/";null!=(n=a.exec(e));){var l=n[0],d=n[1],p=n.index;if(s+=e.slice(o,p),o=p+l.length,d)s+=d[1];else{var f=e[o],v=n[2],O=n[3],j=n[4],h=n[5],x=n[6],g=n[7];s&&(r.push(s),s="");var m=null!=v&&null!=f&&f!==v,y="+"===x||"*"===x,k="?"===x||"*"===x,I=n[2]||b,w=j||h;r.push({name:O||c++,prefix:v||"",delimiter:I,optional:k,repeat:y,partial:m,asterisk:!!g,pattern:w?u(w):g?".*":"[^"+i(I)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",l(t)));return function(t,a){for(var c="",s=t||{},i=(a||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var b=e[u];if("string"!==typeof b){var l,d=s[b.name];if(null==d){if(b.optional){b.partial&&(c+=b.prefix);continue}throw new TypeError('Expected "'+b.name+'" to be defined')}if(r(d)){if(!b.repeat)throw new TypeError('Expected "'+b.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(b.optional)continue;throw new TypeError('Expected "'+b.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(l=i(d[p]),!n[u].test(l))throw new TypeError('Expected all "'+b.name+'" to match "'+b.pattern+'", but received `'+JSON.stringify(l)+"`");c+=(0===p?b.prefix:b.delimiter)+l}}else{if(l=b.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):i(d),!n[u].test(l))throw new TypeError('Expected "'+b.name+'" to match "'+b.pattern+'", but received "'+l+'"');c+=b.prefix+l}}else c+=b}return c}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function b(e,t){return e.keys=t,e}function l(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,c=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=i(u);else{var d=i(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+d+p+")*"),o+=p=u.optional?u.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var f=i(n.delimiter||"/"),v=o.slice(-f.length)===f;return a||(o=(v?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=c?"$":a&&v?"":"(?="+f+"|$)",b(new RegExp("^"+o,l(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return b(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(p(e[a],t,n).source);return b(new RegExp("(?:"+r.join("|")+")",l(n)),t)}(e,t,n):function(e,t,n){return d(c(e,n),t,n)}(e,t,n)}},1156:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(823).a)},1157:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1158:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="@chatPrompt/PROMPT_ACTION_TRIGGER"},1159:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},a={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},1160:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),a=n(43),c=n(446),o=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.post("/livechat/conversation/refresh-token"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1343:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(14),a=n(132),c=(n(519),n(58),n(11),n(134),n(133),n(85),n(357)),o=n.n(c),s=n(87),i=n.n(s),u=n(138),b=n.n(u),l=n(545),d=n.n(l),p=n(398),f=n.n(p),v=n(364),O=n(466),j=n(435),h=function(){return function(e){var t={eventId:e.label,eventType:e.action.id,additional:Object(r.a)(Object(r.a)({},e.additional),{},{conversationId:e.conversationId,page:e.page,appId:e.appId})};Object(O.a)({topic:j.e,payload:{data:t}})}},x=n(25),g=n(43),m=(n(390),n(446)),y=n(450),k=n(366),I=new Set([y.a.AGENT_ASSIGNED.id,y.a.VIDEO_CALL_OUTGOING_STARTING.id,y.a.AUDIO_CALL_OUTGOING_STARTING.id,y.a.CALL_ENDED.id,y.a.CALL_MISSED.id,y.a.CALL_DECLINED.id,y.a.CALL_FAILED.id,y.a.CALL_PAGE_MAXIMISED.id,y.a.CALL_PAGE_MINIMISED.id,y.a.ATTACHMENT_BUTTON_CLICKED.id,y.a.SEND_BUTTON_CLICKED.id,y.a.SESSION_ACTIVE.id]),w=function(){return function(){var e=Object(g.a)(Object(x.a)().mark((function e(t){var n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I.has(t.action.id)){e.next=2;break}return e.abrupt("return");case 2:return n=Object(r.a)({page:t.page,userAgent:t.userAgent,device:t.device,timeZone:t.timeZone,eventType:t.action.label,eventId:t.label,conversationId:t.conversationId,sourceType:"LIVE_CHAT",sourceSubType:t.sourceSubType},t.additional),e.prev=3,e.next=6,m.a.post("/livechat/prompt/browse/event",n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),Object(k.b)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},C=n(482),E=n(420),T=n(379),S=n(475),_=n(378),A=n(493),M=n(6),R=n(5),P=n(813),N=n(654),D=n(358),L=o.a.createContext(f.a),U=[],B=function(e){return Object(A.c)(Object(_.e)(e))},G=function(e){var t=Object(C.a)(),o=Object(E.a)(),s=Object(c.useRef)(U),u=Object(c.useState)(!i()(s.current)),l=Object(a.a)(u,2),p=l[0],f=l[1],O=Object(T.a)(S.c),j=Object(T.a)(S.b),x=Object(v.d)(B),g=Object(R.S)(),m=null===o||void 0===o?void 0:o.sendSessionActiveEvent;return Object(c.useEffect)((function(){if(p&&x.length){var e=Object(r.a)(Object(r.a)({},x[0]),{},{category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(M.a)().appId});!function(e,t){Object(P.c)((function(){b()(e,(function(e){e(t)}))}))}(s.current,e),j()}}),[x,p]),Object(c.useEffect)((function(){g||p||function(e){var t,r,a,c,o=[],s=null===e||void 0===e||null===(t=e.analyticsSettings)||void 0===t||null===(r=t.googleAnalytics)||void 0===r?void 0:r.trackerId,i=null===e||void 0===e||null===(a=e.analyticsSettings)||void 0===a||null===(c=a.sprinklrAnalytics)||void 0===c?void 0:c.enabled;return null!==s&&void 0!==s&&s.startsWith("UA-")?o.push(n.e(143).then(n.bind(null,1855)).then((function(e){return e.default.createTracker({trackerId:s},{canAccessParent:Object(R.Q)()})})).catch((function(){}))):null!==s&&void 0!==s&&s.startsWith("G-")&&o.push(n.e(80).then(n.bind(null,1856)).then((function(e){return e.default.createTracker({trackerId:s},{canAccessParent:Object(R.Q)()})})).catch((function(){}))),i&&o.push(w()),o.push(h()),Promise.all(o)}(o).then((function(e){s.current=d()(e),U=s.current,f(!0)}))}),[]),Object(c.useEffect)((function(){var e;return m&&(e=N.d.on((function(e){if(e.type===N.e)O({label:y.a.SESSION_ACTIVE.label,action:y.a.SESSION_ACTIVE})}))),function(){var t;return null===(t=e)||void 0===t?void 0:t()}}),[m]),Object(D.jsx)(L.Provider,{value:O},e.children)};t.b=o.a.memo(G)},1354:function(e,t,n){"use strict";var r=n(374),a=(n(131),n(357)),c=n.n(a),o=n(479),s=n.n(o),i=n(589),u=n(391),b=n(358),l=function(e){var t=Object(i.a)(e.window,e.onResize),n=Object(a.useMemo)((function(){return[].concat(Object(r.a)(s()(e.resizeRefs||[])),[t])}),[t,e.resizeRefs]),o=u.a.apply(void 0,Object(r.a)(n));return Object(b.jsx)(c.a.Fragment,null,e.children(o))};t.a=l},1355:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(58),n(11),n(134),n(133),n(85),n(428),n(21);var r=n(398),a=n.n(r),c=n(1151);function o(e,t){return new Promise((function(n,r){setTimeout((function(){e().then(n,r)}),t)}))}var s={},i=function(e,t){s[t]=e,e.catch(a.a).finally((function(){delete s[t]}))};var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxAttempts,r=void 0===n?5:n;function a(e){return 1e3*(e?Math.pow(2,Math.min(e-1,r)):0)}function u(e,t){return o(e,a(t)).catch((function(n){if(t===r)throw n;return u(e,t+1)}))}var b=Object(c.a)(e.toString());if(b in s)return s[b];var l=u(e,0);return i(l,b),l},b=function(){return u((function(){return n.e(48).then(n.bind(null,1821))}),{maxAttempts:3})}},1442:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1444:function(e,t,n){var r=n(749);e.exports=function(e,t){for(var n=-1,a=e.length;++n<a&&r(t,e[n],0)>-1;);return n}},1505:function(e,t,n){var r={"./classic/pages":[1741,15,108],"./modern/pages":[1740,15,109]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=1505,e.exports=a},1506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(590),a=r.__importStar(n(357)),c=n(357),o=r.__importDefault(n(1507)),s=r.__importDefault(n(1508));t.default=function(e){return function(t){var n,i;i=a.isValidElement(t)?(n=t).props:t;var u=o.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),b=u[0],l=u[1],d=c.useRef(null),p=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return l({paused:!1})},v=function(){return l({paused:!0})},O=function(){var e=d.current;e&&l({muted:e.muted,volume:e.volume})},j=function(){var e=d.current;if(e){var t=e.duration,n=e.buffered;l({duration:t,buffered:s.default(n)})}},h=function(){var e=d.current;e&&l({time:e.currentTime})},x=function(){var e=d.current;e&&l({buffered:s.default(e.buffered)})};n=n?a.cloneElement(n,r.__assign(r.__assign({controls:!1},i),{ref:d,onPlay:p(i.onPlay,f),onPause:p(i.onPause,v),onVolumeChange:p(i.onVolumeChange,O),onDurationChange:p(i.onDurationChange,j),onTimeUpdate:p(i.onTimeUpdate,h),onProgress:p(i.onProgress,x)})):a.createElement(e,r.__assign(r.__assign({controls:!1},i),{ref:d,onPlay:p(i.onPlay,f),onPause:p(i.onPause,v),onVolumeChange:p(i.onVolumeChange,O),onDurationChange:p(i.onDurationChange,j),onTimeUpdate:p(i.onTimeUpdate,h),onProgress:p(i.onProgress,x)}));var g=!1,m={play:function(){var e=d.current;if(e&&!g){var t=e.play();if("object"===typeof t){g=!0;var n=function(){g=!1};t.then(n,n)}return t}},pause:function(){var e=d.current;if(e&&!g)return e.pause()},seek:function(e){var t=d.current;t&&void 0!==b.duration&&(e=Math.min(b.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=d.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,l({volume:e}))},mute:function(){var e=d.current;e&&(e.muted=!0)},unmute:function(){var e=d.current;e&&(e.muted=!1)}};return c.useEffect((function(){var e=d.current;e&&(l({volume:e.volume,muted:e.muted,paused:e.paused}),i.autoPlay&&e.paused&&m.play())}),[i.src]),[n,b,m,d]}}},1507:function(e,t,n){"use strict";n(361),Object.defineProperty(t,"__esModule",{value:!0});var r=n(357);t.default=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],a=t[1];return[n,r.useCallback((function(e){a((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[a])]}},1508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1509:function(e,t,n){"use strict";var r=n(1510);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(1511));e.exports=t.default},1510:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1511:function(e,t,n){"use strict";n(201),t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1512:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(7),n(86),n(88),n(21),e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},1513:function(e,t,n){"use strict";n(393),n(203),n(201),n(131),t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(421)),a=s(n(357)),c=s(n(472)),o=n(1147);n(1148);function s(e){return e&&e.__esModule?e:{default:e}}var i="unmounted";t.UNMOUNTED=i;var u="exited";t.EXITED=u;var b="entering";t.ENTERING=b;var l="entered";t.ENTERED=l;var d="exiting";t.EXITING=d;var p=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,c=n.transitionGroup,o=c&&!c.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=u,r.appearStatus=b):a=l:a=t.unmountOnExit||t.mountOnEnter?i:u,r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===i?{status:u}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==b&&n!==l&&(t=b):n!==b&&n!==l||(t=d)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=c.default.findDOMNode(this);t===b?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:i})},o.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,c=this.getTimeouts(),o=a?c.appear:c.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:b},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:l},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:l},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===i)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var c=a.default.Children.only(n);return a.default.cloneElement(c,r)},r}(a.default.Component);function f(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var v=(0,o.polyfill)(p);t.default=v},1514:function(e,t,n){var r=n(3),a=n(0),c=n(9),o=Object.isFrozen;r({target:"Object",stat:!0,forced:a((function(){o(1)}))},{isFrozen:function(e){return!c(e)||!!o&&o(e)}})},1515:function(e,t,n){var r=n(749),a=n(213),c=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var s=null==n?0:a(n);return s<0&&(s=c(o+s,0)),r(e,t,s)}},1516:function(e,t,n){n(11),e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1517:function(e,t,n){n(88),n(7),n(21),n(86);var r=n(1518),a=n(89),c=/[&<>"']/g,o=RegExp(c.source);e.exports=function(e){return(e=a(e))&&o.test(e)?e.replace(c,r):e}},1518:function(e,t,n){var r=n(763)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},1519:function(e,t,n){var r=n(3),a=n(1110).entries;r({target:"Object",stat:!0},{entries:function(e){return a(e)}})},1520:function(e,t,n){n(3)({target:"Number",stat:!0},{isInteger:n(1521)})},1521:function(e,t,n){var r=n(9),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},1846:function(e,t,n){"use strict";var r=n(507),a=(n(59),n(131),n(701)),c=n(747),o=n(827),s=(n(1520),n(207),Number.isInteger||function(e){return e<<0===e}),i=n(1067),u=n(1471),b=Object(a.a)((function e(t,n,r){if(0===t.length)return n;var a=t[0];if(t.length>1){var b=!Object(u.a)(r)&&Object(c.a)(a,r)?r[a]:s(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,b)}if(s(a)&&Object(o.a)(r)){var l=[].concat(r);return l[a]=n,l}return Object(i.a)(a,n,r)})),l=n(1344),d=n(1066),p=Object(r.a)((function(e){return Object(l.a)(Object(d.a)(e),b(e))}));t.a=p},1851:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return T}));var r=n(374),a=n(25),c=n(43),o=(n(131),n(58),n(11),n(134),n(133),n(85),n(921)),s=n.n(o),i=n(840),u=n.n(i),b=n(30),l=n.n(b),d=n(87),p=n.n(d),f=n(6),v=n(5),O=n(1095),j=n(1017),h=n(132),x=n(925),g=n(471),m=n(1099),y=n(505),k=n(480),I=n(1100);function w(){return(w=Object(c.a)(Object(a.a)().mark((function e(){var t,r,c,o,s,i,u,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(f.a)(),e.prev=1,!p()(t)){e.next=4;break}throw new Error;case 4:return e.next=6,Object(x.g)(t);case 6:return e.next=8,Object(x.h)({getSessionToken:function(){return Object(k.a)(t.appId)}});case 8:return e.next=10,Object(x.a)(t);case 10:if(o=e.sent,s=Object(h.a)(o,2),i=s[0],u=s[1],"rejected"!==i.status){e.next=16;break}throw new Error;case 16:if(r=i.value,"rejected"!==u.status){e.next=19;break}throw u.reason;case 19:return c=u.value,Object(I.a)(c,r),Object(x.c)(r),e.next=24,Object(x.h)({applicationConfig:r,handshakeDetails:c});case 24:return r.hasPrompts&&n.e(55).then(n.bind(null,1817)).then((function(e){(0,e.default)(r,c)})),e.next=27,Promise.resolve().then(n.bind(null,1015));case 27:(0,e.sent.default)(null,{applicationConfig:r,handshakeDetails:c,chatSettings:t,subscribeToEvent:x.f}),e.next=43;break;case 31:if(e.prev=31,e.t0=e.catch(1),b=g.a.getUserSettings(t),!(Object(y.e)(e.t0)&&b&&m.a.getOneTimeToken(b))){e.next=41;break}return e.next=37,Promise.resolve().then(n.bind(null,1015));case 37:(0,e.sent.default)(e.t0,{applicationConfig:r,handshakeDetails:c,chatSettings:t,subscribeToEvent:x.f}),e.next=43;break;case 41:return e.next=43,Object(x.e)();case 43:case"end":return e.stop()}}),e,null,[[1,31]])})))).apply(this,arguments)}var C=n(1139),E=n(813),T=function(){if(function(){function e(e){return t.apply(this,arguments)}function t(){return t=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=o.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=o[c];j.a.apply(void 0,[O.a.getQueue(),t].concat(r));case 2:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}var n=Object(f.e)();e.q=n?n.q:[],e.loaded=!0,Object(f.b)().sprChat=e}(),Object(v.P)()){var e=Object(v.z)();C.a.preload(e)}var t=Object(f.e)();O.a.addCmdToQueue.apply(O.a,[O.a.getQueue()].concat(Object(r.a)(t.q))),function(){w.apply(this,arguments)}();var o=Object(f.a)(),i=o.meetingId,b=o.user,d=o.otp,h=l()(b,"oneTimeToken");p()(i)&&p()(h)&&p()(d)||t("open");var x,g=Object(f.a)().autoTrigger;x=!0===g?0:s()(g)?1e3*Math.max(g,0):null,u()(x)||setTimeout((function(){t("openNewConversation")}),x),Object(E.c)((function(){return Promise.resolve().then(n.bind(null,1015))}))}},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(60),n(11),n(62),n(131);var r=n(357),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.useCallback)((function(e){t.forEach((function(t){t&&("function"===typeof t?t(e):t.current=e)}))}),[].concat(t))}},396:function(e,t,n){"use strict";var r=n(357),a=n(1343);t.a=function(){return Object(r.useContext)(a.a)}},400:function(e,t,n){"use strict";var r=n(360);t.a=Object(r.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"},close:{id:"close",defaultMessage:"Close"},openChat:{id:"openChat",defaultMessage:"Open chat"}})},435:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"j",(function(){return O}));var r="unreadCountChanged",a="externalEventTriggered",c="externalCallback",o="loaded",s="loadCompleted",i="closed",u="availabilityChanged",b="promptActionTriggered",l="mediaShown",d="mediaClosed",p="eventTriggered",f="registerDeviceTriggered",v="unregisterDeviceTriggered",O="onPermissionSeeked"},443:function(e,t,n){"use strict";var r=n(132),a=(n(60),n(11),n(357)),c={childList:!0,subtree:!0,attributes:!0};t.a=function(e,t){var n=Object(a.useState)(),o=Object(r.a)(n,2),s=o[0],i=o[1];return Object(a.useLayoutEffect)((function(){var n=[];if(s){if(e.MutationObserver){var r=new e.MutationObserver(t);r.observe(s,c),n.push((function(){return r.disconnect()}))}else e.document.addEventListener("DOMSubtreeModified",t),n.push((function(){return e.document.removeEventListener("DOMSubtreeModified",t)}));n.push((function(){return e.removeEventListener("resize",t)}),(function(){return e.document.removeEventListener("transitionend",t)}))}return function(){n.forEach((function(e){return e()}))}}),[s,t]),Object(a.useCallback)((function(e){e&&i(e)}),[])}},455:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(357),a=n(1146),c=function(){return Object(r.useContext)(a.a)}},466:function(e,t,n){"use strict";var r=n(898),a=new(n(823).a);a.on((function(e){var t=e.topic,n=e.payload,a=void 0===n?{}:n,c=e.callback;t&&Object(r.a)({topic:t,payload:{response:{data:a.data,error:a.error},request:a.request,shouldLogEvent:a.shouldLogEvent},callback:c})})),t.a=function(e){a.emit(e)}},473:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(369),a=n(368),c=n(1853),o=n(1830),s=n(1745),i=Object(c.a)("conversationScreen"),u=Object(c.a)("callScreen"),b=Object(c.a)("videoCall"),l=Object(c.a)("audioCall"),d=Object(c.a)("settings"),p=Object(c.a)("trigger"),f=Object(c.a)("proactivePrompt"),v=Object(c.a)("minimizeChatBoxOnCloseInPhone"),O=Object(c.a)("header"),j=Object(c.a)("label"),h=Object(c.a)("openInFullScreen"),x=Object(c.a)("label"),g=Object(c.a)("defaultHidden"),m=Object(c.a)("initiallyHidden"),y=Object(c.a)("hideWhenOpen"),k=Object(c.a)("canManuallyRemove"),I=Object(c.a)("invisibilityCriteria"),w=Object(c.a)("animation"),C=Object(c.a)("contactDetailsMessage"),E=Object(c.a)("maximumOpenConversations"),T=Object(c.a)("autoLoginSSOId"),S=Object(c.a)("hour12"),_=Object(c.a)("externalLocaleData"),A=Object(c.a)("homeScreen"),M=Object(c.a)("conversationCard"),R=Object(c.a)("hideWavingHandIcon"),P=Object(c.a)("shouldShow"),N=Object(c.a)("agents"),D=Object(c.a)("button"),L=Object(c.a)("enableIndividualMessageDismissal"),U=Object(c.a)("infoCard"),B=Object(c.a)("existingConversationCard"),G=Object(c.a)("showHeader"),F=Object(r.a)((function e(){Object(a.a)(this,e)}));F.getDefaultMessages=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.lastMessage},F.getWaitTimeConfig=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.waitTimeConfig},F.getSurveyActionsToShowByVariant=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.surveyScreen)||void 0===t?void 0:t.actionsToShowByVariant},F.getActionsToShowByVariant=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionsToShowByVariant},F.getConversationActionOnPageCloseByScope=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.actionOnPageCloseByScope},F.shouldShowSenderNameInConversationScreen=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.showSenderName},F.getFooterActionsToShow=function(e){var t,n;return null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.actionsToShow},F.getActionOnPageCloseByScope=function(e){var t;return null===(t=e.allScreens)||void 0===t?void 0:t.actionOnPageCloseByScope},F.getAnalyticsSettings=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.analyticsSettings},F.hour12Enabled=Object(o.a)(Object(s.a)(S),Object(s.a)(d)),F.conversationTagsEnabled=function(e){var t;return null===(t=e.allScreens)||void 0===t?void 0:t.conversationTagsEnabled},F.showCaseNumberEnabled=function(e){var t;return null===(t=e.allScreens)||void 0===t?void 0:t.showCaseNumber},F.isSprinklrAnalyticsEnabled=function(e){var t,n,r;return null===(r=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.sprinklrAnalytics)||void 0===r?void 0:r.enabled},F.getGoogleTrackerId=function(e){var t,n,r;return null===(r=null===(n=null===(t=e.settings)||void 0===t?void 0:t.analyticsSettings)||void 0===n?void 0:n.googleAnalytics)||void 0===r?void 0:r.trackerId},F.getMaximumOpenConversations=Object(o.a)(Object(s.a)(E),Object(s.a)(d)),F.getDisableManualNewConversation=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.disableManualNewConversation},F.getUserPreferences=Object(s.a)(d),F.getContactDetailsMessage=Object(o.a)(Object(s.a)(C),Object(s.a)(i)),F.getTriggerConfig=Object(s.a)(p),F.getInvisibilityCriteriaOfTrigger=Object(o.a)(Object(s.a)(I),F.getTriggerConfig),F.getAnimationInfoOfTrigger=Object(o.a)(Object(s.a)(w),F.getTriggerConfig),F.getTriggerLabel=Object(o.a)(Object(s.a)(x),F.getTriggerConfig),F.isChatTriggerHidden=Object(o.a)(Object(s.a)(g),Object(s.a)(p)),F.isChatTriggerInitiallyHidden=Object(o.a)(Object(s.a)(m),Object(s.a)(p)),F.isTriggerHiddenWhenMaximised=Object(o.a)(Object(s.a)(y),Object(s.a)(p)),F.canTriggerBeManuallyRemoved=Object(o.a)(Object(s.a)(k),Object(s.a)(p)),F.getAutoLoginSSOId=Object(o.a)(Object(s.a)(T),Object(s.a)(d)),F.isDebugModeEnabled=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.settings)||void 0===t?void 0:t.enableDebugMode},F.getExternalLocaleData=Object(o.a)(Object(s.a)(_),Object(s.a)(d)),F.shouldHideWavingHandIcon=Object(o.a)(Object(s.a)(R),Object(s.a)(M),Object(s.a)(A)),F.shouldShowAgents=Object(o.a)(Object(s.a)(P),Object(s.a)(N),Object(s.a)(M),Object(s.a)(A)),F.getAgents=Object(o.a)(Object(s.a)(N),Object(s.a)(M),Object(s.a)(A)),F.shouldShowHeaderInExistingConversationCard=Object(o.a)(Object(s.a)(G),Object(s.a)(B),Object(s.a)(A)),F.isMinimizeOnCloseInPhoneForVideoCall=Object(o.a)(Object(s.a)(v),Object(s.a)(b)),F.getNewConversationButton=Object(o.a)(Object(s.a)(D),Object(s.a)(M),Object(s.a)(A)),F.isMinimizeOnCloseInPhoneForAudioCall=Object(o.a)(Object(s.a)(v),Object(s.a)(l)),F.shouldCallOpenInFullScreen=Object(o.a)(Object(s.a)(h),Object(s.a)(u)),F.getVideoCallHeaderLabel=Object(o.a)(Object(s.a)(j),Object(s.a)(O),Object(s.a)(b)),F.getAudioCallHeaderLabel=Object(o.a)(Object(s.a)(j),Object(s.a)(O),Object(s.a)(l)),F.getPromptEnableIndividualMessageDismissal=Object(o.a)(Object(s.a)(L),Object(s.a)(f)),F.getChatMessageComposerMaxCharacters=function(e){var t,n,r;return null===(r=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===r?void 0:r.maxCharacters},F.getChatMessageComposerSendButton=function(e){var t,n,r;return null===(r=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===r?void 0:r.sendButton},F.shouldHideOnDisableManualResponse=function(e){var t,n,r;return null===(r=null===(n=null===(t=null===e||void 0===e?void 0:e.conversationScreen)||void 0===t?void 0:t.footer)||void 0===n?void 0:n.chatMessageComposer)||void 0===r?void 0:r.hideOnDisableManualResponse},F.getInfoCard=Object(o.a)(Object(s.a)(U),Object(s.a)(i))},477:function(e,t,n){"use strict";var r=n(422);n.d(t,"a",(function(){return r.f})),n.d(t,"b",(function(){return r.g})),n.d(t,"c",(function(){return r.h})),n.d(t,"d",(function(){return r.l})),n.d(t,"e",(function(){return r.n})),n.d(t,"f",(function(){return r.o})),n.d(t,"g",(function(){return r.q})),n.d(t,"h",(function(){return r.r})),n.d(t,"i",(function(){return r.t})),n.d(t,"j",(function(){return r.u})),n.d(t,"k",(function(){return r.v})),n.d(t,"l",(function(){return r.w})),n.d(t,"m",(function(){return r.x})),n.d(t,"n",(function(){return r.y})),n.d(t,"o",(function(){return r.z})),n.d(t,"p",(function(){return r.A})),n.d(t,"q",(function(){return r.C})),n.d(t,"r",(function(){return r.D})),n.d(t,"s",(function(){return r.E})),n.d(t,"t",(function(){return r.F}));n(954)},496:function(e,t,n){"use strict";var r=n(1137),a=n(357);t.a=function(){return Object(a.useContext)(r.a)}},510:function(e,t,n){"use strict";n.d(t,"r",(function(){return r})),n.d(t,"q",(function(){return a})),n.d(t,"o",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return i})),n.d(t,"s",(function(){return u})),n.d(t,"p",(function(){return b})),n.d(t,"t",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"u",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return k}));var r="NEW_MESSAGE",a="MESSAGE_UPDATED",c="EXTERNAL_EVENT",o="CHAT_USER_UPDATED",s="CHAT_USER_START_TYPING",i="CHAT_USER_STOP_TYPING",u="UI_CONTROL",b="LOCK_CONVERSATIONS",l="UNLOCK_CONVERSATIONS",d="CONVERSATION_UPDATED",p="CO_BROWSE_STATUS",f="ADD_TO_CART",v="EXECUTE_ENDPOINT",O="USER_SESSION_EXPIRED",j="VIDEO_CALL_STARTING",h="VIDEO_CALL_ENDED",x="VIDEO_CALL_TOGGLE",g="VIDEO_CALL_OFFER_ACCEPTED",m="VIDEO_CALL_DECLINED",y="VIDEO_CALL_MISSED",k="VIDEO_PARTICIPANT_UPDATED"},513:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"x",(function(){return b})),n.d(t,"q",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"u",(function(){return x})),n.d(t,"v",(function(){return g})),n.d(t,"r",(function(){return m})),n.d(t,"w",(function(){return y})),n.d(t,"s",(function(){return k})),n.d(t,"t",(function(){return I})),n.d(t,"p",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"k",(function(){return E}));var r=n(710);function a(e){return{type:r.g,payload:e}}function c(e){return{type:r.h,payload:e}}function o(e){return{type:r.m,payload:e}}function s(e){return{type:r.t,payload:e}}function i(e){return{type:r.i,payload:e}}function u(e){return{type:r.p,payload:e}}function b(e){return{type:r.y,payload:e}}function l(e){return{type:r.w,payload:e}}function d(e){return{type:r.c,payload:e}}function p(e){return{type:r.d,payload:e}}function f(e){return{type:r.f,payload:e}}function v(e){return{type:r.e,payload:e}}function O(e){return{type:r.n,payload:e}}function j(e){return{type:r.b,payload:e}}function h(e){return{type:r.o,payload:e}}function x(e){return{type:r.l,payload:e}}function g(e){return{type:r.s,payload:e}}function m(e){return{type:r.u,payload:e}}function y(e){return{type:r.a,payload:e}}function k(e){return{type:r.j,payload:e}}function I(e){return{type:r.q,payload:e}}function w(e){return{type:r.v,payload:e}}function C(e){return{type:r.k,payload:e}}function E(e){return{type:r.r,payload:e}}},544:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(369),a=n(368),c=n(30),o=n.n(c),s=n(1853),i=n(1745),u=n(1830),b=Object(s.a)("otherConfigs"),l=Object(s.a)("workQueueId"),d=Object(s.a)("cards"),p=Object(s.a)("partnerId"),f=Object(s.a)("name"),v=Object(s.a)("id"),O=Object(s.a)("accountUserId"),j=Object(s.a)("filter"),h=Object(s.a)("visibilityConfig"),x=Object(s.a)("noDisplayConfig"),g=Object(s.a)("triggerAnimationConfig"),m=Object(s.a)("defaultLocale"),y=Object(s.a)("supportedLocales"),k=Object(s.a)("callConfiguration"),I=Object(s.a)("autoExpireUserSessionTimeInMinutes"),w=Object(r.a)((function e(){Object(a.a)(this,e)}));w.getCustomizationConfig=Object(i.a)(b),w.getWorkQueueId=Object(i.a)(l),w.getCards=Object(i.a)(d),w.getParnterId=Object(i.a)(p),w.getAppId=Object(i.a)(v),w.getAccountUserId=Object(i.a)(O),w.getVisibilityConfigFilter=Object(u.a)(Object(i.a)(j),Object(i.a)(h)),w.getNoDisplayConfigFilter=Object(u.a)(Object(i.a)(j),Object(i.a)(x)),w.getTriggerAnimationConfigFilter=Object(u.a)(Object(i.a)(j),Object(i.a)(g)),w.getDefaultLocale=Object(i.a)(m),w.getSupportedLocales=Object(i.a)(y),w.getAccountDisplayName=Object(i.a)(f),w.getCallConfiguration=Object(i.a)(k),w.getAutoExpireUserSessionTimeInMinutes=Object(i.a)(I),w.getAudioCallConfiguration=function(e){var t=w.getCallConfiguration(e);return o()(t,"audioConfig")||e.audioChatConfiguration},w.getVideoCallConfiguration=function(e){var t=w.getCallConfiguration(e);return o()(t,"videoConfig")||e.videoChatConfiguration},w.getCallAccountId=function(e){var t=w.getCallConfiguration(e);return o()(t,"accountId")||e.videoChatProviderAccountId}},549:function(e,t,n){"use strict";var r=n(1041);n.d(t,"a",(function(){return r.a}))},550:function(e,t,n){"use strict";n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return _}));n(7),n(135),n(61),n(519),n(87);var r=n(30),a=n.n(r),c=n(408),o=n.n(c),s=n(456),i=n.n(s),u=n(1515),b=n.n(u),l=n(138),d=n.n(l),p=n(718),f=n(493),v=n(378),O=n(386),j=n(565),h=n(494),x=n(141),g=n(5),m=/^CASE_(\w+)/,y=/^CONVERSATION_(\w+)/,k=function(e){return e&&!!e.match(y)},I=function(e){return e&&!!e.match(m)},w=function(e){return I(e)?e.match(m)[0].split("_")[1]:void 0};function C(e){var t,n=e.chatState,r=e.chatConversationsState,c=e.customizationSettings,o=e.getLocaleMessage,s=Object(O.q)(r),u=Object(f.a)(n),b=Object(f.d)(n),l=null===c||void 0===c?void 0:c.maximumOpenConversations,d=a()(l,"limit"),p=Object(O.v)(s),v=!!d&&!i()(p)&&d<=p,j=!!a()(l,"replaceNewConversationButton");return u?t=b:v&&(t=j?void 0:o(l,"label")),{isLocked:u||v,lockReason:t}}var E=function(e,t){var n=o()(h.a.getReadStatusList(e),(function(e){return e.userId===t}));return a()(n,"unreadCount",0)},T=function(e){var t=Object(v.c)(e),n=Object(O.q)(t),r=Object(j.b)().location.pathname,a=Object(p.a)(r,{path:"/conversation/:conversationId/:transientId?"});if(!a)return{isConversationPath:!1,conversationId:void 0};var c=null===a||void 0===a?void 0:a.params.conversationId,o=null===a||void 0===a?void 0:a.params.transientId;if("survey"===o)return{isConversationPath:!0,conversationId:c};if("all"===c)return{isConversationPath:!1,conversationId:void 0};if("new"===c)return{isConversationPath:!0,conversationId:o||x.e};if("last"===c)return{isConversationPath:!0,conversationId:Object(O.b)(n)?Object(O.e)(Object(O.w)(t))||x.e:void 0};if(k(c))return{isConversationPath:!0,conversationId:c};var s=w(c);return I(c)&&s?{isConversationPath:!0,conversationId:Object(O.j)(n,s)}:{isConversationPath:!0,conversationId:c}},S=function(e,t){return-1===b()(Object(O.r)(e),t)},_=function(e){var t=e.chatConversations.conversations.byId,n=e.chatConversations.conversations.ids;if(Object(g.E)()){var r=T(e).conversationId;if(!r)return!1;n=[r]}var a=!1;return d()(n,(function(e){if(t[e]&&!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},573:function(e,t,n){"use strict";t.a={CONVERSATION:"CONVERSATION",BANNER:"BANNER",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",INFO_CARD:"INFO_CARD",STATUS_CARD:"STATUS_CARD",CONVERSATION_HISTORY:"CONVERSATION_HISTORY"}},589:function(e,t,n){"use strict";var r=n(132),a=(n(60),n(11),n(357)),c=n(443);t.a=function(e,t){var n=Object(a.useState)(),o=Object(r.a)(n,2),s=o[0],i=o[1],u=Object(c.a)(e,t);return Object(a.useLayoutEffect)((function(){var n=[];if(s)if(e.ResizeObserver){var r=new e.ResizeObserver(t);r.observe(s),n.push((function(){return r.disconnect()}))}else u(s);return function(){n.forEach((function(e){return e()}))}}),[s,t]),Object(a.useCallback)((function(e){e&&i(e)}),[])}},596:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(367),a=n(382),c=(n(131),n(357),n(44)),o=n.n(c),s=n(1333),i=n(381),u=n(359);var b=Object(u.a)("div",{target:"ex7k1ut0"})({name:"1txt44t",styles:"top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:var(--spr-lc-bgc-9);"}),l=Object(u.a)("div",{target:"ex7k1ut1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"}),d=n(358),p=function(){return Object(d.jsx)(b,null,Object(d.jsx)(l,null,Object(d.jsx)(i.c,null)))},f=n(371),v=n(420),O=["shouldHideLocaleLoader"],j=function(e){var t=Object(f.a)(),n=t.direction,c=t.localeDataLoading,i=Object(v.a)(),u=function(e){return o()(e,(function(e,t,n){return e[n]=o()(t,(function(e,t){var n=t.type,r=t.src;return"SCRIPT"===n?"".concat(e,' <script defer src="').concat(r,'"><\/script>'):"CSS"===n?"".concat(e,' <link rel="stylesheet" href="').concat(r,'">'):e}),""),e}),{})}(null===i||void 0===i?void 0:i.externalResources),b=e.shouldHideLocaleLoader,l=Object(a.a)(e,O);return Object(d.jsx)(s.a,Object(r.a)({},l,{direction:n,externalResources:u}),e.children,!b&&c&&Object(d.jsx)(p,null))}},600:function(e,t,n){"use strict";var r=n(132),a=n(357),c=n(1128),o=n.n(c),s=n(1127);var i=function(){return Object(a.useContext)(s.a)};t.a=function(e){var t=i(),n=Object(r.a)(t,2),c=n[0],s=n[1],u=o()(),b=Object(a.useCallback)((function(t){u()&&s({stateKey:e,state:t})}),[e,s,u]);return Object(a.useEffect)((function(){return function(){s({stateKey:e,state:null})}}),[]),[c&&c.stateKey===e?c.state:null,b]}},609:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CONVERSATION:"CONVERSATION",CONVERSATION_LIST:"CONVERSATION_LIST",HOME:"HOME",KNOWLEDGE_BASE:"KNOWLEDGE_BASE",KNOWLEDGE_BASE_LIST:"KNOWLEDGE_BASE_LIST",SURVEY:"SURVEY",GUIDED_WORKFLOW:"GUIDED_WORKFLOW",401:"401",LOGOUT:"LOGOUT"}},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return b}));var r=n(359),a=n(362),c="header.lg",o="".concat(c,".logo"),s="".concat(c,".description"),i=Object(r.a)("div",{target:"e6slia10"})("min-height:",(function(e){return Object(a.e)("header.minHeight")(e)}),";padding:",(function(e){return Object(a.h)("header.padding")(e)}),";display:flex;justify-content:flex-end;align-items:center;"),u=Object(r.a)("div",{target:"e6slia11"})("width:100%;",(function(e){return!e.isContained&&{backgroundColor:"".concat(Object(a.e)("header.backgroundColor")(e)),backgroundImage:"".concat(Object(a.e)("header.gradients")(e)),borderBottom:"".concat(Object(a.e)("header.borderBottom")(e)),padding:"var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) 0 var(--spr-lc-safe-area-left)"}}),""),b=function(e){return Object(a.e)("".concat(c,".paddingTop"),0)(e)+Object(a.e)("".concat(c,".paddingBottom"),0)(e)+Object(a.e)("".concat(o,".height"),0)(e)+Object(a.e)("".concat(o,".marginTop"),0)(e)+Object(a.e)("".concat(o,".marginBottom"),0)(e)+Object(a.e)("".concat(s,".marginTop"),0)(e)+Object(a.e)("".concat(s,".marginBottom"),0)(e)+52}},634:function(e,t,n){"use strict";n.d(t,"s",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"p",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"o",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return x})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return k}));var r=n(712),a=n(846);function c(){return{type:a.n,payload:{}}}function o(e){return{type:a.j,payload:e}}function s(){return{type:a.o,payload:{}}}function i(){return{type:a.r,payload:{}}}function u(e){return{type:a.h,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function b(e){return{type:a.i,payload:e}}function l(e){return{type:a.d,payload:e}}function d(e){return{type:a.g,payload:e}}function p(e){return{type:a.a,payload:e}}function f(e){return{type:a.b,payload:e}}function v(e){return{type:a.e,payload:e}}function O(e){return{type:a.c,payload:e}}function j(e){return{type:a.f,payload:e}}function h(e){return{type:a.p,payload:e}}function x(e){return{type:a.q,payload:e}}function g(e){return{type:a.l,payload:e}}function m(e){return{type:a.m,payload:e}}var y=function(e){return{type:a.k,payload:e}},k=function(e){var t=e.conversationId,n=e.messageId,c=e.buttonId,o=e.attachment;return function(e){var s=Object(r.a)(c,o);return{type:a.s,payload:{conversationId:t,messageId:n,url:s.url},promise:e}}}},635:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(357),a=n.n(r).a.createContext(void 0),c=function(){return Object(r.useContext)(a)},o="trigger-close-icon-container"},636:function(e,t,n){"use strict";var r=n(357),a=n.n(r),c=n(711),o=n.n(c),s=n(456),i=n.n(s),u=n(858),b=n(358),l=function(e){var t=e.shouldPlay,n=e.unreadCount,c=e.children,s=Object(u.b)().play,l=o()(n);return Object(r.useEffect)((function(){!i()(l)&&n&&t&&n>l&&s(u.a.MESSAGE)}),[n,s,l,t]),Object(b.jsx)(a.a.Fragment,null,c)};t.a=a.a.memo(l)},658:function(e,t,n){"use strict";n.d(t,"K",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"R",(function(){return i})),n.d(t,"M",(function(){return u})),n.d(t,"X",(function(){return b})),n.d(t,"W",(function(){return l})),n.d(t,"ab",(function(){return d})),n.d(t,"bb",(function(){return p})),n.d(t,"Z",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"L",(function(){return O})),n.d(t,"cb",(function(){return j})),n.d(t,"Y",(function(){return h})),n.d(t,"V",(function(){return x})),n.d(t,"Q",(function(){return g})),n.d(t,"N",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"y",(function(){return k})),n.d(t,"l",(function(){return I})),n.d(t,"J",(function(){return w})),n.d(t,"v",(function(){return C})),n.d(t,"D",(function(){return E})),n.d(t,"q",(function(){return T})),n.d(t,"G",(function(){return S})),n.d(t,"s",(function(){return _})),n.d(t,"C",(function(){return A})),n.d(t,"p",(function(){return M})),n.d(t,"x",(function(){return R})),n.d(t,"k",(function(){return P})),n.d(t,"I",(function(){return N})),n.d(t,"u",(function(){return D})),n.d(t,"z",(function(){return L})),n.d(t,"m",(function(){return U})),n.d(t,"a",(function(){return B})),n.d(t,"P",(function(){return G})),n.d(t,"h",(function(){return F})),n.d(t,"O",(function(){return z})),n.d(t,"T",(function(){return V})),n.d(t,"F",(function(){return H})),n.d(t,"i",(function(){return W})),n.d(t,"w",(function(){return q})),n.d(t,"j",(function(){return K})),n.d(t,"E",(function(){return X})),n.d(t,"r",(function(){return Y})),n.d(t,"A",(function(){return Q})),n.d(t,"n",(function(){return Z})),n.d(t,"B",(function(){return $})),n.d(t,"o",(function(){return J})),n.d(t,"H",(function(){return ee})),n.d(t,"t",(function(){return te})),n.d(t,"S",(function(){return ne})),n.d(t,"U",(function(){return re}));var r="open",a="close",c="enable",o="disable",s="clearSession",i="sendExternalEvent",u="openNewConversation",b="updateConversationContext",l="updateClientContext",d="updateUserContext",p="updateUserSettings",f="updateThemeMode",v="getAvailableAgents",O="openExistingConversation",j="updateWidget",h="updateLocale",x="updateCart",g="removeFromCart",m="openNewPrompt",y="clearPrompt",k="onClose",I="offClose",w="onUnreadCountChange",C="offUnreadCountChange",E="onExternalEvent",T="offExternalEvent",S="onPromptAction",_="offPromptAction",A="onEvent",M="offEvent",R="onAvailabilityChange",P="offAvailabilityChange",N="onShowMedia",D="offShowMedia",L="onCloseMedia",U="offCloseMedia",B="addFilterToEvaluate",G="removeFilterToEvaluate",F="goBack",z="registerDevice",V="unregisterDevice",H="onNotification",W="grantPermission",q="onLoad",K="offLoad",X="onLoadComplete",Y="offLoadComplete",Q="onDeviceRegister",Z="offDeviceRegister",$="onUnregisterDevice",J="offUnregisterDevice",ee="onSeekPermission",te="offSeekPermission",ne="subscribeToUpdate",re="unsubscribeToUpdate"},668:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},669:function(e,t,n){"use strict";n(393),n(361),n(60),n(11),n(62),n(7),n(61),n(131),t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(421));var r=s(n(1509)),a=s(n(1512)),c=s(n(357)),o=s(n(1513));n(1148);function s(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},b=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},l=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,c=n?r+" "+a:a;t.removeClasses(e,n?"appear":"enter"),u(e,c),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,a=r?(r&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName,c=n.doneClassName;r&&b(e,r),a&&b(e,a),c&&b(e,c)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=i({},this.props);return delete e.classNames,c.default.createElement(o.default,i({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(c.default.Component);l.defaultProps={classNames:""},l.propTypes={};var d=l;t.default=d,e.exports=t.default},670:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"v",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"x",(function(){return y})),n.d(t,"l",(function(){return k})),n.d(t,"u",(function(){return I})),n.d(t,"f",(function(){return w})),n.d(t,"t",(function(){return C})),n.d(t,"p",(function(){return E})),n.d(t,"k",(function(){return T})),n.d(t,"y",(function(){return S})),n.d(t,"w",(function(){return _})),n.d(t,"q",(function(){return A})),n.d(t,"s",(function(){return M})),n.d(t,"m",(function(){return R})),n.d(t,"r",(function(){return P})),n.d(t,"o",(function(){return N}));var r=n(25),a=(n(131),n(361),n(204),n(200),n(427)),c=n(605),o=n(905),s=n(924),i=n(505),u=new o.a,b="/livechat/conversation";function l(e){var t=e.shouldFetchNumberOfOpenConversation,n=e.size,o=e.cursor;return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var a,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(b,"/fetch?fetchNumberOfOpenConversations=").concat(t,"&sortKey=lastInteractionTime"),n&&(a="".concat(a,"&size=").concat(n)),o&&o.after&&(a="".concat(a,"&after=").concat(o.after)),o&&o.before&&(a="".concat(a,"&before=").concat(o.before)),e.next=6,c.a.post(a);case 6:return s=e.sent,e.abrupt("return",s.data);case 8:case"end":return e.stop()}}),e)})))}function d(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n,a,o,s,i,u,l,d,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(b,"/spy-conversations"),a=e.userIds,o=void 0===a?[]:a,s=e.roleIds,i=void 0===s?[]:s,u=e.pageNum,l=e.size,d=void 0===l?10:l,t.next=4,c.a.post(n,{userIds:o,roleIds:i,page:{page:u,size:d}});case 4:return p=t.sent,t.abrupt("return",p.data);case 6:case"end":return t.stop()}}),t)})))}function p(e,t){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function n(){var a,c,o;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.httpHeaders,c=e.multiSubmitResponseUrl,n.next=3,u.post(c,t,{headers:Object.assign(Object.assign({},a),{"Content-Type":"application/json"}),baseURL:""});case 3:return o=n.sent,n.abrupt("return",o.data);case 5:case"end":return n.stop()}}),n)})))}function f(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(b,"/fetch/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function v(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(b,"/fetch/case/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function O(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(b,"/fetch/externalCase/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function j(e,t){var n=t.size,o=t.cursor;return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var a,s,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{key:"conversationId",value:e}],n&&a.push({key:"size",value:n}),o&&a.push({key:"cursor",value:o}),a.push({key:"includeMaskedDeletedMessages",value:!0}),s=a.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&"),t.next=7,c.a.post("".concat(b,"/fetchMessages?").concat(s));case 7:return i=t.sent,t.abrupt("return",i.data);case 9:case"end":return t.stop()}}),t)})))}function h(e,t){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function n(){var a;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.post("".concat(b,"/closeConversation?conversationId=").concat(e));case 3:return a=n.sent,null===t||void 0===t||t.resolve(),n.abrupt("return",a.data);case 8:if(n.prev=8,n.t0=n.catch(0),!Object(i.d)(n.t0)){n.next=12;break}return n.abrupt("return",null===t||void 0===t?void 0:t.resolve());case 12:throw null===t||void 0===t||t.reject(n.t0),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,8]])})))}function x(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("".concat(b,"/closeAll"));case 3:return n=t.sent,null===e||void 0===e||e.resolve(),t.abrupt("return",n.data);case 8:if(t.prev=8,t.t0=t.catch(0),!Object(i.d)(t.t0)){t.next=12;break}return t.abrupt("return",null===e||void 0===e?void 0:e.resolve());case 12:throw null===e||void 0===e||e.reject(t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))}function g(e,t){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function n(){var a;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.post("".concat(b,"/delete?conversationId=").concat(e));case 3:return a=n.sent,null===t||void 0===t||t.resolve(),n.abrupt("return",a.data);case 8:if(n.prev=8,n.t0=n.catch(0),!Object(i.d)(n.t0)){n.next=12;break}return n.abrupt("return",null===t||void 0===t?void 0:t.resolve());case 12:throw null===t||void 0===t||t.reject(n.t0),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,8]])})))}function m(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post("".concat(b,"/deleteAll"));case 3:return n=t.sent,null===e||void 0===e||e.resolve(),t.abrupt("return",n.data);case 8:if(t.prev=8,t.t0=t.catch(0),!Object(i.d)(t.t0)){t.next=12;break}return t.abrupt("return",null===e||void 0===e?void 0:e.resolve());case 12:throw null===e||void 0===e||e.reject(t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))}function y(e,t){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function n(){var a;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.post("".concat(b,"/updateDisclaimer/").concat(e,"?disclaimerStatus=").concat(t));case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))}function k(e,t){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function n(){var a,o;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={conversationId:e,messageId:t},n.next=3,c.a.post("".concat(b,"/fetchMessage"),void 0,{params:a,backoff:!0});case 3:return o=n.sent,n.abrupt("return",o.data);case 5:case"end":return n.stop()}}),n)})))}function I(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(b,"/send"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function w(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function C(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function E(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(b,"/new"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function T(e,t,n,o){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function a(){var s;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.post("".concat(b,"/suggestions"),Object.assign({conversationId:e,query:t,locale:o},n));case 2:return s=r.sent,r.abrupt("return",s.data);case 4:case"end":return r.stop()}}),a)})))}function S(e){var t=e.context,n=e.updateLatest,r=e.payload;return s.a.info({chatConversationId:null===r||void 0===r?void 0:r.conversationId,message:"".concat(null===r||void 0===r?void 0:r.conversationId,": Update latest conversation context service called"),additionalDetails:{actionPayload:r}}),c.a.post("".concat(b,"/updateConversationDetails?updateLatest=").concat(n),t)}function _(e){var t=e.conversationId,n=e.context,r=e.payload;return s.a.info({chatConversationId:t,message:"".concat(t,": Update conversation context service called"),additionalDetails:{actionPayload:r}}),c.a.post("".concat(b,"/updateConversationDetails?conversationId=").concat(t),n)}function A(e){return c.a.post("".concat(b,"/cancelAsset/").concat(e))}function M(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.post("".concat(b,"/markSurveyOpened/").concat(e)));case 1:case"end":return t.stop()}}),t)})))}function R(){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("".concat(b,"/fetchNumberOfOpenConversations"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function P(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.post("".concat(b,"/markTimeOfDelivery?messageIds=").concat(e.join(","))));case 1:case"end":return t.stop()}}),t)})))}function N(e){var t=e.messageId,n=e.conversationId,o=e.text,s=e.language,i=e.additional;return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("".concat(b,"/generateVoiceNote"),{messageId:t,tempConversationId:n,text:o,language:s,additional:i});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))}},706:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r="@commerce/ADD_TO_CART",a="@commerce/UPDATE_CART",c="@commerce/REMOVE_FROM_CART"},718:function(e,t,n){"use strict";n(58),n(11),n(85),n(7),n(59),n(380);var r=n(1155),a=n.n(r),c={},o=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=c[n]||(c[n]={});if(r[e])return r[e];var s=[],i={re:a()(e,s,t),keys:s};return o<1e4&&(r[e]=i,o++),i};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,a=r.path,c=r.exact,o=void 0!==c&&c,i=r.strict,u=void 0!==i&&i,b=r.sensitive,l=void 0!==b&&b;if(null==a)return n;var d=s(a,{end:o,strict:u,sensitive:l}),p=d.re,f=d.keys,v=p.exec(e);if(!v)return null;var O=v[0],j=v.slice(1),h=e===O;return o&&!h?null:{path:a,url:"/"===a&&""===O?"/":O,isExact:h,params:f.reduce((function(e,t,n){return e[t.name]=j[n],e}),{})}}},719:function(e,t,n){n(3)({target:"String",proto:!0},{repeat:n(745)})},737:function(e,t,n){"use strict";n.d(t,"f",(function(){return U})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return T})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return L}));var r=n(394),a=n(467),c=n(406),o=n(692),s=n(368),i=n(369),u=n(425),b=n(424),l=n(1853),d=n(1745),p=Object(l.a)("height"),f=Object(l.a)("width"),v=Object(l.a)("url"),O=Object(l.a)("fileToken"),j=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"setHeight",value:function(e){return this.set(p,e)}},{key:"setWidth",value:function(e){return this.set(f,e)}},{key:"setUrl",value:function(e){return this.set(v,e)}},{key:"setFileToken",value:function(e){return e?this.set(O,e):this}}]),n}(o.a);j.getUrl=Object(d.a)(v);var h=n(548),x=n.n(h),g=Object(l.a)("title"),m=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setType(r.c.IMAGE),a}return Object(i.a)(n,[{key:"setTitle",value:function(e){return this.set(g,e)}}]),n}(j);function y(e){return(new m).setHeight(e.height).setWidth(e.width).setUrl(e.url).setTitle(e.title).build()}var k=Object(l.a)("previewImageUrl"),I=Object(l.a)("title"),w=Object(l.a)("previewFileToken"),C=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setType(r.c.VIDEO),a}return Object(i.a)(n,[{key:"setPreviewImageUrl",value:function(e){return this.set(k,e)}},{key:"setTitle",value:function(e){return this.set(I,e)}},{key:"setPreviewImageToken",value:function(e){return e?this.set(w,e):this}}]),n}(j);function E(e){return(new C).setUrl(e.url).setHeight(e.height).setWidth(e.width).setPreviewImageUrl(e.previewImageUrl).setTitle(e.title).build()}function T(e){var t,n=e.chatMessage,r=e.url,o=e.token,s=a.a.getAttachment(c.a.getMessagePayload(n));t=o?new C(s).setPreviewImageToken(o).build():new C(s).setPreviewImageUrl(r).build();var i=new a.a(c.a.getMessagePayload(n)).setAttachment(t).build();return new c.a(n).setMessagePayload(i).build()}function S(e){return(new m).setHeight(e.height).setWidth(e.width).setUrl(e.previewImageUrl).build()}C.getPreviewImageUrl=Object(d.a)(k);var _=Object(l.a)("title"),A=Object(l.a)("documentType"),M=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setType(r.c.DOCUMENT),a}return Object(i.a)(n,[{key:"setTitle",value:function(e){return this.set(_,e)}},{key:"setDocumentType",value:function(e){return this.set(A,e)}}]),n}(j);function R(e){return(new M).setUrl(e.url).setTitle(e.title).setDocumentType(e.documentType).build()}var P=Object(l.a)("title"),N=Object(l.a)("mimeType"),D=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setType(r.c.AUDIO),a}return Object(i.a)(n,[{key:"setTitle",value:function(e){return this.set(P,e)}},{key:"setMimeType",value:function(e){return this.set(N,e)}}]),n}(j);function L(e){return(new D).setUrl(e.url).setTitle(e.title).setMimeType(e.mimeType).build()}function U(e){var t=e.chatMessage,n=e.url,s=e.token,i=a.a.getAttachment(c.a.getMessagePayload(t));if(!i||!function(e){return x()(r.b,o.a.getType(e))}(i))return t;var u=new j(i);s&&u.setFileToken(s),u.setUrl(s?void 0:n);var b=new a.a(c.a.getMessagePayload(t)).setAttachment(u.build()).build();return new c.a(t).setMessagePayload(b).build()}},741:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return E}));var r,a=n(132),c=n(29),o=(n(11),n(134),n(131),n(357)),s=n.n(o),i=n(949),u=n.n(i),b=n(364),l=n(398),d=n.n(l),p=n(942),f=n(762),v=n(420),O=function(){var e=Object(v.a)();return!(null===e||void 0===e||!e.enableSoundNotification)},j=n(376),h=n(433),x=function(e){return Object(h.e)(Object(j.b)(e))},g=n(933),m=n(378),y=n(412),k=n(358),I={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},w=s.a.createContext({play:d.a,pause:d.a}),C=(r={},Object(c.a)(r,I.MESSAGE,"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3"),Object(c.a)(r,I.AGENT_ASSIGNMENT,"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3"),Object(c.a)(r,I.CALL,"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"),r),E=function(e){var t=e.children,n=Object(b.d)(m.h),r=Object(y.d)(n),c=Object(g.a)({category:"LIVE_CHAT",userId:r}),s=u()({src:"","data-testid":"messageAudio",preload:"none"}),i=Object(a.a)(s,4),l=i[0],d=i[2],v=i[3],j=u()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),h=Object(a.a)(j,4),E=h[0],T=h[2],S=h[3],_=u()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),A=Object(a.a)(_,4),M=A[0],R=A[2],P=A[3],N=Object(f.a)(),D=function(){var e=Object(b.d)(x).enableSoundNotification.enabled,t=O();return e&&t}(),L=O(),U=Object(o.useCallback)((function(){v.current&&(v.current.src=C.MESSAGE),S.current&&(S.current.src=C.AGENT_ASSIGNMENT),P.current&&(P.current.src=C.CALL)}),[]),B=Object(o.useCallback)((function(e){switch(e){case I.MESSAGE:return D?d.play():Promise.resolve();case I.AGENT_ASSIGNMENT:return T.play();case I.CALL:return R.play()}return Promise.resolve()}),[d,T,R,D]),G=Object(o.useCallback)((function(e){var t=B(e);"object"===typeof t&&t.catch((function(t){return c.warning("Sound Notification Failed for ".concat(e,":  ").concat(t))}))}),[B]),F=Object(o.useCallback)((function(e){switch(e){case I.MESSAGE:return d.pause();case I.AGENT_ASSIGNMENT:return T.pause();case I.CALL:return R.pause()}}),[d,T,R]),z=Object(o.useMemo)((function(){return{play:G,pause:F}}),[G,F]);return Object(k.jsx)(w.Provider,{value:z},Object(k.jsx)(p.b,{onClick:U},L&&l,N&&E,N&&M,t))};t.c=w},752:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(843),a=function(e){var t=e.file,n=e.conversationId,a=e.sender,c=e.inReplyToChatMessageId;return{type:r.b,payload:{file:t,conversationId:n,chatUserId:a,inReplyToChatMessageId:c}}},c=function(e){var t=e.initialMessages,n=e.createCase,a=e.conversationContext,c=e.silent,o=e.assignToUser,s=e.additional;return function(e){return{type:r.c,payload:{initialMessages:t,createCase:n,assignToUser:o,silent:c,conversationContext:a,additional:s},promise:e}}},o=function(e,t){var n=e.conversationId,a=e.externalCaseId;return{type:r.a,payload:{conversationId:n,externalCaseId:a},promise:t}}},754:function(e,t,n){n(204);var r=n(97),a=n(281),c=n(220),o=n(1101),s=n(1444),i=n(221),u=n(89);e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return a(e);if(!e||!(t=r(t)))return e;var b=i(e),l=i(t),d=s(b,l),p=o(b,l)+1;return c(b,d,p).join("")}},762:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(388),a=n(544),c=function(){var e=Object(r.a)();return!!e&&!!a.a.getCallAccountId(e)}},763:function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},764:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));n(131);var r=["video/mp4","video/quicktime"],a=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],c=[].concat(a,["audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"]),o=["image/jpeg","image/png","image/gif"],s=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},840:function(e,t){e.exports=function(e){return null===e}},843:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/EXISTING_CONVERSATION_OPEN",c="@conversation/MEDIA_SEND"},850:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(132),a=n(357),c=n.n(a),o=n(364),s=n(600),i=n(654),u=n(430),b=n(5),l=n(358),d="sessionExpiryModal",p=c.a.createContext(null),f=Object(a.memo)((function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],f=n[1],v=Object(s.a)(d),O=Object(r.a)(v,2),j=O[0],h=O[1],x=Object(o.c)(),g=Object(b.Q)();return Object(a.useEffect)((function(){var e=i.d.on((function(e){switch(e.type){case i.c:f(e.payload.targetDate);break;case i.b:f(null)}}));return function(){return e()}}),[g]),Object(a.useEffect)((function(){if(c)return g&&x({type:u.d}),void h(!0);j&&h(!1)}),[c]),Object(l.jsx)(p.Provider,{value:c},e.children)}));t.c=p},854:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(359),a=n(362),c="header.lg",o=Object(r.a)("div",{target:"e13xym9v0"})((function(e){return{backgroundColor:Object(a.e)("".concat(c,".backgroundColor"),Object(a.e)("header.backgroundColor")(e))(e),backgroundImage:Object(a.e)("".concat(c,".gradients"))(e)}}),";padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"),s=Object(r.a)("div",{target:"e13xym9v1"})("border-radius:",Object(a.e)("card.borderRadius"),";background-color:var(--spr-lc-bgc-16);")},855:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n(359),a=n(362),c=n(633);var o=32,s="header.lg",i=Object(r.a)("div",{target:"e1b8encq0"})("background-color:",(function(e){return Object(a.e)("".concat(s,".backgroundColor"),Object(a.e)("header.backgroundColor")(e))(e)}),";background-image:",Object(a.e)("".concat(s,".gradients")),";padding:",Object(a.h)("".concat(s,".padding")),";padding-bottom:",(function(e){return o+Object(a.e)("".concat(s,".paddingBottom"))(e)}),"px;height:",(function(e){return e.height||function(e){return Object(c.c)(e)+o}(e)}),"px;transition:",(function(e){return e.showTransition&&"height 0.2s ease-out"}),";"),u=Object(r.a)("div",{target:"e1b8encq1"})({name:"anqr8i",styles:"width:100%;height:100%;padding:var(--spr-lc-safe-area-top) var(--spr-lc-safe-area-right) var(--spr-lc-safe-area-bottom) var(--spr-lc-safe-area-left);"})},856:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(361),n(357);var r=n(358);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function c(e){return Object(r.jsx)("svg",a({viewBox:"0 0 14 14","data-icon-name":"Chevron",focusable:"false"},e),Object(r.jsx)("path",{d:"M13.728 4.935a.931.931 0 00-1.316 0L7 10.346l-5.41-5.41a.932.932 0 00-1.318 0 .929.929 0 000 1.315l6.07 6.07a.931.931 0 001.316 0l6.07-6.07a.931.931 0 000-1.315z"}))}},857:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,a=n(374),c=(n(200),n(479)),o=n.n(c);function s(e,t){var n=o()(e);return function(e,t,n){return Object(a.a)(Array(n)).map((function(n,r){return(r+t)%e.length})).map((function(t){return e[t]}))}(n,function(e){return r||(r=Math.floor(Math.random()*e.length)),r}(n),t)}},858:function(e,t,n){"use strict";var r=n(357),a=n(741);n.d(t,"a",(function(){return a.b})),t.b=function(){return Object(r.useContext)(a.c)}},859:function(e,t,n){"use strict";var r=n(374),a=n(14),c=(n(58),n(11),n(390),n(133),n(85),n(131),n(205),n(357)),o=n(388),s=n(377),i=n(5),u=n(573),b=new Set([u.a.CONVERSATION,u.a.KNOWLEDGE_BASE,u.a.CONVERSATION_HISTORY]);t.a=function(){var e,t,n,l=Object(o.a)(),d=Object(s.a)(),p=Object(i.j)(),f=null===(e=l.cardConfigs)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.cards,v=(null===d||void 0===d||null===(n=d.homeScreen)||void 0===n?void 0:n.conversationCard)||{},O=(null===l||void 0===l?void 0:l.cards)||[],j=Object(c.useMemo)((function(){return[Object(a.a)({type:u.a.CONVERSATION,id:u.a.CONVERSATION},v)].concat(Object(r.a)(O))}),[v,O]);return Object(c.useMemo)((function(){return p?(null!==f&&void 0!==f?f:j).filter((function(e){return b.has(e.type)})):null!==f&&void 0!==f?f:j}),[p,f,j])}},860:function(e,t,n){"use strict";t.a={INIT:0,STARTED:1,COMPLETED:2,ABORTED:3,ERROR:4,PAUSE:5}},861:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));n(11),n(21),n(131);var r,a=n(1032),c=n(566),o=n(457),s=n(544),i=function(e,t){return"".concat(s.a.getParnterId(t),"_").concat(s.a.getAppId(t),"_").concat(o.a.getId(c.a.getChatUser(e)),"_").concat(Date.now(),"_").concat(Math.random().toString(16).substr(2,8))},u=function(e,t){var n=c.a.getChatSessionToken(e),o=i(e,t),s=c.a.getInboxServerUrl(e),u=c.a.getUserInbox(e),b=null===e||void 0===e?void 0:e.fanPublishTopic;return r=new a.a({userName:n,clientId:o,inboxServerUrl:s,userInbox:u,fanPublishTopic:b})},b=function(){return r}},897:function(e,t,n){"use strict";var r=n(367),a=n(359),c=(n(357),n(360)),o=n(400),s=n(358),i=function(e){return Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(r.a)({},e.message,{values:{count:"".concat(e.unreadCount)}})))};var u=Object(a.a)("div",{target:"eobaybk0"})({name:"3zfe4h",styles:"background:var(--spr-lc-bgc-15);color:var(--spr-lc-c-15);font-size:var(--spr-lc-fs-xs);font-weight:600;border-radius:50%;"}),b=Object(c.g)({moreThanTenNotifications:{id:"moreThanTenNotifications",defaultMessage:"{value}+"}});t.a=function(e){return Object(s.jsx)(u,{"aria-live":"polite",className:"center-x-y ".concat(e.className)},Object(s.jsx)(i,{message:1===e.count?o.a.newNotification:o.a.newNotifications,unreadCount:e.count}),(t=e.count)>=10?Object(s.jsx)(c.b,Object(r.a)({},b.moreThanTenNotifications,{values:{value:Object(s.jsx)(c.c,{value:9})}})):Object(s.jsx)(c.c,{value:t}));var t}},898:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n(374),a=(n(131),n(137),n(583)),c=n.n(a),o=n(138),s=n.n(o),i=n(90),u=n.n(i),b=n(417),l=n.n(b),d=n(441),p=n(924),f=(n(208),n(209),n(435)),v=n(1097),O=n.n(v),j=[f.c,f.m,f.b],h=function(){var e={};return{shouldStoreInCache:function(e){return j.includes(e)},shouldCallSubscriberOnSubscribe:function(t){return j.includes(t)&&function(t){return O()(e,t)}(t)},setCache:function(t,n){e[t]=n},getCache:function(t){return e[t]}}}(),x={};function g(e,t){var n=t.topic,a=t.subscriber;if(l()(n)&&u()(a)){var c=x[n];x[n]=c?[].concat(Object(r.a)(c),[a]):[a]}h.shouldCallSubscriberOnSubscribe(n)&&a(h.getCache(n))}function m(e,t){var n=t.topic,r=t.subscriber;if(l()(n)&&u()(r)){var a=x[n],o=c()(a,(function(e){return e===r}));-1!==o&&(a.splice(o,1),x[n]=a)}}function y(e){var t=e.topic,n=e.payload,r=e.callback,a=x[t];if(n.shouldLogEvent){var c,o,i,u,b=null===n||void 0===n||null===(c=n.request)||void 0===c?void 0:c.conversationId;p.a.info({chatConversationId:b,message:"".concat(b?"".concat(b," : "):"").concat(null!==n&&void 0!==n&&null!==(o=n.response)&&void 0!==o&&o.error?"Error":"Success"," event published - ").concat(t),additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(i=n.response)||void 0===i?void 0:i.error)||(null===n||void 0===n||null===(u=n.response)||void 0===u?void 0:u.data),subscriberCount:(null===a||void 0===a?void 0:a.length)||0}})}h.shouldStoreInCache(t)&&h.setCache(t,n),s()(a,(function(e,t){try{e(n,r)}catch(a){Object(d.a)(a)}}))}},921:function(e,t,n){var r=n(18).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},922:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r="AVAILABLE",a="UN_AVAILABLE",c="PENDING",o=c,s=function(e){o=e?r:a},i=function(){return o===a},u=function(){return o===c}},923:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var r={PENDING:"PENDING",SUCCESS:"SUCCESS",FAIL:"FAIL",EXPIRED:"EXPIRED"},a=r.PENDING,c=function(e){a=e},o=function(){return a===r.PENDING},s=function(){return a===r.FAIL},i=function(){return a===r.EXPIRED}},924:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(25),a=n(427),c=n(842),o=n(605),s=new c.a((function(e){return Object(a.__awaiter)(void 0,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("/livechat/logging/log/event",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}),{batch:!0,adapter:function(e){var t=e.message,n=e.chatConversationId,r=e.additionalDetails;return{logMessage:t,logTime:Date.now(),additionalDetails:r,chatConversationId:n}}})},925:function(e,t,n){"use strict";n.d(t,"h",(function(){return D})),n.d(t,"c",(function(){return U})),n.d(t,"g",(function(){return B})),n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return K})),n.d(t,"f",(function(){return X})),n.d(t,"e",(function(){return Y})),n.d(t,"d",(function(){return Q}));var r=n(382),a=n(132),c=n(14),o=n(25),s=n(43),i=(n(7),n(61),n(58),n(11),n(134),n(233),n(133),n(85),n(361),n(87)),u=n.n(i),b=n(397),l=n.n(b),d=n(30),p=n.n(d),f=n(1097),v=n.n(f),O=n(691),j=n(446),h=n(544),x=n(473),g=n(480),m=n(892),y=n(5),k=n(139),I=n(1033),w=n(429),C=n(366),E=n(923),T=n(922),S=n(466),_=n(1017),A=n(841),M=n(31),R=n(404),P=n(435),N=["id","hash"],D=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.handshakeDetails,r=t.applicationConfig,(a=t.getSessionToken)&&Object(j.b)({getSessionToken:a}),!n){e.next=6;break}return Object(j.b)({userId:n.chatUser.userId}),e.next=6,Object(j.c)({wafScriptUrl:n.wafScriptUrl});case 6:r&&(c=h.a.getAutoExpireUserSessionTimeInMinutes(r),s=p()(r,"otherConfigs.settings.autoExpiryConfig.alertTime"),Object(j.b)({sessionExpiryTimeInMinutes:c,sessionExpiryAlertTime:s}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return R.a},U=function(e){var t=!!x.a.isDebugModeEnabled(e.otherConfigs);window.sprDebugLog=function(){var e;t&&(e=console).debug.apply(e,arguments)}},B=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.appId,r=t.user,a=null===r||void 0===r?void 0:r.authToken,!v()(r,"isSSOAuthorized")){e.next=10;break}return e.t0=L,e.next=5,Object(g.a)(n);case 5:if(e.t1=e.sent,c=(0,e.t0)(e.t1),!Object(w.b)(c.chatUserId)){e.next=10;break}return e.next=10,Object(g.h)(n);case 10:if(!a){e.next=15;break}return e.next=13,Object(g.h)(n);case 13:return e.next=15,Object(g.l)(n,a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function G(e){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.b)(t,m.d);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,e.next=12,Object(g.b)(t,m.a);case 12:r=e.sent,e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),console.warn(e.t1);case 18:return e.prev=18,e.next=21,Object(g.b)(t,m.b);case 21:a=e.sent,e.next=27;break;case 24:e.prev=24,e.t2=e.catch(18),console.warn(e.t2);case 27:return s=(s=a||n)===(c=r||a||n)?void 0:s,e.abrupt("return",{primaryToken:c,secondaryToken:s});case 31:case"end":return e.stop()}}),e,null,[[0,6],[9,15],[18,24]])})))).apply(this,arguments)}function z(e){return V.apply(this,arguments)}function V(){return(V=Object(s.a)(Object(o.a)().mark((function e(t){var n,a,s,i,b,d,f,v,O,j,h,x,m,y,I,w,C,E,T,S;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.appId,a=t.user,s=t.userContext,i=t.sessionOrigin,b=t.customUser,d=t.otp,f=t.locale,v=t.meetingId,O=t.deflectionToken,j=l()(a,["authToken","isSSOAuthorized","oneTimeToken"]),!!!i){e.next=12;break}return e.next=5,G(n);case 5:m=e.sent,y=m.primaryToken,I=m.secondaryToken,h=y,x=I,e.next=15;break;case 12:return e.next=14,Object(g.e)(n);case 14:h=e.sent;case 15:return w={appId:n,oneTimeToken:p()(a,"oneTimeToken"),chatSessionToken:h,secondaryChatToken:x,page:Object(k.b)(),pageTitle:Object(k.c)(),referralPage:Object(k.d)(),timezone:Object(k.g)(),userAgent:Object(k.f)(),enforcedLocale:f,fallbackLocales:Object(M.a)(),meetingId:v,otp:d,customUser:b,deflectionToken:O},u()(j)||(E=(C=j).id,T=C.hash,S=Object(r.a)(C,N),Object.assign(w,{chatUser:Object(c.a)({userId:E},S),chatUserSignature:T})),u()(s)||Object.assign(w,{customContext:s}),e.abrupt("return",w);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(O.c)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.i)(t,m.d);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:return e.prev=8,e.next=11,Object(g.i)(t,m.b);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.warn(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O.a,e.next=3,z(t);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:if(n=e.sent,!!!t.sessionOrigin){e.next=11;break}return e.next=11,W(t.appId);case 11:return e.next=13,Object(g.l)(t.appId,n.chatSessionToken);case 13:if(n.userPreferences){e.next=18;break}return e.next=16,Object(g.g)(n.chatUser.userId);case 16:return r=e.sent,e.abrupt("return",Object(c.a)(Object(c.a)({},n),{},{userPreferences:r}));case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,c,s,i,u,b,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([H(t),q(t)]);case 2:if(n=e.sent,r=Object(a.a)(n,2),c=r[0],s=r[1],"rejected"!==c.status&&"rejected"!==s.status){e.next=8;break}return e.abrupt("return",[c,s]);case 8:if(i=c.value,s.value.chatUser.locale=s.value.chatUser.locale||i.defaultLocale,!Object(y.Q)()&&Object(I.a)(i)){e.next=12;break}return e.abrupt("return",[c,s]);case 12:if(e.prev=12,!(b=null===(u=i.otherConfigs.settings)||void 0===u?void 0:u.autoLoginSSOId)){e.next=17;break}return e.next=17,Object(I.b)({ssoId:b});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),Object(C.b)(e.t0);case 22:return e.next=24,q(t);case 24:return(l=e.sent).chatUser.locale=l.chatUser.locale||i.defaultLocale,e.abrupt("return",[c,{value:l,status:"fulfilled"}]);case 27:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e){A.a.on(e),Object(E.e)(E.a.SUCCESS)},Y=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(E.e)(E.a.FAIL),Object(T.c)(!1),e.next=4,Object(_.b)();case 4:Object(S.a)({topic:P.b,payload:{error:!0}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){Object(E.e)(E.a.EXPIRED)}},943:function(e,t,n){"use strict";var r=n(132),a=(n(60),n(11),n(62),n(357)),c=n(364),o=n(399),s=n(489),i=n(378),u=n(412),b=n(413),l=n(842),d=(new o.a).setUrl("/video-chat/conversation/log/event").setType(b.a.POST).build(),p="AUDIO_CALL",f="VIDEO_CALL";t.a=function(e){var t=e.videoConversationId,n=e.conversationId,o=e.isAudioCall,b=Object(s.a)(d,{ignoreResults:!0}),v=Object(r.a)(b,1)[0],O=Object(a.useCallback)((function(e){var t=Date.now();return e.forEach((function(e){e.offsetTime=t-e.logTime})),v(e)}),[v]),j=Object(c.d)(i.h),h=Object(u.d)(j),x=o?p:f,g=Object(a.useCallback)((function(e){var r=e.message;return{videoConversationId:t,logMessage:"USER: ".concat(r),loggerSnUserId:h,category:x,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,h,x]),m=Object(a.useMemo)((function(){return new l.a(O,{batch:!0,adapter:g,skip:!t})}),[O,g,t]);return Object(a.useEffect)((function(){return function(){m.cleanup()}}),[]),m}},944:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(58),n(11),n(134),n(133),n(85);var r=n(383),a=Object(r.a)((function(){return Promise.all([n.e(7),n.e(19)]).then(n.bind(null,1743))}))},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return l}));var r=n(357),a=n.n(r),c=n(398),o=n.n(c),s=n(1138),i=n(358),u={debug:o.a,info:o.a,error:o.a,warning:o.a},b=a.a.createContext(u),l=function(e){var t=e.videoConversationId,n=e.conversationId,r=e.children,a=Object(s.a)({videoConversationId:t,conversationId:n});return Object(i.jsx)(b.Provider,{value:a},r)}},946:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(359),a=n(363),c=Object(r.a)("div",{target:"e18hq32b0"})((function(e){return Object(a.b)(e)}),";")},947:function(e,t,n){"use strict";var r=n(25),a=n(43),c=n(892),o=n(471),s=n(6),i=function(e){return"".concat("spr-cobrowse-state","_").concat(e)},u=!!o.a.getSessionOrigin(Object(s.a)());t.a={get:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=i(t),u){e.next=4;break}return e.abrupt("return",c.d.getItem(n));case 4:return e.next=6,c.c.getItem(n);case 6:if(a=e.sent){e.next=16;break}return e.next=10,c.d.getItem(n);case 10:if(!(o=e.sent)){e.next=16;break}return c.d.removeItem(n),e.next=15,c.c.setItem(n,o);case 15:return e.abrupt("return",o);case 16:return e.abrupt("return",a);case 19:return e.prev=19,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),set:function(e,t){return u?c.c.setItem(i(e),t):c.d.setItem(i(e),t)},remove:function(e){return u?c.c.removeItem(i(e)):c.d.removeItem(i(e))}}},948:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(357),a=n(1145),c=function(){return"MOBILE"===Object(r.useContext)(a.a)}},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(590).__importDefault(n(1506)).default("audio");t.default=r},950:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(357),a=Object(r.createContext)({setIsFrameMaximized:function(){return null},isFrameMaximized:!1,isFrameManuallyResized:!1})},954:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(418),a=function(e,t){var n={conversationId:t};return e?{type:r.db,payload:n}:{type:r.eb,payload:n}}},955:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return x})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return k}));var r=n(29),a=(n(431),n(11),n(87)),c=n.n(a),o=n(30),s=n.n(o),i=n(662),u=n(415),b=n(394),l=n(845),d=n(419),p=n(710),f=n(386),v=function(e){var t;return t={},Object(r.a)(t,i.a.MIC,!1),Object(r.a)(t,i.a.CAMERA,!1),Object(r.a)(t,i.a.DRAG,!e),Object(r.a)(t,i.a.FULL_SCREEN,e),t},O=function(e){return e===u.f.WAITING},j=function(e){return e===u.h.WAITING?u.h.WAITING:u.h.SETUP},h=function(e,t){return function(e,t){switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}}(e,t?u.f:u.h)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=function(e){var t=e.callDetails;return!c()(t)},m=function(e){return function(t){return(t.type===p.x||t.type===p.e)&&s()(t,"payload.videoConversationId")===e}},y=function(e){return function(t){return(t.type===p.l||t.type===p.e)&&s()(t,"payload.videoConversationId")===e}},k=function(e,t,n){return Object(f.m)(e,t).items.find((function(e){var t,r;return(null===(r=null===(t=e.messagePayload)||void 0===t?void 0:t.attachment)||void 0===r?void 0:r.type)===b.c.VIDEO_CHAT&&e.messagePayload.attachment.videoChatConversationId===n}))}},956:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(44),a=n.n(r),c=n(957),o=n.n(c),s=/%%\[(\w+)\]/g,i=function(e,t){return e?o()(e,s,(function(e,n){return Object.prototype.hasOwnProperty.call(t,n)?t[n]:e})):""},u=function(e,t){return e&&"string"!==typeof e?a()(e,(function(e,n,r){return e[r]=i(n,t),e}),{}):i(e,t)}},957:function(e,t,n){n(7),n(86);var r=n(89);e.exports=function(){var e=arguments,t=r(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},958:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(14),a=n(132),c=(n(719),n(7),n(86),n(60),n(11),n(62),n(1519),n(88),n(21),n(87)),o=n.n(c),s=n(44),i=n.n(s),u=function(e,t){return i()(t,(function(e,t){if(!t)return e;var n="*".repeat(null===t||void 0===t?void 0:t.length);return e.replace(t,n)}),e)},b=function(e){var t=e.text,n=e.maskingConfigs;if(!t)return{};var c=i()(n,(function(e,t){var n;try{n=new RegExp(t.jsRegex,"g")}catch(i){return e}var c=function(e,t,n,c){for(var o=e.exec(t),s=t,i={};o&&0!==o[0].length;)n&&o.groups&&Object.entries(o.groups).forEach((function(e){var t,n=Object(a.a)(e,2),s=n[0],u=n[1];i[s]=null!==(t=i[s])&&void 0!==t?t:[];var b={};if(c){var l=o.index;b={startIndex:l,endIndex:l+u.length-1}}i[s].push(Object(r.a)(Object(r.a)({},b),{},{value:u}))})),s=u(s,o),o=e.exec(s);return{capturedGroups:i,updatedText:s}}(n,e.maskedText,t.saveMaskedData,t.showAgentUnmaskedData),o=c.updatedText,s=c.capturedGroups;return{maskedText:o,maskedValues:Object(r.a)(Object(r.a)({},e.maskedValues),s)}}),{maskedText:t,maskedValues:{}}),s=c.maskedText,b=c.maskedValues;return{maskedText:s,maskedValues:o()(b)?void 0:b}}}}]);