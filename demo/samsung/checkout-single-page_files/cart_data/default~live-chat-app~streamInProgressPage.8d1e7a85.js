((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[14],{1118:function(t,e,n){"use strict";var r=n(132),c=(n(58),n(11),n(390),n(133),n(85),n(205),n(357)),a=n(915),i=n.n(a),u=n(8),o=n.n(u),s=n(87),l=n.n(s),f=n(136),b=n.n(f),O=n(479),d=n.n(O),h=n(935),_=n.n(h),v=n(936),p=n.n(v),E=n(260),j=n.n(E),S=n(140),T=n.n(S),I=n(138),A=n.n(I),g=n(169),C=n.n(g),R=n(407),N=n(1330),m=n(441);e.a=function(t,e){var n=Object(c.useRef)(!1);n.current=o()(t);var a=e.getValue,u=e.defaultValue,s=void 0===u||u,f=e.logOnFailure,O=void 0!==f&&f,h=e.logOnSuccess,v=void 0!==h&&h,E=e.subscribe,S=Object(c.useRef)({}),I=Object(c.useRef)();I.current=Object(c.useMemo)((function(){return new Set(b()(d()(t),(function(t){var e;return null===t||void 0===t||null===(e=t.details)||void 0===e?void 0:e.id})))}),[t]);var g=Object(c.useState)(0),y=Object(r.a)(g,2),L=y[0],P=y[1],F=Object(c.useRef)([void 0]),U=Object(c.useRef)(null);Object(c.useEffect)((function(){return function(){U.current&&b()(U.current,(function(t){return t&&t.clear()}))}}),[]),U.current=Object(c.useMemo)((function(){return S.current&&A()(S.current,(function(t,e){var n,r=t.filterAction;null!==(n=I.current)&&void 0!==n&&n.has(e)||(null===r||void 0===r||r.clear(),delete S.current[e])})),l()(t)?null:(F.current=n.current?_()(p()(t),j()(void 0)):[],b()(d()(t),(function(t,e){var n,r;if(T()(t))return null;if(S.current[null===(n=t.details)||void 0===n?void 0:n.id]){var c,a,u=S.current[null===(c=t.details)||void 0===c?void 0:c.id],o=u.filterAction,s=u.filter;if(C()(s,t))return o;null===o||void 0===o||o.clear(),delete S.current[null===(a=t.details)||void 0===a?void 0:a.id]}var l=function(t){F.current[e]=R.a.getField(t),P((function(t){return t+1}))},f=N.a.createFilterAction(t,{subscribe:function(t,e){return E(t,i()(l,t),e)},getFilterBuilder:N.a.createFilterAction});return null!==(r=t.details)&&void 0!==r&&r.id&&(S.current[t.details.id]={filterAction:f,filter:t}),f})))}),[t,E]);var D=Object(c.useMemo)((function(){return U.current?b()(U.current,(function(t,e){return t?(Object(m.a)("--- Filter ".concat(e," match start ---"),Date.now()),t.matches(a(),{logOnFailure:O,logOnSuccess:v})):!!s})):[!!s]}),[t,a,s,L]);return Object(c.useMemo)((function(){return n.current?b()(D,(function(t,e){return{hasPassed:t,changeSource:F.current[e]}})):{hasPassed:!!D[0],changeSource:F.current[0]}}),[D,F.current])}},1119:function(t,e,n){"use strict";n(7),n(86),n(88),n(21),n(204),n(200),n(61);var r=n(140),c=n.n(r),a=function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};e.a=function(t,e){if(c()(e))return!1;try{return new RegExp("^".concat(t.split(/\*+/).map(a).join(".*"),"$")).test(e)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1120:function(t,e,n){"use strict";var r=n(369),c=n(368),a=(n(11),n(134),n(428),Object(r.a)((function t(e,n){var r,a=this;if(Object(c.a)(this,t),this.poll=function(){a.isActive&&(a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.enableBackOff&&(a.interval+=a.baseInterval),a.poll()}))}),a.interval))},this.start=function(){a.isActive||(a.isActive=!0,a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.poll()}))}),0))},this.stop=function(){a.isActive=!1,a.timeoutId&&(window.clearTimeout(a.timeoutId),a.timeoutId=void 0),a.enableBackOff&&(a.interval=a.baseInterval)},!e)throw new Error("No poll handler defined");this.handler=(r=e,function(){return r().catch((function(){}))}),this.baseInterval=n.pollInterval,this.enableBackOff=n.enableBackOff,this.interval=n.pollInterval,this.timeoutId=void 0,this.isActive=!1})));e.a=a},1121:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(1122),c=/^\/logout$/,a=function(t){var e=t.searchParams,n=t.callback;Object(r.a)({route:c,searchParams:e,callback:n})}},1122:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(7),n(208),n(209),n(212);var r=n(357),c=n(442),a=n(567),i=function(t){var e=t.route,n=t.searchParams,i=t.callback,u=Object(c.a)(),o=Object(a.a)(i);Object(r.useEffect)((function(){var t=u.listen((function(t){!e.test(t.pathname)||n&&!t.search.includes(n)||o.current()}));return function(){t()}}),[])}},1123:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n(14),c=n(132),a=n(357),i=n.n(a),u=n(358),o=i.a.createContext(void 0),s=Object(a.memo)((function(t){var e=t.children,n=t.history,i=Object(a.useState)(n),s=Object(c.a)(i,2),l=s[0],f=s[1];return Object(a.useEffect)((function(){var t=n.listen((function(){f(Object(r.a)({},n))}));return function(){return t()}}),[]),Object(u.jsx)(o.Provider,{value:l},e)}))},1124:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(29),c=n(14),a=n(357),i=n(136),u=n.n(i),o=n(397),s=n.n(o),l=n(588),f=n.n(l),b=n(1125),O=n(407),d=function(){var t=Object(b.b)(b.a.VERTICAL),e=Object(a.useRef)({}),n=Object(a.useRef)(t);n.current=t,f()((function(){u()(e.current,(function(t){t()}))}),[t.scrollDepth,t.scrollPercent]);var i=Object(a.useCallback)((function(t,n){var a=O.a.getId(t);return e.current=Object(c.a)(Object(c.a)({},e.current),{},Object(r.a)({},a,n)),function(){e.current=s()(e.current,a)}}),[]);return{getValue:Object(a.useCallback)((function(){return{scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent}}),[]),subscribe:i}}},1125:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return b}));var r=n(132),c=n(357),a=n(468),i=n.n(a),u=n(398),o=n.n(u),s=n(31),l={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},f=function(t){var e,n,r=t.clientWindow,c=t.scrollDirection,a=r.document;if(c===l.HORIZONTAL){var i=a.documentElement.scrollWidth;e=a.documentElement.scrollLeft+a.documentElement.clientWidth,n=i?Math.round(e/i*100):100}else{var u=a.documentElement.scrollHeight;e=a.documentElement.scrollTop+a.documentElement.clientHeight,n=u?Math.round(e/u*100):100}return{scrollDepth:e,scrollPercent:n}},b=function(t){var e=Object(s.b)(),n=Object(c.useState)((function(){return function(t){var e=t.clientWindow,n=t.scrollDirection;return Object(s.c)(e)?f({clientWindow:e,scrollDirection:n}):{scrollDepth:0,scrollPercent:0}}({clientWindow:e,scrollDirection:t})})),a=Object(r.a)(n,2),u=a[0],l=a[1];return Object(c.useEffect)((function(){if(Object(s.c)(e)){var n=i()((function(){var n=f({clientWindow:e,scrollDirection:t});l(n)}),1e3);return e.addEventListener("scroll",n),function(){e.removeEventListener("scroll",n)}}return o.a}),[]),u}},1126:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(29),c=n(14),a=n(357),i=n(136),u=n.n(i),o=n(397),s=n.n(o),l=n(588),f=n.n(l),b=n(1125),O=n(407),d=function(){var t=Object(b.b)(b.a.HORIZONTAL),e=Object(a.useRef)({}),n=Object(a.useRef)(t);n.current=t,f()((function(){u()(e.current,(function(t){t()}))}),[t.scrollDepth,t.scrollPercent]);var i=Object(a.useCallback)((function(t,n){var a=O.a.getId(t);return e.current=Object(c.a)(Object(c.a)({},e.current),{},Object(r.a)({},a,n)),function(){e.current=s()(e.current,a)}}),[]);return{getValue:Object(a.useCallback)((function(){return{scrollDepth:n.current.scrollDepth,scrollPercent:n.current.scrollPercent}}),[]),subscribe:i}}},1128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(357);e.default=function(){var t=r.useRef(!1),e=r.useCallback((function(){return t.current}),[]);return r.useEffect((function(){return t.current=!0,function(){t.current=!1}})),e}},1330:function(t,e,n){"use strict";var r=n(369),c=n(368),a=(n(361),n(131),n(210),n(140)),i=n.n(a),u=n(417),o=n.n(u),s=n(849),l=n.n(s),f=function(t,e){return l()(t)&&l()(e)?t-e:o()(t)&&o()(e)?t.localeCompare(e):o()(t)&&l()(e)?parseInt(t,10)-e:l()(t)&&o()(e)?t-parseInt(e,10):-1},b=function(t,e){return!i()(e)&&f(e,t)<=-1},O=function(t,e){return!i()(e)&&f(e,t)>=1},d=function(t,e){return!i()(e)&&0===f(e,t)},h=n(405),_=n.n(h),v=n(87),p=n.n(v),E=n(511),j=n(441),S=n(407),T=n(570),I=Object(r.a)((function t(e){var n=this;Object(c.a)(this,t),this.matches=function(t,e){var r,c=e.logOnSuccess,a=e.logOnFailure,i=S.a.getField(n._filter),u=_()(S.a.getValues(n._filter)),o=Object(E.c)({currentValueMap:t,filter:n._filter});switch(S.a.getFilterType(n._filter)){case T.a.LT:r=b(u,o);break;case T.a.LTE:r=b(u,o)||d(u,o);break;case T.a.GT:r=O(u,o);break;case T.a.GTE:r=O(u,o)||d(u,o);break;case T.a.EQUALS:r=d(u,o);break;case T.a.NOT_EQUALS:r=!d(u,o);break;case T.a.EXISTS:r=!p()(o);break;case T.a.MISSING:r=p()(o);break;default:r=!1}return r&&c&&Object(j.a)("Range Filter succeed for ".concat(i," with value ").concat(o)),!r&&a&&Object(j.a)("Range Filter failed for ".concat(i," with value ").concat(o)),r},this.clear=function(){},this._filter=e})),A=(n(7),n(88),n(21),function(t,e){if(i()(e))return!1;try{return!!new RegExp(t).test(e)}catch(n){return Object(j.a)("Wrong regex in filter"),!1}}),g=n(1119),C=n(30),R=n.n(C),N=n(586),m=n.n(N),y=Object(r.a)((function t(e){var n=this;Object(c.a)(this,t),this.matches=function(t,e){var r=e.logOnSuccess,c=e.logOnFailure,a=S.a.getField(n._filter),i=S.a.getValues(n._filter),u=Object(E.c)({currentValueMap:t,filter:n._filter}),o=R()(S.a.getDetails(n._filter),"valueAdditional.isJsRegex"),s=m()(i,(function(t){return o?A(t,u):Object(g.a)(t,u)}));return s&&r&&Object(j.a)("Regex Filter succeed for ".concat(a," with value ").concat(u)),!s&&c&&Object(j.a)("Regex Filter failed for ".concat(a," with value ").concat(u)),s},this.clear=function(){},this._filter=e})),L=(n(208),n(209),function(t,e){return!i()(e)&&!!t.includes(e)}),P=Object(r.a)((function t(e){var n=this;Object(c.a)(this,t),this.matches=function(t,e){var r=e.logOnSuccess,c=e.logOnFailure,a=S.a.getField(n._filter),i=S.a.getValues(n._filter),u=Object(E.c)({currentValueMap:t,filter:n._filter}),o=L(i,u);return o&&r&&Object(j.a)("In Filter succeed for ".concat(a," with value ").concat(u)),!o&&c&&Object(j.a)("In Filter failed for ".concat(a," with value ").concat(u)),o},this.clear=function(){},this._filter=e})),F=function(t,e){return!i()(e)&&!t.includes(e)},U=Object(r.a)((function t(e){var n=this;Object(c.a)(this,t),this.matches=function(t,e){var r=e.logOnSuccess,c=e.logOnFailure,a=S.a.getField(n._filter),i=S.a.getValues(n._filter),u=Object(E.c)({currentValueMap:t,filter:n._filter}),o=F(i,u);return o&&r&&Object(j.a)("NotIn Filter succeed for ".concat(a," with value ").concat(u)),!o&&c&&Object(j.a)("NotIn Filter failed for ".concat(a," with value ").concat(u)),o},this.clear=function(){},this._filter=e})),D=Object(r.a)((function t(){Object(c.a)(this,t)}));D.createFilterAction=function(t){switch(S.a.getFilterType(t)){case T.a.LTE:case T.a.LT:case T.a.GT:case T.a.GTE:case T.a.NOT_EQUALS:case T.a.EXISTS:case T.a.MISSING:return new I(t);case T.a.REGEX:return new y(t);case T.a.CONTAINS:case T.a.IN:return new P(t);case T.a.NIN:return new U(t);default:return new I(t)}};var w=D,V=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return r._filterAction.matches(t,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(this._filter)})),k=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return r._filterAction.matches(t,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(e)})),M=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return r._filterAction.matches(t,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(e)})),B=n(29),x=n(456),G=n.n(x),Y=n(512),K=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){var n=S.a.getDetails(r._filter),c=Object(E.c)({currentValueMap:t,filter:r._filter}),a=Object(B.a)({},Y.a.BUSINESS_HOURS,c);return!n||p()(n)||G()(n.timeToBusinessHours)||(a=Object(B.a)({},Y.a.BUSINESS_HOURS,n.timeToBusinessHours)),r._filterAction.matches(a,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null};var i=function(t){return S.a.getFilterType(t)===T.a.IN?_()(S.a.getValues(t))?Object.assign(Object.assign({},t),{filterType:T.a.LTE,values:[0]}):Object.assign(Object.assign({},t),{filterType:T.a.GT,values:[0]}):t}(e);this._filter=i,this._unSubscribeFn=a?a(i):null,this._filterAction=w.createFilterAction(i)})),H=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return r._filterAction.matches(t,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null};var i=function(t){return S.a.getFilterType(t)===T.a.IN?_()(S.a.getValues(t))?Object.assign(Object.assign({},t),{filterType:T.a.GTE,values:[1]}):Object.assign(Object.assign({},t),{filterType:T.a.LTE,values:[0]}):t}(e);this._filter=i,this._unSubscribeFn=a?a(i):null,this._filterAction=w.createFilterAction(i)})),q=Object(r.a)((function t(e,n){var r=this,a=n.subscribe,i=n.parentFilter;Object(c.a)(this,t),this.matches=function(t,e){var n,c,a,i,u=t;switch(r._parentFilter&&S.a.getField(r._parentFilter)){case Y.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:var o=_()(S.a.getValues(r._parentFilter)),s=null!==(c=null===(n=t[Y.a.INTERCEPT_ENGAGED_IN_SESSION_KEY][o])||void 0===n?void 0:n.variants)&&void 0!==c?c:[],l=Date.now()-(s[s.length-1].actionTime||0);u=Object.assign(Object.assign({},u),Object(B.a)({},Y.a.DEPENDENT_DURATION_KEY,l));break;case Y.a.INTERCEPT_CLOSED_IN_SESSION_KEY:var f=_()(S.a.getValues(r._parentFilter)),b=null!==(i=null===(a=t[Y.a.INTERCEPT_CLOSED_IN_SESSION_KEY][f])||void 0===a?void 0:a.variants)&&void 0!==i?i:[],O=Date.now()-(b[b.length-1].actionTime||0);u=Object.assign(Object.assign({},u),Object(B.a)({},Y.a.DEPENDENT_DURATION_KEY,O))}return r._filterAction.matches(u,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=e,this._parentFilter=i,this._unSubscribeFn=a?a(e,i):null,this._filterAction=w.createFilterAction(e)})),W=Object(r.a)((function t(e,n){var r=this;Object(c.a)(this,t),this.matches=function(t,e){var n=_()(S.a.getValues(r._filter)),c=t[Y.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],a=r._filterAction.matches(Object(B.a)({},Y.a.INTERCEPT_ENGAGED_IN_SESSION_KEY,c[n]?n:""),e);if(a){var i=S.a.getDetails(r._filter);if(i&&!p()(i.dependentFilter))return null===r._dependentFilterAction&&(r._dependentFilterAction=r._filterOptions.getFilterBuilder(i.dependentFilter,Object.assign(Object.assign({},r._filterOptions),{parentFilter:r._filter}))),r._dependentFilterAction.matches(t,e)}return a},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._dependentFilterAction&&r._dependentFilterAction.clear(),r._unSubscribeFn=null};var a=n.subscribe;this._filter=e,this._filterOptions=n,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(e),this._dependentFilterAction=null})),X=Object(r.a)((function t(e,n){var r=this;Object(c.a)(this,t),this.matches=function(t,e){var n=_()(S.a.getValues(r._filter)),c=t[Y.a.INTERCEPT_CLOSED_IN_SESSION_KEY],a=r._filterAction.matches(Object(B.a)({},Y.a.INTERCEPT_CLOSED_IN_SESSION_KEY,c[n]?n:""),e);if(a){var i=S.a.getDetails(r._filter);if(i&&!p()(i.dependentFilter))return null===r._dependentFilterAction&&(r._dependentFilterAction=r._filterOptions.getFilterBuilder(i.dependentFilter,Object.assign(Object.assign({},r._filterOptions),{parentFilter:r._filter}))),r._dependentFilterAction.matches(t,e)}return a},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._dependentFilterAction&&r._dependentFilterAction.clear(),r._unSubscribeFn=null};var a=n.subscribe;this._filter=e,this._filterOptions=n,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(e),this._dependentFilterAction=null})),z=n(404),Z="PIXEL",Q=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){var n=R()(S.a.getDetails(r._filter),"valueAdditional.valueType"),c=S.a.getField(r._filter),a=t[c]||z.a,i=a.scrollDepth,u=a.scrollPercent,o=Object(B.a)({},c,n===Z?i:u);return r._filterAction.matches(o,e)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=a?a(e):null,this._filterAction=w.createFilterAction(e)})),$=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return 0===Object(E.c)({currentValueMap:t,filter:r._filter})},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=a?a(e):null})),J=Object(r.a)((function t(e,n){var r=this,a=n.subscribe;Object(c.a)(this,t),this.matches=function(t,e){return 0===Object(E.c)({currentValueMap:t,filter:r._filter})},this.clear=function(){r._unsubscribeFn&&r._unsubscribeFn(),r._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=a?a(e):null})),tt=Object(r.a)((function t(){Object(c.a)(this,t)}));tt.createFilterAction=function(t,e){switch(S.a.getField(t)){case Y.a.AVAILABLE_AGENTS:return new k(t,e);case Y.a.AGENT_OUT_OF_CAPACITY:return new M(t,e);case Y.a.BUSINESS_HOURS:return new K(t,e);case Y.a.IS_CONVERSATION_OPEN:return new H(t,e);case Y.a.DEPENDENT_DURATION_KEY:return new q(t,e);case Y.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new X(t,e);case Y.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new W(t,e);case Y.a.CURRENT_URL:case Y.a.TOTAL_TIME_SPENT:case Y.a.ACTIVE_TIME_SPENT:case Y.a.INACTIVE_TIME_SPENT:case Y.a.DEVICE_TYPE:case Y.a.USER_IP_DETAILS_COUNTRY_LONG:case Y.a.USER_IP_DETAILS_COUNTRY_SHORT:case Y.a.USER_IP_DETAILS_CITY:case Y.a.USER_IP_DETAILS_REGION:case Y.a.DOES_CONVERSATION_EXIST:return new V(t,e);case Y.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case Y.a.VERTICAL_PAGE_SCROLL_DEPTH:return new Q(t,e);case Y.a.TIME_SPENT_ON_SESSION:return new $(t,e);case Y.a.NUM_SNOOZE_ALLOWED:return new J(t,e);default:return Object(E.e)(S.a.getField(t))?new V(t,e):void 0}};var et=tt,nt=n(136),rt=n.n(nt),ct=n(138),at=n.n(ct),it=Object(r.a)((function t(e,n){var r=this;Object(c.a)(this,t),this.matches=function(t,e){var n=!0;return at()(r._filterActions,(function(r){return!!r.matches(t,e)||(n=!1,!1)})),n},this.clear=function(){at()(r._filterActions,(function(t){return t.clear()})),r._filterActions=[]},this._filterActions=rt()(S.a.getFilters(e),(function(t){return n.getFilterBuilder(t,n)}))})),ut=Object(r.a)((function t(e,n){var r=this;Object(c.a)(this,t),this.matches=function(t,e){var n=!1;return at()(r._filterActions,(function(r){return!r.matches(t,e)||(n=!0,!1)})),n},this.clear=function(){at()(r._filterActions,(function(t){return t.clear()})),r._filterActions=[]},this._filterActions=rt()(S.a.getFilters(e),(function(t){return n.getFilterBuilder(t,n)}))})),ot=0,st=Object(r.a)((function t(){Object(c.a)(this,t)}));st.createFilterAction=function(t,e){var n=function(t){var e,n;return ot+=1,Object.assign(Object.assign({},t),{id:null!==(n=null===(e=null===t||void 0===t?void 0:t.details)||void 0===e?void 0:e.id)&&void 0!==n?n:ot})}(t),r=et.createFilterAction(n,e);if(r)return r;switch(S.a.getFilterType(n)){case T.a.AND:return new it(t,e);case T.a.OR:return new ut(t,e);default:return w.createFilterAction(n)}};e.a=st},1353:function(t,e,n){"use strict";var r=n(29),c=n(14),a=n(357),i=n(397),u=n.n(i),o=n(405),s=n.n(o),l=n(30),f=n.n(l),b=n(426),O=n.n(b),d=n(138),h=n.n(d),_=n(588),v=n.n(_),p=(n(367),n(937));n(358);var E=function(){return Object(a.useContext)(p.b)},j=n(407),S=n(404),T=function(t,e){return(O()(f()(t,e))||S.a).startTime||0},I=function(t){var e,n=t.startTime,r=t.expectedElapsedTime,c=t.onTimeout,a=r-(n?Date.now()-n:0);return a>0&&(e=window.setTimeout((function(){c()}),a)),e};e.a=function(){var t=E(),e=t.pagesMetaData,n=t.currentPageUrl,i=Object(a.useRef)(T(e,n));i.current=T(e,n);var o=Object(a.useRef)({}),l=Object(a.useCallback)((function(t,e){var n=j.a.getId(t),a=s()(j.a.getValues(t));return o.current=Object(c.a)(Object(c.a)({},o.current),{},Object(r.a)({},n,{timeoutId:I({startTime:i.current,expectedElapsedTime:a,onTimeout:e}),onChangeCallback:e,filterValue:a})),function(){clearTimeout(f()(o.current,"".concat(n,".timeoutId"))),o.current=u()(o.current,n)}}),[]);return v()((function(){h()(o.current,(function(t){var e=t.timeoutId,n=t.onChangeCallback,r=t.filterValue;clearTimeout(e),n(),t.timeoutId=I({startTime:i.current,expectedElapsedTime:r,onTimeout:n})}))}),[n]),{subscribe:l,getValue:Object(a.useCallback)((function(){return i.current?Date.now()-i.current:0}),[])}}},1443:function(t,e,n){"use strict";var r=2147483647,c=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",u=Math.floor,o=String.fromCharCode,s=function(t){return t+22+75*(t<26)},l=function(t,e,n){var r=0;for(t=n?u(t/700):t>>1,t+=u(t/e);t>455;r+=36)t=u(t/35);return u(r+36*t/(t+38))},f=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var c=t.charCodeAt(n++);if(c>=55296&&c<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&c)<<10)+(1023&a)+65536):(e.push(c),n--)}else e.push(c)}return e}(t);var n,c,a=t.length,f=128,b=0,O=72;for(n=0;n<t.length;n++)(c=t[n])<128&&e.push(o(c));var d=e.length,h=d;for(d&&e.push("-");h<a;){var _=r;for(n=0;n<t.length;n++)(c=t[n])>=f&&c<_&&(_=c);var v=h+1;if(_-f>u((r-b)/v))throw RangeError(i);for(b+=(_-f)*v,f=_,n=0;n<t.length;n++){if((c=t[n])<f&&++b>r)throw RangeError(i);if(c==f){for(var p=b,E=36;;E+=36){var j=E<=O?1:E>=O+26?26:E-O;if(p<j)break;var S=p-j,T=36-j;e.push(o(s(j+S%T))),p=u(S/T)}e.push(o(s(p))),O=l(b,v,h==d),b=0,++h}}++b,++f}return e.join("")};t.exports=function(t){var e,n,r=[],i=t.toLowerCase().replace(a,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(c.test(n)?"xn--"+f(n):n);return r.join(".")}},1492:function(t,e,n){var r=n(278)("length");t.exports=r},1493:function(t,e,n){n(204),n(88),n(7),n(21);var r="[\\ud800-\\udfff]",c="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+c+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",f=l+s+("(?:\\u200d(?:"+[i,u,o].join("|")+")"+l+s+")*"),b="(?:"+[i+c+"?",c,u,o,r].join("|")+")",O=RegExp(a+"(?="+a+")|"+b+f,"g");t.exports=function(t){for(var e=O.lastIndex=0;O.test(t);)++e;return e}},371:function(t,e,n){"use strict";var r=n(357),c=n(816);e.a=function(){return Object(r.useContext)(c.a)}},377:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(357),c=n(397),a=n.n(c),i=n(815);function u(){var t=Object(r.useContext)(i.c);return Object(r.useMemo)((function(){return a()(t,"settings")}),[t])}},379:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(357),c=n(581),a=n(364);function i(t){var e=Object(a.c)();return Object(r.useMemo)((function(){return Object(c.b)(t,e)}),[t,e])}},388:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(357),c=n(847);function a(){return Object(r.useContext)(c.c)}},401:function(t,e,n){"use strict";n.d(e,"g",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return b})),n.d(e,"i",(function(){return O})),n.d(e,"d",(function(){return d})),n.d(e,"h",(function(){return h}));var r=n(915),c=n.n(r),a=n(430),i=n(509);function u(t){return{type:t?a.b:a.d,payload:{}}}function o(){return{type:a.k,payload:{}}}var s=c()(u,!0);c()(u,!1);function l(){return{type:a.g,payload:{}}}function f(t){return{type:a.l,payload:t}}function b(t,e,n){return{type:a.t,payload:{userPreferenceKey:t,newValue:e,oldValue:n}}}function O(t,e){return{type:a.u,payload:{userPreferenceKey:t,value:e}}}var d=function(t){return{type:i.c,payload:t}},h=function(t){var e=t.value;return{type:a.q,payload:{value:e}}}},402:function(t,e,n){"use strict";var r=n(357),c=n(408),a=n.n(c),i=n(22),u=n.n(i),o=n(30),s=n.n(o),l=n(371),f=n(715);e.a=function(){var t=Object(l.a)(),e=t.locale,n=t.language;return Object(r.useCallback)((function(t,r){var c=s()(t,"langVsTranslatedFieldValues");if(!u()(c))return s()(t,r);var i=s()(c,e)||s()(c,n);return i||(i=a()(c,(function(t,e){return Object(f.b)(e)===n}))),s()(i,r)||s()(t,r)}),[e,n])}},405:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},407:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n(369),c=n(368),a=n(1853),i=n(1745),u=Object(a.a)("field"),o=Object(a.a)("values"),s=Object(a.a)("filterType"),l=Object(a.a)("filters"),f=Object(a.a)("details"),b=Object(a.a)("id"),O=Object(r.a)((function t(){Object(c.a)(this,t)}));O.getField=Object(i.a)(u),O.getValues=Object(i.a)(o),O.getFilterType=Object(i.a)(s),O.getFilters=Object(i.a)(l),O.getDetails=Object(i.a)(f),O.getId=Object(i.a)(b)},420:function(t,e,n){"use strict";var r=n(357),c=n(388);e.a=function(){var t=Object(c.a)();return Object(r.useMemo)((function(){return t.otherConfigs.settings}),[t])}},422:function(t,e,n){"use strict";n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"f",(function(){return b})),n.d(e,"s",(function(){return O})),n.d(e,"p",(function(){return d})),n.d(e,"B",(function(){return h})),n.d(e,"A",(function(){return _})),n.d(e,"w",(function(){return v})),n.d(e,"v",(function(){return p})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return j})),n.d(e,"x",(function(){return S})),n.d(e,"y",(function(){return T})),n.d(e,"o",(function(){return I})),n.d(e,"l",(function(){return A})),n.d(e,"n",(function(){return g})),n.d(e,"E",(function(){return C})),n.d(e,"C",(function(){return R})),n.d(e,"D",(function(){return N})),n.d(e,"F",(function(){return m})),n.d(e,"z",(function(){return y})),n.d(e,"k",(function(){return L})),n.d(e,"b",(function(){return P})),n.d(e,"a",(function(){return F})),n.d(e,"q",(function(){return U})),n.d(e,"c",(function(){return D})),n.d(e,"r",(function(){return w})),n.d(e,"m",(function(){return V})),n.d(e,"j",(function(){return k}));n(58),n(11),n(85),n(361);var r=n(418),c=n(607),a=n(712),i=n(406),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shouldFetchNumberOfOpenConversation,n=void 0!==e&&e,c=t.size,a=t.cursor;return{payload:{shouldFetchNumberOfOpenConversation:n,size:c,cursor:a},type:r.f}},o=function(t,e){var n=e.cursor,c=e.size;return function(e){return{payload:{conversationId:t,cursor:n,size:c},type:r.l,promise:e}}},s=function(t){var e=t.conversationId,n=t.query,c=t.faqAttachment,a=t.locale;return function(t){return{payload:{conversationId:e,query:n,faqAttachment:c,locale:a},type:r.B,promise:t}}},l=function(t){var e=t.conversationId,n=t.includeAll;return function(t){return{payload:{conversationId:e,includeAll:n},type:r.i,promise:t}}},f=function(t){var e=t.conversationId,n=t.includeAll;return function(t){return{payload:{conversationId:e,includeAll:n},type:r.h,promise:t}}},b=function(t){return{type:r.j,payload:t}},O=function(t){return function(e){return{payload:{conversationId:t},type:r.o,promise:e}}},d=function(t){return{type:r.J,payload:{chatMessage:t,conversationId:i.a.getConversationId(t)}}},h=function(t){var e=t.text,n=t.conversationId,c=t.sender,a=t.disableManualResponse,i=t.inReplyToChatMessageId,u=t.maskingDetails;return{type:r.bb,payload:{text:e,conversationId:n,sender:c,disableManualResponse:a,inReplyToChatMessageId:i,maskingDetails:u}}},_=function(t){var e=t.postback,n=t.conversationId,c=t.sender,a=t.inReplyToChatMessageId;return function(t){return{type:r.ab,payload:{postback:e,conversationId:n,sender:c,inReplyToChatMessageId:a},promise:t}}},v=function(t){return{type:r.A,payload:t}},p=function(t){var e=t.action,n=t.conversationId,i=t.callback,u=Object(a.a)(e.actionId,e.attachment),o=Object(a.c)(e);return function(t){return{type:r.y,payload:t}}({type:c.c,payload:{contextId:n,actionId:u.externalCallParams,actionPayload:o},callback:i})},E=function(t){var e=t.action,n=t.conversationId,r=Object(a.a)(e.actionId,e.attachment);return v({type:c.a,payload:{contextId:n,actionId:r.params,actionPayload:e.values}})},j=function(t){var e=t.action,n=t.conversationId,r=Object(a.a)(e.actionId,e.attachment);return v({type:c.b,payload:{contextId:n,actionId:r.params,actionPayload:e.values}})},S=function(t){var e=t.id,n=t.conversationId,r=t.messageId;return v({type:c.f,payload:{id:e,contextId:n,sprMsgId:r}})},T=function(t){var e=t.id,n=t.conversationId,r=t.messageId;return v({type:c.h,payload:{id:e,contextId:n,sprMsgId:r}})},I=function(t){var e=t.attachment,n=t.actionId;return function(t){var c=Object(a.a)(n,e);return{type:r.S,payload:{url:c.url,target:c.target},promise:t}}},A=function(t){var e=t.attachment,n=t.actionId;return function(t){var c=Object(a.a)(n,e);return{type:r.p,payload:{phoneNumber:c.phoneNumber},promise:t}}},g=function(t){var e=t.surveyUrl,n=t.shouldReplace,c=t.conversationId;return{type:r.W,payload:{surveyUrl:e,shouldReplace:n,conversationId:c}}},C=function(){return{type:r.Y,payload:{}}},R=function(){return{type:r.V,payload:{}}},N=function(){return{type:r.Z,payload:{}}},m=function(t){var e=t.actionParams,n=t.conversationId,c=t.sender,i=t.appContext,u=t.applicationConfig,o=t.inReplyToChatMessageId;return function(t){return{type:r.c,payload:{actionParams:Object.assign(Object.assign({},e),{actionTypes:Object(a.b)(e)}),conversationId:n,sender:c,appContext:i,applicationConfig:u,inReplyToChatMessageId:o},promise:t}}},y=function(t){var e=t.postback,n=t.conversationId,c=t.sender,a=t.inReplyToChatMessageId;return{type:r.T,payload:{postback:e,conversationId:n,sender:c,inReplyToChatMessageId:a}}},L=function(t,e){return function(n){return{type:r.M,payload:{conversationId:t,appContext:e},promise:n}}},P=function(t){var e=t.conversationId,n=t.externalCaseId,c=t.isPhone;return{type:r.v,payload:{conversationId:e,externalCaseId:n,isPhone:c}}},F=function(t,e,n,c){return{type:r.s,payload:{conversationId:e,caseId:t,context:n,isPhone:c}}},U=function(t,e){return{type:r.F,payload:{chatMessage:t,conversationId:i.a.getConversationId(t),alternateUserIds:e}}},D=function(t,e){return function(n){return{type:r.q,payload:{conversationId:t,disclaimerStatus:e},promise:n}}},w=function(t,e){return{type:r.G,payload:{chatMessageId:e,conversationId:t}}};function V(t,e){return{type:r.Q,payload:{conversationId:t,lastReadMessageId:e}}}function k(){return{type:r.C,payload:{}}}},424:function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return i}));var c=n(170);function a(t,e){if(e&&("object"===Object(c.a)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=r(t);if(e){var i=r(this).constructor;n=Reflect.construct(c,arguments,i)}else n=c.apply(this,arguments);return a(this,n)}}},425:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}n.d(e,"a",(function(){return c}))},428:function(t,e,n){"use strict";var r=n(3),c=n(49),a=n(251),i=n(0),u=n(37),o=n(96),s=n(252),l=n(19);if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=o(this,u("Promise")),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}}),!c&&"function"==typeof a){var f=u("Promise").prototype.finally;a.prototype.finally!==f&&l(a.prototype,"finally",f,{unsafe:!0})}},442:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(357),c=n(1123);function a(){return Object(r.useContext)(c.a)}},454:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return O}));var r=n(132),c=n(357),a=n.n(c),i=n(398),u=n.n(i),o=n(1128),s=n.n(o),l=n(358),f={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},b=a.a.createContext({notification:void 0,setNotification:u.a}),O=function(t){var e=Object(c.useState)(void 0),n=Object(r.a)(e,2),a=n[0],i=n[1],u=s()(),o=Object(c.useCallback)((function(t){u()&&i(t)}),[u]),f=Object(c.useMemo)((function(){return{notification:a,setNotification:o}}),[a,o]);return Object(l.jsx)(b.Provider,{value:f},t.children)};e.c=b},463:function(t,e,n){"use strict";var r=n(357),c=n(454);e.a=function(){return Object(r.useContext)(c.c)}},474:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(132),c=(n(7),n(135),n(204),n(200),n(131),n(519),n(58),n(11),n(133),n(85),n(707),n(602),n(60),n(62),n(21),n(380),n(61),/^https?:\/\//i),a=function(t){return t.match(c)?t:"https://".concat(t)},i=function(t){return"tel:".concat(t)},u=function(t){return t.map((function(t){return"".concat(t.key,"=").concat(t.value)})).join("&")},o=function(t){return!(t.startsWith("http")||t.startsWith("https")||t.startsWith("www"))},s=function(t,e){var n=new URL(t);return e.forEach((function(t){n.searchParams.set(t.key,t.value)})),n.toString()},l=function(t){var e=null===t||void 0===t?void 0:t.substring(1);return e?e.split("&").reduce((function(t,e){var n=e.split("="),c=Object(r.a)(n,2),a=c[0],i=c[1],u=decodeURIComponent(i);return t[a]=u,t}),{}):{}}},475:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return b}));var r=n(476),c=n(755),a=function(t){var e=t.ssoId,n=t.conversationId,c=t.messageId;return function(t){return{type:r.c,payload:{ssoId:e,conversationId:n,messageId:c},promise:t}}};function i(){return{type:r.g,payload:{}}}function u(t){return{type:r.d,payload:{status:t?c.a.CONNECTED:c.a.DISCONNECTED}}}function o(t){var e=t.waitTime,n=t.reason;return{type:r.i,payload:{waitTime:e,reason:n}}}function s(){return{type:r.l,payload:{}}}function l(t){return{type:r.f,payload:t}}function f(){return{type:r.e,payload:{}}}function b(){return{type:r.h,payload:{}}}},511:function(t,e,n){"use strict";n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return v}));n(7),n(135),n(205),n(11),n(201),n(21),n(131),n(361);var r=n(465),c=n.n(r),a=n(138),i=n.n(a),u=n(90),o=n.n(u),s=n(136),l=n.n(s),f=n(407),b=n(512),O=function t(e,n){var r=f.a.getField(e);if(r)return r===n;var c=!1;return i()(f.a.getFilters(e),(function(e){return!t(e,n)||(c=!0,!1)})),c},d=function(t){return!!t&&!!t.match(/PROFILE\.(\w+)/)},h=function(t){return d(t)?t.match(/PROFILE\.(\w+)/)[1]:""},_=function(t){var e=t.currentValueMap,n=t.filter,r=f.a.getField(n);return r&&d(r)?e[b.a.PROFILE_CUSTOM_FIELD](n):o()(e[r])?e[r](n):e[r]},v=function t(e,n){var r,a,i,u;if(e){var o=null!==(a=null===(r=null===e||void 0===e?void 0:e.details)||void 0===r?void 0:r.id)&&void 0!==a?a:c()(),s=n&&-1===o.toString().indexOf("_")?"".concat(n,"_").concat(o):o;return(null===e||void 0===e?void 0:e.filters)?Object.assign(Object.assign({},e),{details:Object.assign(Object.assign({},null!==(u=null===e||void 0===e?void 0:e.details)&&void 0!==u?u:{}),{id:s}),filters:l()(null===e||void 0===e?void 0:e.filters,(function(e){return t(e,n)}))}):Object.assign(Object.assign({},e),{details:Object.assign(Object.assign({},null!==(i=null===e||void 0===e?void 0:e.details)&&void 0!==i?i:{}),{id:s})})}}},512:function(t,e,n){"use strict";e.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",DOES_CONVERSATION_EXIST:"DOES_CONVERSATION_EXIST",USER_IP_DETAILS_COUNTRY_LONG:"userIPDetails.countryLong",USER_IP_DETAILS_COUNTRY_SHORT:"userIPDetails.countryShort",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},547:function(t,e,n){"use strict";var r=n(357),c=n(364),a=n(388),i=n(386),u=n(376),o=n(422),s=function(t){return Object(i.w)(Object(u.c)(t))};e.a=function(){var t=Object(c.c)(),e=(Object(a.a)(),Object(c.d)(s)),n=e.loaded;return Object(r.useEffect)((function(){n||t(Object(o.g)())}),[]),e}},560:function(t,e,n){"use strict";var r,c=n(14),a=n(357),i=n(1118),u=n(29),o=n(698),s=n(407),l=function(){var t=Object(o.a)(),e=t.subscribe,n=t.getValue;return{subscribe:Object(a.useCallback)((function(t,n){var r=s.a.getId(t);return e(r,n)}),[e]),getValue:n}},f=n(1353),b=n(364),O=n(711),d=n.n(O),h=n(588),_=n.n(h),v=n(397),p=n.n(v),E=n(136),j=n.n(E),S=n(456),T=n.n(S),I=n(386),A=n(376),g=n(379),C=n(422),R=n(475),N=function(t){return Object(I.v)(Object(I.q)(Object(A.c)(t)))},m={fetchOpenConversationCount:C.j,initPusherConnection:R.e},y=function(){var t=Object(a.useRef)(),e=Object(a.useRef)({}),n=Object(g.a)(m),r=n.fetchOpenConversationCount,i=n.initPusherConnection,o=Object(b.d)(N);t.current=o;var l=d()(o);return Object(a.useEffect)((function(){T()(t.current)&&r()}),[]),_()((function(){j()(e.current,(function(t){t()}))}),[t.current]),_()((function(){T()(l)&&o&&i()}),[o,l,i]),{subscribe:Object(a.useCallback)((function(t,n){var r=s.a.getId(t);return e.current=Object(c.a)(Object(c.a)({},e.current),{},Object(u.a)({},r,n)),function(){e.current=p()(e.current,r)}}),[]),getValue:Object(a.useCallback)((function(){return t.current}),[])}},L=n(547),P=function(){var t=Object(a.useRef)(),e=Object(a.useRef)({}),n=Object(L.a)().ids.length;return t.current=n,_()((function(){j()(e.current,(function(t){t()}))}),[t.current]),{subscribe:Object(a.useCallback)((function(t,n){var r=s.a.getId(t);return e.current=Object(c.a)(Object(c.a)({},e.current),{},Object(u.a)({},r,n)),function(){e.current=p()(e.current,r)}}),[]),getValue:Object(a.useCallback)((function(){return t.current}),[])}},F=n(30),U=n.n(F),D=n(587),w=n(566),V=function(){var t=Object(a.useRef)(0),e=Object(D.a)();t.current=w.a.getTimeToAvailability(e);var n=Object(a.useRef)({}),r=Object(a.useCallback)((function(){return t.current}),[]);return{subscribe:Object(a.useCallback)((function(e,r){var a,i=s.a.getId(e),o=U()(e,"details.timeToBusinessHours"),l=-1;return!T()(o)&&o>0?l=o:!T()(t.current)&&t.current>0&&(l=t.current),l>=0&&(a=window.setTimeout(r,l)),n.current=Object(c.a)(Object(c.a)({},n.current),{},Object(u.a)({},i,a)),function(){clearTimeout(U()(n.current,"".concat(i,".timeoutId"))),n.current=p()(n.current,i)}}),[]),getValue:r}},k=n(398),M=n.n(k),B=n(140),x=n.n(B),G=n(25),Y=n(43),K=n(369),H=n(368),q=(n(203),n(380),n(11),n(205),n(60),n(62),n(750),n(446)),W=n(1120),X=Object(K.a)((function t(){var e=this;Object(H.a)(this,t),this.subscribers={},this.filterPoller=void 0,this.visibilitychangeHandler=function(){var t;if(document.hidden)null===(t=e.filterPoller)||void 0===t||t.stop();else if(Object.keys(e.subscribers).length>0){var n;null===(n=e.filterPoller)||void 0===n||n.start()}},this.startPolling=function(){var t;window.document.addEventListener("visibilitychange",e.visibilitychangeHandler),null===(t=e.filterPoller)||void 0===t||t.start()},this.stopPolling=function(){var t;window.document.removeEventListener("visibilitychange",e.visibilitychangeHandler),null===(t=e.filterPoller)||void 0===t||t.stop()},this.subscribe=function(t,n){var r=t.id;return e.subscribers[r]={cb:n,filter:{field:t.field,filterType:t.filterType,details:t.details}},1===Object.keys(e.subscribers).length&&e.startPolling(),function(){delete e.subscribers[r],0===Object.keys(e.subscribers).length&&e.stopPolling()}},this.subscribers={};var n=function(){var t=Object(Y.a)(Object(G.a)().mark((function t(){var n,r;return Object(G.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.a.post("livechat/conversation/process-filters",{filterDetails:Object.keys(e.subscribers).reduce((function(t,n){return t.push({id:n,filter:e.subscribers[n].filter}),t}),[])},{headers:{"x-chat-auto":!0}});case 3:n=t.sent,r=n.data,Object.keys(r).forEach((function(t){e.subscribers[t].cb(r[t])})),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();this.filterPoller=new W.a(n,{pollInterval:15e3})})),z=new X,Z=Object.freeze(z),Q=n(420),$=n(1121),J=function(){var t={};return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}(),tt=function(t){var e,n,r=null===(e=Object(Q.a)())||void 0===e||null===(n=e.filterPoll)||void 0===n?void 0:n.enable;return Object($.a)({callback:function(){Z.stopPolling()}}),{getValue:Object(a.useCallback)((function(){return function(t){return J.get(t.id)}}),[]),subscribe:Object(a.useCallback)((function(e,n){x()(J.get(e.id))&&J.set(e.id,t(e));var c=r?Z.subscribe(e,(function(r){var c=t({details:r});J.get(e.id)!==c&&(J.set(e.id,c),n())})):M.a;return function(){c()}}),[r])}},et=function(){var t=Object(D.a)(),e=w.a.getNoOfAgentsAvailable(t),n=Object(a.useCallback)((function(t){var n,r;return null!==(n=null===(r=t.details)||void 0===r?void 0:r.noOfAgentsAvailable)&&void 0!==n?n:e}),[e]);return tt(n)},nt=function(){var t=Object(D.a)(),e=w.a.getNumberOfPendingCases(t),n=Object(a.useCallback)((function(t){var n,r;return null!==(n=null===(r=t.details)||void 0===r?void 0:r.numberOfPendingCases)&&void 0!==n?n:e}),[e]);return tt(n)},rt=n(482),ct=function(){var t=Object(rt.a)().device,e=Object(a.useRef)({}),n=Object(a.useRef)(t);n.current=t,_()((function(){j()(e.current,(function(t){t()}))}),[n.current]);var r=Object(a.useCallback)((function(t,n){var r=s.a.getId(t);return e.current=Object(c.a)(Object(c.a)({},e.current),{},Object(u.a)({},r,n)),function(){e.current=p()(e.current,r)}}),[]);return{getValue:Object(a.useCallback)((function(){return n.current}),[]),subscribe:r}},at=n(512),it=(r={},Object(u.a)(r,at.a.USER_IP_DETAILS_CITY,"city"),Object(u.a)(r,at.a.USER_IP_DETAILS_COUNTRY_LONG,"countryLong"),Object(u.a)(r,at.a.USER_IP_DETAILS_COUNTRY_SHORT,"countryShort"),Object(u.a)(r,at.a.USER_IP_DETAILS_REGION,"region"),r),ut=function(){var t=Object(a.useRef)(),e=Object(D.a)();t.current=w.a.getUserIPDetails(e);var n=Object(a.useRef)({});return _()((function(){j()(n.current,(function(t){t()}))}),[t.current]),{subscribe:Object(a.useCallback)((function(t,e){var r=s.a.getId(t);return n.current=Object(c.a)(Object(c.a)({},n.current),{},Object(u.a)({},r,e)),function(){n.current=p()(n.current,r)}}),[]),getValue:Object(a.useCallback)((function(){return function(e){var n,r=s.a.getField(e);return null===(n=t.current)||void 0===n?void 0:n[it[r]]}}),[])}},ot=n(511),st=n(6),lt=n(5),ft=function(){var t=Object(st.a)(),e=Object(a.useRef)(t.userContext),n=Object(a.useRef)({}),r=Object(a.useCallback)((function(t){e.current=t,j()(n.current,(function(t){t()}))}),[]);return Object(a.useEffect)((function(){return Object(lt.T)("userContext",r),function(){Object(lt.U)("userContext",r)}}),[]),{subscribe:Object(a.useCallback)((function(t,e){var r=t.id;return n.current=Object(c.a)(Object(c.a)({},n.current),{},Object(u.a)({},r,e)),function(){n.current=p()(n.current,r)}}),[]),getValue:Object(a.useCallback)((function(){return function(t){var n,r,c=t.field,a=Object(ot.b)(c);return null===(n=e.current)||void 0===n||null===(r=n[a])||void 0===r?void 0:r[0]}}),[])}},bt=n(1124),Ot=n(1126),dt=n(139),ht=function(){var t=l(),e=t.getValue,n=t.subscribe,r=Object(f.a)(),c=r.getValue,i=r.subscribe,o=y(),b=o.getValue,O=o.subscribe,d=P(),h=d.getValue,_=d.subscribe,v=V(),p=v.getValue,E=v.subscribe,j=et(),S=j.getValue,T=j.subscribe,I=nt(),A=I.getValue,g=I.subscribe,C=ct(),R=C.getValue,N=C.subscribe,m=ut(),L=m.getValue,F=m.subscribe,U=ft(),D=U.getValue,w=U.subscribe,k=Object(bt.a)(),M=k.getValue,B=k.subscribe,x=Object(Ot.a)(),G=x.getValue,Y=x.subscribe;return{getValue:Object(a.useCallback)((function(){var t;return t={},Object(u.a)(t,at.a.CURRENT_URL,e()),Object(u.a)(t,at.a.TOTAL_TIME_SPENT,c()),Object(u.a)(t,at.a.IS_CONVERSATION_OPEN,b()),Object(u.a)(t,at.a.DOES_CONVERSATION_EXIST,h()),Object(u.a)(t,at.a.AVAILABLE_AGENTS,S()),Object(u.a)(t,at.a.AGENT_OUT_OF_CAPACITY,A()),Object(u.a)(t,at.a.BUSINESS_HOURS,p()),Object(u.a)(t,at.a.DEVICE_TYPE,R()),Object(u.a)(t,at.a.USER_IP_DETAILS_CITY,L()),Object(u.a)(t,at.a.USER_IP_DETAILS_COUNTRY_LONG,L()),Object(u.a)(t,at.a.USER_IP_DETAILS_COUNTRY_SHORT,L()),Object(u.a)(t,at.a.USER_IP_DETAILS_REGION,L()),Object(u.a)(t,at.a.USER_AGENT,Object(dt.f)()),Object(u.a)(t,at.a.PROFILE_CUSTOM_FIELD,D()),Object(u.a)(t,at.a.VERTICAL_PAGE_SCROLL_DEPTH,M()),Object(u.a)(t,at.a.HORIZONTAL_PAGE_SCROLL_DEPTH,G()),t}),[e,c,b,h,p,S,A,R,L,D,M,G]),subscribe:Object(a.useCallback)((function(t,e){if(Object(ot.e)(s.a.getField(t)))return w(t,e);switch(s.a.getField(t)){case at.a.TOTAL_TIME_SPENT:return i(t,e);case at.a.CURRENT_URL:return n(t,e);case at.a.IS_CONVERSATION_OPEN:return O(t,e);case at.a.DOES_CONVERSATION_EXIST:return _(t,e);case at.a.AVAILABLE_AGENTS:return T(t,e);case at.a.AGENT_OUT_OF_CAPACITY:return g(t,e);case at.a.BUSINESS_HOURS:return E(t,e);case at.a.DEVICE_TYPE:return N(t,e);case at.a.USER_IP_DETAILS_CITY:case at.a.USER_IP_DETAILS_COUNTRY_LONG:case at.a.USER_IP_DETAILS_COUNTRY_SHORT:case at.a.USER_IP_DETAILS_REGION:return F(t,e);case at.a.VERTICAL_PAGE_SCROLL_DEPTH:return B(t,e);case at.a.HORIZONTAL_PAGE_SCROLL_DEPTH:return Y(t,e);default:return null}}),[n,i,O,_,E,T,g,N,F,w,B,Y])}},_t=n(404);e.a=function(t,e){var n=ht(),r=n.getValue,u=n.subscribe,o=Object(a.useCallback)((function(){var t,n;return Object(c.a)(Object(c.a)({},null!==(t=null===e||void 0===e||null===(n=e._getStaticValueMap)||void 0===n?void 0:n.call(e))&&void 0!==t?t:_t.a),r())}),[r,null===e||void 0===e?void 0:e._getStaticValueMap]);return Object(i.a)(t,Object(c.a)(Object(c.a)({},e),{},{getValue:o,subscribe:u}))}},570:function(t,e,n){"use strict";e.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},585:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},605:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));n(11),n(134);var r=new(n(1342).a)({middlewares:[],getContext:function(){return Promise.resolve({})}}),c=function(t){r.clone(t)};e.a=r},607:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return i})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return b}));var r="CALLBACK_ACTION",c="ACTION_START",a="ACTION_STOP",i="MSG_PUBLISHED",u="PROGRESS_PUBLISHED",o="MSG_PUBLISH",s="EVENT_PUBLISH",l="PROGRESS_PUBLISH",f="SESSION_PROCESS_START",b="SESSION_PROCESS_STOP"},663:function(t,e,n){var r=n(1492),c=n(153),a=n(1493);t.exports=function(t){return c(t)?a(t):r(t)}},664:function(t,e,n){"use strict";e.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION"}},666:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(5);function c(){return Object(r.z)()}},667:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return d}));var r=n(25),c=(n(131),n(427)),a=n(605),i=n(606),u=n.n(i),o="/livechat/conversation",s="/livechat/user";function l(t){return Object(c.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.post("".concat(o,"/chatUsers"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))}var f=function(t){return Object(c.__awaiter)(void 0,void 0,void 0,Object(r.a)().mark((function e(){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.post("".concat(o,"/chatUser"),u()(t,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))};function b(t){return Object(c.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var n,c,i,u,o,l,f;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,c=void 0===n?"":n,i=t.size,u=void 0===i?10:i,o=t.pageNum,l=void 0===o?0:o,e.next=3,a.a.post("".concat(s,"/search-users?query=").concat(c,"&size=").concat(u,"&pageNum=").concat(l));case 3:return f=e.sent,e.abrupt("return",f.data);case 5:case"end":return e.stop()}}),e)})))}function O(t){return Object(c.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var n,c,i,u,o,l,f,b,O;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,c=void 0===n?"":n,i=t.size,u=void 0===i?10:i,o=t.pageNum,l=void 0===o?0:o,f=t.roleIds,b=void 0===f?[]:f,e.next=3,a.a.post("".concat(s,"/spy/search-users"),{query:c,size:u,pageNum:l,roleIds:b});case 3:return O=e.sent,e.abrupt("return",O.data);case 5:case"end":return e.stop()}}),e)})))}function d(t){return Object(c.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function e(){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get("".concat(s,"/fetch/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))}},707:function(t,e,n){"use strict";n(133);var r,c=n(3),a=n(16),i=n(1049),u=n(1),o=n(249),s=n(19),l=n(145),f=n(10),b=n(822),O=n(708),d=n(164).codeAt,h=n(1443),_=n(48),v=n(602),p=n(26),E=u.URL,j=v.URLSearchParams,S=v.getState,T=p.set,I=p.getterFor("URL"),A=Math.floor,g=Math.pow,C="Invalid scheme",R="Invalid host",N="Invalid port",m=/[A-Za-z]/,y=/[\d+-.A-Za-z]/,L=/\d/,P=/^0x/i,F=/^[0-7]+$/,U=/^\d+$/,D=/^[\dA-Fa-f]+$/,w=/[\0\t\n\r #%/:<>?@[\\\]^|]/,V=/[\0\t\n\r #/:<>?@[\\\]^|]/,k=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\t\n\r]/g,B=function(t,e){var n,r,c;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return R;if(!(n=G(e.slice(1,-1))))return R;t.host=n}else if(Z(t)){if(e=h(e),w.test(e))return R;if(null===(n=x(e)))return R;t.host=n}else{if(V.test(e))return R;for(n="",r=O(e),c=0;c<r.length;c++)n+=X(r[c],K);t.host=n}},x=function(t){var e,n,r,c,a,i,u,o=t.split(".");if(o.length&&""==o[o.length-1]&&o.pop(),(e=o.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(c=o[r]))return t;if(a=10,c.length>1&&"0"==c.charAt(0)&&(a=P.test(c)?16:8,c=c.slice(8==a?1:2)),""===c)i=0;else{if(!(10==a?U:8==a?F:D).test(c))return t;i=parseInt(c,a)}n.push(i)}for(r=0;r<e;r++)if(i=n[r],r==e-1){if(i>=g(256,5-e))return null}else if(i>255)return null;for(u=n.pop(),r=0;r<n.length;r++)u+=n[r]*g(256,3-r);return u},G=function(t){var e,n,r,c,a,i,u,o=[0,0,0,0,0,0,0,0],s=0,l=null,f=0,b=function(){return t.charAt(f)};if(":"==b()){if(":"!=t.charAt(1))return;f+=2,l=++s}for(;b();){if(8==s)return;if(":"!=b()){for(e=n=0;n<4&&D.test(b());)e=16*e+parseInt(b(),16),f++,n++;if("."==b()){if(0==n)return;if(f-=n,s>6)return;for(r=0;b();){if(c=null,r>0){if(!("."==b()&&r<4))return;f++}if(!L.test(b()))return;for(;L.test(b());){if(a=parseInt(b(),10),null===c)c=a;else{if(0==c)return;c=10*c+a}if(c>255)return;f++}o[s]=256*o[s]+c,2!=++r&&4!=r||s++}if(4!=r)return;break}if(":"==b()){if(f++,!b())return}else if(b())return;o[s++]=e}else{if(null!==l)return;f++,l=++s}}if(null!==l)for(i=s-l,s=7;0!=s&&i>0;)u=o[s],o[s--]=o[l+i-1],o[l+--i]=u;else if(8!=s)return;return o},Y=function(t){var e,n,r,c;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=A(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,c=0,a=0;a<8;a++)0!==t[a]?(c>n&&(e=r,n=c),r=null,c=0):(null===r&&(r=a),++c);return c>n&&(e=r,n=c),e}(t),n=0;n<8;n++)c&&0===t[n]||(c&&(c=!1),r===n?(e+=n?":":"::",c=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},K={},H=b({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),q=b({},H,{"#":1,"?":1,"{":1,"}":1}),W=b({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(t,e){var n=d(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(t){return f(z,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},$=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&m.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},tt=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},et=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},nt=function(t){return"."===t||"%2e"===t.toLowerCase()},rt={},ct={},at={},it={},ut={},ot={},st={},lt={},ft={},bt={},Ot={},dt={},ht={},_t={},vt={},pt={},Et={},jt={},St={},Tt={},It={},At=function(t,e,n,c){var a,i,u,o,s,l=n||rt,b=0,d="",h=!1,_=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(k,"")),e=e.replace(M,""),a=O(e);b<=a.length;){switch(i=a[b],l){case rt:if(!i||!m.test(i)){if(n)return C;l=at;continue}d+=i.toLowerCase(),l=ct;break;case ct:if(i&&(y.test(i)||"+"==i||"-"==i||"."==i))d+=i.toLowerCase();else{if(":"!=i){if(n)return C;d="",l=at,b=0;continue}if(n&&(Z(t)!=f(z,d)||"file"==d&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(Z(t)&&z[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?l=_t:Z(t)&&c&&c.scheme==t.scheme?l=it:Z(t)?l=lt:"/"==a[b+1]?(l=ut,b++):(t.cannotBeABaseURL=!0,t.path.push(""),l=St)}break;case at:if(!c||c.cannotBeABaseURL&&"#"!=i)return C;if(c.cannotBeABaseURL&&"#"==i){t.scheme=c.scheme,t.path=c.path.slice(),t.query=c.query,t.fragment="",t.cannotBeABaseURL=!0,l=It;break}l="file"==c.scheme?_t:ot;continue;case it:if("/"!=i||"/"!=a[b+1]){l=ot;continue}l=ft,b++;break;case ut:if("/"==i){l=bt;break}l=jt;continue;case ot:if(t.scheme=c.scheme,i==r)t.username=c.username,t.password=c.password,t.host=c.host,t.port=c.port,t.path=c.path.slice(),t.query=c.query;else if("/"==i||"\\"==i&&Z(t))l=st;else if("?"==i)t.username=c.username,t.password=c.password,t.host=c.host,t.port=c.port,t.path=c.path.slice(),t.query="",l=Tt;else{if("#"!=i){t.username=c.username,t.password=c.password,t.host=c.host,t.port=c.port,t.path=c.path.slice(),t.path.pop(),l=jt;continue}t.username=c.username,t.password=c.password,t.host=c.host,t.port=c.port,t.path=c.path.slice(),t.query=c.query,t.fragment="",l=It}break;case st:if(!Z(t)||"/"!=i&&"\\"!=i){if("/"!=i){t.username=c.username,t.password=c.password,t.host=c.host,t.port=c.port,l=jt;continue}l=bt}else l=ft;break;case lt:if(l=ft,"/"!=i||"/"!=d.charAt(b+1))continue;b++;break;case ft:if("/"!=i&&"\\"!=i){l=bt;continue}break;case bt:if("@"==i){h&&(d="%40"+d),h=!0,u=O(d);for(var p=0;p<u.length;p++){var E=u[p];if(":"!=E||v){var j=X(E,W);v?t.password+=j:t.username+=j}else v=!0}d=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(t)){if(h&&""==d)return"Invalid authority";b-=O(d).length+1,d="",l=Ot}else d+=i;break;case Ot:case dt:if(n&&"file"==t.scheme){l=pt;continue}if(":"!=i||_){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(t)){if(Z(t)&&""==d)return R;if(n&&""==d&&(Q(t)||null!==t.port))return;if(o=B(t,d))return o;if(d="",l=Et,n)return;continue}"["==i?_=!0:"]"==i&&(_=!1),d+=i}else{if(""==d)return R;if(o=B(t,d))return o;if(d="",l=ht,n==dt)return}break;case ht:if(!L.test(i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(t)||n){if(""!=d){var S=parseInt(d,10);if(S>65535)return N;t.port=Z(t)&&S===z[t.scheme]?null:S,d=""}if(n)return;l=Et;continue}return N}d+=i;break;case _t:if(t.scheme="file","/"==i||"\\"==i)l=vt;else{if(!c||"file"!=c.scheme){l=jt;continue}if(i==r)t.host=c.host,t.path=c.path.slice(),t.query=c.query;else if("?"==i)t.host=c.host,t.path=c.path.slice(),t.query="",l=Tt;else{if("#"!=i){tt(a.slice(b).join(""))||(t.host=c.host,t.path=c.path.slice(),et(t)),l=jt;continue}t.host=c.host,t.path=c.path.slice(),t.query=c.query,t.fragment="",l=It}}break;case vt:if("/"==i||"\\"==i){l=pt;break}c&&"file"==c.scheme&&!tt(a.slice(b).join(""))&&(J(c.path[0],!0)?t.path.push(c.path[0]):t.host=c.host),l=jt;continue;case pt:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&J(d))l=jt;else if(""==d){if(t.host="",n)return;l=Et}else{if(o=B(t,d))return o;if("localhost"==t.host&&(t.host=""),n)return;d="",l=Et}continue}d+=i;break;case Et:if(Z(t)){if(l=jt,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=r&&(l=jt,"/"!=i))continue}else t.fragment="",l=It;else t.query="",l=Tt;break;case jt:if(i==r||"/"==i||"\\"==i&&Z(t)||!n&&("?"==i||"#"==i)){if(".."===(s=(s=d).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(et(t),"/"==i||"\\"==i&&Z(t)||t.path.push("")):nt(d)?"/"==i||"\\"==i&&Z(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(i==r||"?"==i||"#"==i))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==i?(t.query="",l=Tt):"#"==i&&(t.fragment="",l=It)}else d+=X(i,q);break;case St:"?"==i?(t.query="",l=Tt):"#"==i?(t.fragment="",l=It):i!=r&&(t.path[0]+=X(i,K));break;case Tt:n||"#"!=i?i!=r&&("'"==i&&Z(t)?t.query+="%27":t.query+="#"==i?"%23":X(i,K)):(t.fragment="",l=It);break;case It:i!=r&&(t.fragment+=X(i,H))}b++}},gt=function(t){var e,n,r=l(this,gt,"URL"),c=arguments.length>1?arguments[1]:void 0,i=String(t),u=T(r,{type:"URL"});if(void 0!==c)if(c instanceof gt)e=I(c);else if(n=At(e={},String(c)))throw TypeError(n);if(n=At(u,i,null,e))throw TypeError(n);var o=u.searchParams=new j,s=S(o);s.updateSearchParams(u.query),s.updateURL=function(){u.query=String(o)||null},a||(r.href=Rt.call(r),r.origin=Nt.call(r),r.protocol=mt.call(r),r.username=yt.call(r),r.password=Lt.call(r),r.host=Pt.call(r),r.hostname=Ft.call(r),r.port=Ut.call(r),r.pathname=Dt.call(r),r.search=wt.call(r),r.searchParams=Vt.call(r),r.hash=kt.call(r))},Ct=gt.prototype,Rt=function(){var t=I(this),e=t.scheme,n=t.username,r=t.password,c=t.host,a=t.port,i=t.path,u=t.query,o=t.fragment,s=e+":";return null!==c?(s+="//",Q(t)&&(s+=n+(r?":"+r:"")+"@"),s+=Y(c),null!==a&&(s+=":"+a)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==u&&(s+="?"+u),null!==o&&(s+="#"+o),s},Nt=function(){var t=I(this),e=t.scheme,n=t.port;if("blob"==e)try{return new gt(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&Z(t)?e+"://"+Y(t.host)+(null!==n?":"+n:""):"null"},mt=function(){return I(this).scheme+":"},yt=function(){return I(this).username},Lt=function(){return I(this).password},Pt=function(){var t=I(this),e=t.host,n=t.port;return null===e?"":null===n?Y(e):Y(e)+":"+n},Ft=function(){var t=I(this).host;return null===t?"":Y(t)},Ut=function(){var t=I(this).port;return null===t?"":String(t)},Dt=function(){var t=I(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},wt=function(){var t=I(this).query;return t?"?"+t:""},Vt=function(){return I(this).searchParams},kt=function(){var t=I(this).fragment;return t?"#"+t:""},Mt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&o(Ct,{href:Mt(Rt,(function(t){var e=I(this),n=String(t),r=At(e,n);if(r)throw TypeError(r);S(e.searchParams).updateSearchParams(e.query)})),origin:Mt(Nt),protocol:Mt(mt,(function(t){var e=I(this);At(e,String(t)+":",rt)})),username:Mt(yt,(function(t){var e=I(this),n=O(String(t));if(!$(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=X(n[r],W)}})),password:Mt(Lt,(function(t){var e=I(this),n=O(String(t));if(!$(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=X(n[r],W)}})),host:Mt(Pt,(function(t){var e=I(this);e.cannotBeABaseURL||At(e,String(t),Ot)})),hostname:Mt(Ft,(function(t){var e=I(this);e.cannotBeABaseURL||At(e,String(t),dt)})),port:Mt(Ut,(function(t){var e=I(this);$(e)||(""==(t=String(t))?e.port=null:At(e,t,ht))})),pathname:Mt(Dt,(function(t){var e=I(this);e.cannotBeABaseURL||(e.path=[],At(e,t+"",Et))})),search:Mt(wt,(function(t){var e=I(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",At(e,t,Tt)),S(e.searchParams).updateSearchParams(e.query)})),searchParams:Mt(Vt),hash:Mt(kt,(function(t){var e=I(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",At(e,t,It)):e.fragment=null}))}),s(Ct,"toJSON",(function(){return Rt.call(this)}),{enumerable:!0}),s(Ct,"toString",(function(){return Rt.call(this)}),{enumerable:!0}),E){var Bt=E.createObjectURL,xt=E.revokeObjectURL;Bt&&s(gt,"createObjectURL",(function(t){return Bt.apply(E,arguments)})),xt&&s(gt,"revokeObjectURL",(function(t){return xt.apply(E,arguments)}))}_(gt,"URL"),c({global:!0,forced:!i,sham:!a},{URL:gt})},712:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return A})),n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return R}));var r,c,a=n(29),i=(n(58),n(11),n(85),n(138)),u=n.n(i),o=n(408),s=n.n(o),l=n(664),f=n(394),b=n(761),O=n(607),d=function(t){return function(e){return e.type===t}},h=function(t){return function(e){return e.id===t}},_=function(t,e){return s()(t,e)},v=function(t,e){return _(t.buttons,e)},p=function(t,e){return v(e,h(t))},E=function(t,e){var n,r=t.cardAttachmentList;return u()(r,(function(t){var r=v(t,e);if(r)return n=r,!1})),n},j=function(t,e){return E(e,h(t))},S=(r={},Object(a.a)(r,l.a.POST_BACK,(function(t,e){var n=t;return n.makeExternalCall?[O.c,n.postBackHandlerType]:[n.postBackHandlerType]})),Object(a.a)(r,l.a.EXTERNAL,(function(t,e){var n=e.attachment;return n.type===f.c.PROGRESS_BAR?["CANCEL"===e.actionId?O.b:O.a]:n.type===f.c.FORM?[b.a.FORM_POST_BACK,O.a]:[b.a.TEXT_POST_BACK,O.a]})),Object(a.a)(r,l.a.CLIENT_ONLY,(function(t,e){return e.attachment.type===f.c.VIDEO_CHAT?[e.actionId]:e.attachment.type===f.c.APPOINTMENT?"FETCH_SLOTS"===e.values.type?[b.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===e.values.type?[b.a.RESERVE_APPOINTMENT_TIME_SLOT]:[b.a.APPOINTMENT_POST_BACK]:[]})),Object(a.a)(r,l.a.OPEN_URL,(function(t,e){return e.attachment.type===f.c.CO_BROWSE_INVITE?[b.a.OPEN_AGENT_PRESENT_URL]:[b.a.OPEN_URL]})),r),T=(c={},Object(a.a)(c,f.c.CONTACT_DETAILS_FORM,(function(t,e){return e.submit})),Object(a.a)(c,f.c.FORM,(function(t,e){return e.submit})),Object(a.a)(c,f.c.SECURE_FORM,(function(t,e){return e.submit})),Object(a.a)(c,f.c.FEEDBACK_FORM,(function(t,e){return e.submit})),Object(a.a)(c,f.c.PROGRESS_BAR,(function(t,e){var n=e;return{id:"",title:"",type:l.a.EXTERNAL,params:n.action}})),Object(a.a)(c,f.c.PERSISTENT_MENU,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.CARD,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.RICH_TEXT_CAROUSEL,j),Object(a.a)(c,f.c.PRODUCT_CARD,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.PRODUCT_SHOWCASE_CARD,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.INFO_CARD,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.PRODUCT_BANNER,(function(t,e){return function(t,e){if(t.buttons){var n=_(t.buttons,e);if(n)return n}return E(t,e)}(e,h(t))})),Object(a.a)(c,f.c.PRODUCT_LIST,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.CO_BROWSE_INVITE,(function(t,e){return v(e,h(t))})),Object(a.a)(c,f.c.QUICK_SELECT_CARD,p),Object(a.a)(c,f.c.QUICK_SELECT_PILLS,p),Object(a.a)(c,f.c.CAROUSEL,j),Object(a.a)(c,f.c.APPOINTMENT,(function(){return{type:l.a.CLIENT_ONLY,id:"",title:""}})),Object(a.a)(c,f.c.VIDEO_CHAT,(function(){return{type:l.a.CLIENT_ONLY,title:"",id:""}})),Object(a.a)(c,f.c.SURVEY,(function(t,e){return e.surveyButton})),Object(a.a)(c,f.c.SURVEY_QUESTION,(function(t,e){return v(e,h(t))})),c);function I(t,e){var n=T[e.type];if(n)return n(t,e)}function A(t){var e=I(t.actionId,t.attachment);if(e)return function(t,e){var n=S[t.type];return n?n(t,e):[t.type]}(e,t)}var g=function(t){switch(t.type){case f.c.CARD:return!!v(t,d(l.a.EXTERNAL));case f.c.CAROUSEL:return!!E(t,d(l.a.EXTERNAL));case f.c.FORM:return t.submit.type===l.a.EXTERNAL;default:return!1}},C=Object(a.a)({},f.c.SECURE_FORM,(function(t){return t.values.originalData})),R=function(t){var e=C[t.attachment.type];if(e)return e(t)}},716:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return i}));var r=313,c=314,a=340,i=394},717:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(131);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t&&t[e]},n=e(t,"fullName"),r=e(t,"firstName"),c=e(t,"lastName");if(n)return n;var a=c?" ".concat(c):"",i=r||"";return"".concat(i).concat(a)}},761:function(t,e,n){"use strict";e.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",SURVEY_QUESTION_POST_BACK:"SURVEY_QUESTION_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",OPEN_AGENT_PRESENT_URL:"OPEN_AGENT_PRESENT_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW"}},815:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return M}));var r=n(367),c=(n(205),n(11),n(357)),a=n.n(c),i=n(932),u=n.n(i),o=n(147),s=n.n(o),l=n(87),f=n.n(l),b=n(8),O=n.n(b),d=n(451),h=n.n(d),_=n(136),v=n.n(_),p=n(560),E=n(666),j=n(388),S=n(374),T=n(14),I=(n(58),n(85),n(131),n(380),n(138)),A=n.n(I),g=n(759),C=n.n(g),R=n(30),N=n.n(R),m=n(44),y=n.n(m),L=n(511),P=function t(e){return e?y()(e,(function(e,n,r){return"filters"===r?(e[r]=v()(n,(function(t){return null!==t&&void 0!==t&&t.filter&&(t.filter=Object(L.a)(t.filter)),t})),e):(e[r]=t(n),e)}),e):e},F=function t(e,n){var r=[];return A()(e,(function(e,c){"filters"===c?A()(e,(function(t){var e=t.filter,c=t.value;f()(e)||f()(c)||r.push({field:e.field,filterType:e.fieldType||e.filterType,filters:e.filters,values:e.values,details:Object(T.a)(Object(T.a)({},e.details),{},{path:n,value:c})})})):r.push.apply(r,Object(S.a)(t(e,n?"".concat(n,".").concat(c):c)))})),r},U=n(891),D=n(6),w=n(358),V=a.a.createContext(void 0),k=function(t){var e=t.children,n=Object(j.a)(),r=n.otherConfigs,a=n.configFilters,i=!!r.theme.styleFilters,o=Object(c.useMemo)((function(){return s()(r.theme,Object(D.a)().theme)}),[Object(D.a)().theme]),l=Object(E.a)(),b=Object(c.useMemo)((function(){var t,e=Object(U.b)({legacyStyleFilters:P(null===(t=r.theme)||void 0===t?void 0:t.styleFilters),configFilters:a,skin:l});return{appFilters:e,adaptedAppFilters:O()(e)?v()(e,(function(t){return t.filter})):F(e,"")}}),[l]),d=b.appFilters,_=b.adaptedAppFilters,S=Object(p.a)(_),I=Object(c.useMemo)((function(){var t=O()(d)?d:_,e=h()(t,(function(t,e){return S[e].hasPassed}));if(!f()(e)){if(i){var n=u()(r);return n.theme.styles=function(t){var e=t.styles,n=t.passedStyleFilters,r=u()(e);return A()(n,(function(t){t.details&&C()(r,t.details.path,Object(T.a)(Object(T.a)({},N()(r,t.details.path)),t.details.value))})),r}({styles:o.styles,passedStyleFilters:e}),n}return function(t){var e=t.otherConfigs;return t.passedFilters.reduce((function(t,e){var n=e.value;return s()(t,n)}),u()(e))}({otherConfigs:r,passedFilters:e})}return r}),[r,d,_,o,S]);return Object(w.jsx)(V.Provider,{value:I},e)},M=function(t){return function(e){return Object(w.jsx)(V.Consumer,null,(function(n){return Object(w.jsx)(t,Object(r.a)({},e,{customization:n}))}))}};e.c=V},816:function(t,e,n){"use strict";n.d(e,"a",(function(){return rt})),n.d(e,"c",(function(){return ut})),n.d(e,"b",(function(){return it}));var r=n(367),c=n(25),a=n(14),i=n(43),u=n(132),o=n(374),s=(n(131),n(357)),l=n.n(s),f=n(364),b=n(360),O=n(44),d=n.n(O),h=n(30),_=n.n(h),v=n(572),p=n.n(v),E=n(408),j=n.n(E),S=n(398),T=n.n(S),I=n(456),A=n.n(I),g=n(379),C=n(388),R=n(377),N=n(463),m=n(1337),y=n(928),L=n(420),P=n(667),F=n(412),U=n(376),D=n(401),w=n(5),V=n(41),k=n(629),M=n(569),B=n(715),x=n(366),G=n(548),Y=n.n(G),K=n(138),H=n.n(K),q=n(6),W=n(31),X=n(484),z=Object(B.a)(),Z=function(t){var e=t.locale,n=t.reactIntlLocale;return n&&X.a[e].numberingSystem?n.concat("-u-nu-",X.a[e].numberingSystem):n},Q=n(454),$=n(509),J=n(585),tt=n(358),et=Object(B.a)(),nt=[$.f],rt=l.a.createContext({locale:et,language:Object(B.b)(et),defaultLocale:et,direction:X.b.LTR,localeDataLoading:!0,changeLocale:T.a}),ct={onLocaleDataLoaded:D.d},at=function(t){return j()(function(t,e){return p()(d()(e,(function(e,n){var r=_()(t,"".concat(n,".actionsToShowByVariant")),c=Object(w.A)();return[].concat(Object(o.a)(e),Object(o.a)(c&&(_()(r,c)||_()(r,V.a))||k.a))}),[]),"type")}(t,["allScreens","homeScreen","conversationScreen"]),{type:M.a.CHANGE_LOCALE})},it=function(t){var e=Object(f.d)(U.h),n=Object(F.c)(e)||{},r=Object(C.a)(),l=Object(R.a)(),O=Object(L.a)(),d=(null===n||void 0===n?void 0:n.locale)||function(t){var e=(null===t||void 0===t?void 0:t.defaultLocale)||z,n=(null===t||void 0===t?void 0:t.supportedLocales)||[],r=Object(q.a)().locale,c=Object(W.a)(),a=[].concat(Object(o.a)(n),[e]),i=r?[r].concat(Object(o.a)(c)):c,u=e;return H()(i,(function(t){return Y()(a,t)?(u=t,!1):Y()(a,Object(B.b)(t))?(u=Object(B.b)(t),!1):null})),u}(r),h=Object(s.useState)({localeDataLoading:!0,localeData:void 0}),_=Object(u.a)(h,2),v=_[0],p=_[1],E=Object(s.useRef)(!1),j=Object(N.a)().setNotification,S=Object(g.a)(ct).onLocaleDataLoaded,T=r.defaultLocale||et,I=null===O||void 0===O?void 0:O.externalLocaleData,D=at(l)||{},w=D.errorNotificationMessage,V=D.successNotificationMessage,k=Object(m.a)({externalLocaleData:I}),M=Object(s.useCallback)(function(){var t=Object(i.a)(Object(c.a)().mark((function t(e){var r,i,u,o,s,l,f,b;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.locale,i=e.shouldSyncWithBackend,u=void 0===i||i,o=e.userInitiated,s=void 0===o||o,l=e.promise,s&&p((function(t){return Object(a.a)(Object(a.a)({},t),{},{localeDataLoading:!0})})),t.prev=2,t.next=5,k(r);case 5:if(f=t.sent,b=f.localeData,!u){t.next=14;break}return t.next=10,Object(P.e)(Object(a.a)(Object(a.a)({},n),{},{locale:r}));case 10:if(t.sent.data.locale!==n.locale){t.next=13;break}throw new Error(J.a.INCORRECT_PAYLOAD);case 13:s&&V&&j({message:V,type:Q.a.SUCCESS});case 14:S({locale:r,data:b.messages}),b&&p((function(t){return Object(a.a)(Object(a.a)({},t),{},{localeData:b})})),null===l||void 0===l||l.resolve({locale:r}),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(2),u&&s&&w&&j({message:w,type:Q.a.FAILURE}),null===l||void 0===l||l.reject(t.t0.message===J.a.INCORRECT_PAYLOAD?J.a.INCORRECT_PAYLOAD:J.a.NETWORK_FAILURE),Object(x.b)(t.t0);case 24:p((function(t){return Object(a.a)(Object(a.a)({},t),{},{localeDataLoading:!1})}));case 25:case"end":return t.stop()}}),t,null,[[2,19]])})));return function(e){return t.apply(this,arguments)}}(),[k,S,V,w,n]),G=Object(s.useCallback)((function(t){var e=t.payload.locale,n=t.promise;M({locale:e,userInitiated:!1,promise:n})}),[M]);Object(y.a)(nt,G),E.current||(E.current=!0,M({locale:d,shouldSyncWithBackend:!1}));var K=Object(s.useMemo)((function(){var t,e=Object(m.b)(d),n=e.language,r=e.direction;return Object(a.a)(Object(a.a)({},null!==(t=v.localeData)&&void 0!==t?t:{}),{},{defaultLocale:T,locale:d,language:n,direction:r,localeDataLoading:v.localeDataLoading,changeLocale:M})}),[T,d,M,v]);return A()(v.localeData)?null:Object(tt.jsx)(rt.Provider,{value:K},Object(tt.jsx)(b.e,{defaultLocale:T,locale:Z({locale:K.locale,reactIntlLocale:K.reactIntlLocale}),messages:K.messages},t.children))},ut=function(t){return function(e){return Object(tt.jsx)(rt.Consumer,null,(function(n){return Object(tt.jsx)(t,Object(r.a)({},e,{intlContext:n}))}))}};rt.Consumer},847:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n(367),c=n(357),a=n.n(c),i=n(358),u=a.a.createContext(void 0),o=function(t){return function(e){return Object(i.jsx)(u.Consumer,null,(function(n){return Object(i.jsx)(t,Object(r.a)({},e,{applicationConfig:n}))}))}},s=function(t){return function(e){return Object(i.jsx)(u.Consumer,null,(function(n){return Object(i.jsx)(t,Object(r.a)({},e,{customizationSettings:n.otherConfigs.settings}))}))}};e.c=u},935:function(t,e,n){var r=n(258),c=n(248),a=n(213),i=4294967295,u=Math.min;t.exports=function(t,e){if((t=a(t))<1||t>9007199254740991)return[];var n=i,o=u(t,i);e=c(e),t-=i;for(var s=r(o,e);++n<t;)e(n);return s}},936:function(t,e,n){var r=n(167),c=n(151),a=n(33),i=n(417),u=n(663);t.exports=function(t){if(null==t)return 0;if(a(t))return i(t)?u(t):t.length;var e=c(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},937:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(132),c=n(29),a=n(374),i=(n(131),n(357)),u=n.n(i),o=n(426),s=n.n(o),l=n(462),f=n.n(l),b=n(936),O=n.n(b),d=n(698),h=n(358),_=u.a.createContext({}),v=Object(i.memo)((function(t){var e=Object(d.a)(),n=e.getValue,u=e.subscribe,o=n(),l=Object(i.useState)((function(){return{pagesMetaData:Object(c.a)({},o,[{startTime:Date.now(),endTime:void 0}]),currentPageUrl:o}})),b=Object(r.a)(l,2),v=b[0],p=b[1];return Object(i.useEffect)((function(){var t=u("page-context-subscriber",(function(t){var e=t.currentUrl,n=t.previousUrl;p((function(t){return function(t){var e,n=t.prevPageContextValue,r=t.previousUrl,i=t.currentUrl,u=Date.now(),o=n.pagesMetaData,l=f()(s()(o[r]),{endTime:{$set:u}});return f()(n,{pagesMetaData:(e={},Object(c.a)(e,r,{$splice:[[O()(o[r])-1,1,l]]}),Object(c.a)(e,i,{$set:[].concat(Object(a.a)(o[i]||[]),[{startTime:u,endTime:void 0}])}),e),currentPageUrl:{$set:i}})}({prevPageContextValue:t,previousUrl:n,currentUrl:e})}))}));return function(){t()}}),[]),Object(h.jsx)(_.Provider,{value:v},t.children)}));e.b=_},951:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}n.d(e,"a",(function(){return r}))}}]);