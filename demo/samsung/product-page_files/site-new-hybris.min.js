var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(e){var h=0;return function(){return h<e.length?{done:!1,value:e[h++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var h="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return h?h.call(e):$jscomp.arrayIterator(e)};
(function(){function e(){l(f.section).target.forEach(function(b){a.instances.has(b)||new a(b)})}function h(){l(f.section).target.forEach(function(b){a.instances.has(b)&&a.instances.get(b).closePopup()})}var l=window.sg.common.$q,q=window.sg.common.scrollbar,c=window.sg.common.utils,f={section:".vd-trade-in-popup"},a=function(b){this.selector={layer:".layer-popup__inner",stepsClass:".vd-trade-in-popup__step",closeButton:".vd-trade-in-popup__close",conditionRadioButton:".radio-v2__input[name\x3dconditioncheck]",
conditionGroup:"[data-condition-group\x3dconditionCheckInfo]",scrollbar:".scrollbar"};this.el={component:l(b),currentStepEl:null,focusTargetEl:null};a.instances.set(b,this);this.init()};a.prototype.init=function(){this.setElements();this.bindEvents();this.setScrollbar()};a.prototype.reInit=function(){this.setElements();this.setScrollbar();this.setScrollbar()};a.prototype.setElements=function(){this.el.steps=this.el.component.find(this.selector.stepsClass);this.el.scrollbars=this.el.component.find(this.selector.scrollbar);
this.el.conditionRadioButton=this.el.component.find(this.selector.conditionRadioButton);this.el.conditionGroup=this.el.component.find(this.selector.conditionGroup);this.el.closeButton=this.el.component.find(this.selector.closeButton)};a.prototype.bindEvents=function(){this.el.conditionRadioButton.off("change",this.checkConditionInfo.bind(this)).on("change",this.checkConditionInfo.bind(this))};a.prototype.checkConditionInfo=function(a){var b=a.target.id;this.el.conditionGroup.target.forEach(function(a){var d=
l(a);a.getAttribute("data-condition-id")===b?d.show():d.hide()})};a.prototype.showPopup=function(a){this.focusTargetEl=a;this.el.component.show();this.el.currentStepEl||(this.el.currentStepEl=this.el.steps.target[0]);this.el.closeButton.off("click",this.closePopup.bind(this)).on("click",this.closePopup.bind(this));this.setScrollbar();c.popupControl.open(h);c.hiddenScroll();this.setStepAfter()};a.prototype.closePopup=function(){this.el.component.hide();this.el.component.offLayerFocus();c.visibleScroll();
this.setOriginFocus()};a.prototype.showStep=function(a){var b=this;this.el.steps.target.forEach(function(c){c=l(c);c.hasClass(a)?(c.show(),b.el.currentStepEl=c.target[0]):c.hide()});this.setStepAfter()};a.prototype.setStepAfter=function(){this.el.component.setLayerFocus(this.selector.layer,this.selector.closeButton);this.setFocusFirstFocusableEl();this.setScrollbar()};a.prototype.setScrollbar=function(){this.el.scrollbars.target.forEach(function(a){q.reInit(a)})};a.prototype.getFirstFocusableEl=function(){var a=
this.el.currentStepEl;if(a)return a.querySelectorAll('a, button, input:not([type\x3d"hidden"]), textarea')[0]};a.prototype.setFocusFirstFocusableEl=function(){var a=this.getFirstFocusableEl();a&&a.focus()};a.prototype.setOriginFocus=function(){this.focusTargetEl&&this.focusTargetEl instanceof Element&&(this.focusTargetEl.focus(),this.focusTargetEl=null)};a.instances=new WeakMap;window.sg.components.VDTradeInPopup={init:e,reInit:function(){l(f.section).target.forEach(function(b){a.instances.has(b)&&
a.instances.get(b).reInit()})},showPopup:function(b){b=void 0===b?null:b;l(f.section).target.forEach(function(c){a.instances.has(c)&&a.instances.get(c).showPopup(b)})},closePopup:h,showStep:function(b){l(f.section).target.forEach(function(c){a.instances.has(c)&&a.instances.get(c).showStep(b)})},closeAlertPopup:function(a){(a=document.querySelector("#"+a))&&window.sg.components.create(a).close(this)}};l.ready(e)})();
(function(e,h,l){function q(a){var m="true"===e("#isEppPage").val()?{withCredentials:!0}:{};if("F-"!==g.originModelCode.toUpperCase().substring(0,2))g.modelCode=g.originModelCode;else{var b=g.storeDomain+"/"+g.shopSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+g.originModelCode+"\x26queryType\x3dCONSISTS_OF",d=e.ajax({url:b,type:"GET",dataType:"json",cache:!0,async:!1,timeout:3E4,xhrFields:m});d.done(function(a){console.log("[CE-TradeUp] Shop API Response:");console.dir(a);if(a.products&&
0<a.products.length){var m=g.modelPackage={familyCode:g.originModelCode,models:[]};a=$jscomp.makeIterator(a.products);for(var b=a.next();!b.done;b=a.next()){b=b.value;if(b.aemAdditionalInfoTypes&&0<b.aemAdditionalInfoTypes.length)for(var d=$jscomp.makeIterator(b.aemAdditionalInfoTypes),c=d.next();!c.done;c=d.next())c=c.value,g.modelCode||"TRADE_IN"!==c.type||(g.modelCode=b.modelcode,console.log("[CE-TradeUp] Packaged model detected: "+b.modelcode));m.models.push({modelCode:b.modelcode,origin:b})}}});
d.fail(function(){console.error("[CE-TradeUp] Shop API failure: "+b)})}if(g.modelCode){var c=D+"/sku-devices/"+g.msaSiteCode+"/"+g.modelCode;console.log("[CE-TradeUp] Call MSA API: "+c);m=e.ajax({url:c,type:"GET",dataType:"json",cache:!0,crossDomain:!0,timeout:3E4,xhrFields:m,headers:{"x-ecom-locale":g.xEcomLocale}});m.done(function(m){console.log("[CE-TradeUp] MSA API Response:");console.dir(m);setTimeout(function(){a(m)},100)});m.fail(function(){console.error("[CE-TradeUp] MSA API failure: "+c)})}}
function c(a,b,d,c){var m=D+"/create-exchange",w={store_id:g.msaSiteCode,device_info:{state:{BROKEN:b?"YES":"NO"}},device_id:a,type:"TradeIn",sku:d,delayed_gratification:g.config.shop.isCashbackSite};console.log("[CE-TradeUp] Call MSA API: "+m);console.dir(w);a=e.ajax({url:m,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,data:JSON.stringify(w),headers:{"x-ecom-locale":g.xEcomLocale}});a.done(function(a){console.log("[CE-TradeUp] MSA API Response:");console.dir(a);
setTimeout(function(){c(a)},100)});a.fail(function(){console.error("[CE-TradeUp] MSA API failure: "+m);console.dir(w)})}function f(a,b){var m=b.$ui.find("div.sdf-comp-step-panel").empty();b.$ui.stepPanels=m;for(var g=b.meta("stepList").split(","),w=[],k=0,p=0,f=g.length-1;k<=f;k++){var l=g[k];if(!(0>H.indexOf(l))){for(var r=m.get(p++),v=[],x=0;x<g.length;x++){var q=x<p;v.push({index:x,isActive:q,isActiveCls:q?" is-active":""})}b.invokeTemplate("stepPanel",{panelContext:{title:b.meta(l+"StepTitle"),
indicators:v,currentStepIndex:p,lastStepIndex:f+1,nextStepLabel:k===f?E:n,backStepLabel:0===k?t:F}},r);r=e(r);r.addClass("sdf-comp-step-panel-"+l);b.$ui[l+"StepPanel"]=r;r.find(".sdf-comp-button-next").off("click").on("click",function(){a.currentStepIndex<a.lastStepIndex?(h.showStep("vd-trade-in-popup--step"+ ++a.currentStepIndex),d(a)):B.reportResult(a,function(){c(a.selectedProduct.id,a.isBroken,a.modelCode,function(m){m.withCeTradeUpPopup=!0;window.sg.components.dynamic.DetailAfterEvent.offerAndAddonsDiscount(m,
"exchange");CeTradeUpPopup.closePopup();z(a);u(a.$buyingToolPanel.find(".option-result.result-trade-in \x3e a.remove-trade-in-result"),"trade-up:delete")})})});r.find(".sdf-comp-button-back").off("click").on("click",function(){1===a.currentStepIndex?CeTradeUpPopup.closePopup():(h.showStep("vd-trade-in-popup--step"+--a.currentStepIndex),d(a))});w.push(l)}}a.stepNames=w}function a(a){z(a);if(""===e.trim(a.config.learnMoreOutLink)){var m=a.$tuSvcPanel.find("a.cta");m.removeAttr("href target title");
m.off("click").on("click",function(){h.init();h.showPopup();h.showStep("vd-trade-in-popup--learnmore");a.learnMorePopupOn=!0});m=a.component.$ui.find(".sdf-comp-see-faq-panel");var b=e.trim(a.config.view.learnMoreSeeFaqLink);""!==b?(m.find("a").attr("href",b),m.show()):m.hide()}}function b(a){a.component.$ui.closePopupIcon.off("click").on("click",function(){a.learnMorePopupOn&&(a.learnMorePopupOn=!1,h.closePopup())})}function k(a,b){var m=window.sg.components.create(document.getElementById("vdTradeInAlertPopup"));
a=e(".vd-trade-in-alert-popup.nocomp-reset-confirm-popup");a.find(".nocomp-btn-reset-yes").off("click").on("click",function(){m.close(this);b.call(null)});var d=function(){m.close(this)};a.find(".nocomp-btn-reset-no").off("click").on("click",d);a.find(".nocomp-btn-reset-close").off("click").on("click",d);m.open(this)}function z(a){a=a.$tuSvcPanel;var b=a.find("a.cta");u(b,"trade-up:learn more");u(a.find("input#pd-trade-in-0"),"trade-up:yes");u(a.find("input#pd-trade-in-1"),"trade-up:no")}function d(a){var b=
a.stepNames[a.currentStepIndex-1],m=a.component,d=m.$ui[b+"StepPanel"],c=d.find(".sdf-comp-button-next");d=d.find(".sdf-comp-button-back");b="trade-up:"+a.stepTaggingTitle[b]+":";if(a.currentStepIndex===a.lastStepIndex){var g=a.selectedProduct;c.attr({"an-tr":"Service Option Selector-"+a.pageTrack+"-ecommerce9","an-ca":"ecommerce","an-ac":"addToCart","an-la":"pd buying tool:trade-up:apply discount:apply trade up","data-modelcode":"trade-up","data-modeldisplay":g?g.name:"trade-up","data-modelname":"trade-up",
"data-modelrevenue":0,"data-modelprice":0,"data-pvitype":"shop program","data-pvisubtype":"trade-up","data-discountprice":g?g.estimated_discount.total.amount:0,"data-pimsubtype":"trade-up","data-modelqty":0})}else c.removeAttr("data-modelcode data-modeldisplay data-modelname data-modelrevenue data-modelprice data-pvitype data-pvisubtype data-discountprice data-pimsubtype data-modelqty"),p(c,"cta",b+"next");1===a.currentStepIndex?p(d,"cta",b+"close"):p(d,"cta",b+"back");p(m.$ui.closePopupIcon,"cta",
b+"close")}function u(a,b){a.attr({"an-tr":"header(pim)_option selector-"+g.pageTrack+"-select-service option option-select","an-ca":"option click","an-ac":"pd buying tool","an-la":b.replace(/"/g,"\x26quot;")})}function p(a,b,d){a.attr({"an-tr":"vd_trade_in_popup-"+g.pageTrack+"-"+b+" option-select","an-ca":"option click","an-ac":"pd buying tool","an-la":d.replace(/"/g,"\x26quot;")})}var H=["product","condition","discount"],n="",E="",t="",F="",v={levant:"jo",levant_ar:"jo_ar",n_africa:"ma"},r={levant:"jo",
levant_ar:"jo_ar",n_africa:"ma_fr",sa:"sa_ar",sa_en:"sa",es:"es_es",pt:"pt_pt"},x={be_fr:"be",ca_fr:"ca",ch_fr:"ch",hk_en:"hk",levant:"jo",levant_ar:"jo",sa_en:"sa",n_africa:"ma"},G={checkTradeUp:function(a,b){},reportResult:function(a,b){},getTncText:function(a,b){}},A={product:{init:function(a){},reset:function(a){}},condition:{init:function(a){},reset:function(a){}},discount:{init:function(a){},reset:function(a){}}},B=G,y=checkEppSite(),C=y?window.sg.epp.common.companyCode:"",g={siteCode:window.siteCode,
xEcomLocale:r[window.siteCode]?r[window.siteCode]:window.siteCode,shopSiteCode:v[window.siteCode]?y?C:v[window.siteCode]:y?C:window.siteCode,msaSiteCode:x[window.siteCode]?y?C:x[window.siteCode]:y?C:window.siteCode,isDebug:!0,component:null,modelCode:null,originModelCode:null,modelPackage:null,tenantId:null,stepNames:[],isNewHybris:void 0,msaApiDomain:null,storeDomain:null,currencyCode:e("#priceCurrency").val(),exProducts:[],tncText:null,currentStepIndex:1,lastStepIndex:1,stepTaggingTitle:{},selectedProduct:null,
discountAmount:0,isBroken:!1,isTncAgree:!1,_step:{}},D=null;v={config:{},prepareShopDependencyHandler:function(a){a&&(B=e.extend(!0,{},G,a));console.log("[CE-TradeUp] Popup prepared")},registerStepContentHandler:function(a,b){b&&(A[a]=e.extend(!0,{},A,b))},init:function(d){g.originModelCode=d;d=e("#detail-input-hidden");g.msaApiDomain=d.find("input[name\x3dgpvStoreDomain]").val();g.storeDomain=e.trim(d.find("input[name\x3dstoreWebDomain]").val());0===g.storeDomain.length&&(g.storeDomain=e("input#storeDomain").val());
y&&("Hybris"===e("#shopIntegrationFlag").val()||"Hybris-intg"===e("#shopIntegrationFlag").val()?g.storeDomain=e("input#newHyvStoreDomain").val():g.storeDomain=e("input#storeDomain").val());if(d=l.dispatch("#ce-trade-up-popup-section \x3e .vd-trade-in-popup.sdf-component")){g.$buyingToolPanel=e(".product-detail-kv .pd-buying-tool");g.$tuSvcPanel=g.$buyingToolPanel.find(".pd-select-option.trade-in");g.component=d;d.$ui.closePopupIcon=d.$ui.find(".sdf-comp-close-popup");g.productCategory=d.meta("productCategory");
g.i18nHint="b2c_"+d.meta("productCategory").toLowerCase();g.pageTrack=d.meta("pageTrack");g.config||(g.config=CeTradeUpPopup.config.init(g));n=Granite.I18n.getVar("Continue",g.i18nHint);E=Granite.I18n.getVar("Add Discount",g.i18nHint);t=Granite.I18n.getVar("Cancel",g.i18nHint);F=Granite.I18n.getVar("Back",g.i18nHint);g.tenantId=d.meta("tenantId");g.isNewHybris="true"===d.meta("isNewHybris");D=g.msaApiDomain+"/v1/exchange/api/"+g.tenantId+"/trade-in";B.getTncText(g,function(a){g.tncText=a});d=function(){q(function(d){if(d&&
0!==d.length){g.exProducts=d;d=g;for(var c=0,m=$jscomp.makeIterator(d.exProducts),k=m.next();!k.done;k=m.next())k=k.value,k.estimated_discount.total.amount>c&&(c=k.estimated_discount.total.amount);window.sg.components.dynamic.DetailAfterEvent.drawTradeInWithPopup({withCeTradeUpPopup:!0,flag:!0,maxDiscount:c,maxTradeInsAllowed:1,minOrderEntryValue:0,learnMoreOutlink:d.config.learnMoreOutLink});f(d,d.component);a(d);if(d.config.view.showLearnMoreStep.rearrangeFlag)for(c=1;3>=c;c++)d.config.view.showLearnMoreStep["step"+
c]||d.component.$ui.find(".sdf-comp-learnmore-step"+c).hide();b(d);h.init();console.log("[CE-TradeUp] Popup initialized: steps\x3d"+g.stepNames)}else console.log("[CE-TradeUp] Exchangeable products not found.")})};try{B.checkTradeUp(g,d)}catch(w){console.error("[CE-TradeUp] Injected function error: checkTradeUp")}}},openPopup:function(){var a=g.stepNames;g.currentStepIndex=1;g.lastStepIndex=a.length;a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())A[b.value].init(g);if(g.config.view.showLearnMoreStep.rearrangeFlag)for(a=
1;3>=a;a++)g.config.view.showLearnMoreStep["step"+a]||g.component.$ui.find(".sdf-comp-learnmore-step"+a).hide();d(g);h.reInit();window.sg.common.icon.redrawSvgs(g.component.$ui.get(0));h.showPopup();h.showStep("vd-trade-in-popup--step1")},closePopup:function(){for(var a=$jscomp.makeIterator(g.stepNames),b=a.next();!b.done;b=a.next())A[b.value].reset(g);h.closePopup()},showResetConfirmPopup:function(a){k(g,a)},util:{enableCta:function(a){a.removeClass("cta--disabled");a.removeAttr("disabled");a.attr("aria-disabled",
"false")},disableCta:function(a){a.addClass("cta--disabled");a.attr({disabled:"disabled","aria-disabled":"true"})},dynamicTagging:p}};v.context=g;v.stepContentHandler=A;window.CeTradeUpPopup=v})(jQuery,window.sg.components.VDTradeInPopup,window.sg.sdf.comp);
(function(e,h){var l=[],q={shop:{isCashbackSite:!1,useTncParameter:!1},view:{showDiscountAmount:{inYesCta:!0,inSummary:!0,inResultBanner:!0,inResultDescription:!0},useServiceDescription:!1,showLearnMoreStep:{step1:!0,step2:!0,step3:!0,rearrangeFlag:!1},usePostalCodeValidation:!1,useProductDescription:!0,showSummaryInProductStep:!0,useConditionDescription:!0,hideConditionYesDescription:!1,hideConditionNoDescription:!1,fixYesCondition:!1,numberOfYesConditions:5,numberOfNoConditions:3,rearrangeAmountByCondition:!1,
useDuplicationAlert:!0}},c={view:{}},f={au:{view:{usePostalCodeValidation:!0,learnMoreSeeFaqLink:"https://www.samsung.com/au/trade-up/"}},be:{regionConfig:c,view:{learnMoreSeeFaqLink:"https://www.samsung.com/be/inruil/#TV"}},be_fr:{regionConfig:c,view:{learnMoreSeeFaqLink:"https://www.samsung.com/be_fr/reprise/#tv"}},ca:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ca/trade-up/"}},ca_fr:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ca_fr/trade-up/"}},ch:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ch/offer/trade-up-bonus/"},
sb:{view:{numberOfYesConditions:1,numberOfNoConditions:1}}},ch_fr:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ch_fr/offer/trade-up-bonus/"},sb:{view:{numberOfYesConditions:1,numberOfNoConditions:1}}},cl:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/cl/offer/make-the-change/"}},co:{learnMoreOutLink:"https://www.samsung.com/co/info/tyc/",view:{showDiscountAmount:{inYesCta:!1,inSummary:!1,inResultBanner:!1},learnMoreSeeFaqLink:"https://www.samsung.com/co/trade-up/"},da:{learnMoreOutLink:null,
view:{showLearnMoreStep:{rearrangeFlag:!0}}},sb:{view:{showDiscountAmount:{inYesCta:!1},showLearnMoreStep:{step3:!1,rearrangeFlag:!0}}}},cz:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/cz/upgrade/"}},de:{view:{fixYesCondition:!0,learnMoreSeeFaqLink:"https://www.samsung.com/de/offer/tv-trade-up/"},vd:{view:{hideConditionYesDescription:!0,useServiceDescription:!0}},sb:{view:{hideConditionYesDescription:!0,useServiceDescription:!0,learnMoreSeeFaqLink:"https://images.samsung.com/is/content/samsung/assets/de/pdf/promotions/Aktionsbedingungen_Soundbar_Trade-Up.pdf"}}},
eg:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/eg/trade-up/"}},es:{view:{showSummaryInProductStep:!1,learnMoreSeeFaqLink:"https://www.samsung.com/es/services/samsung-renove/"}},fr:{view:{useConditionDescription:!1,learnMoreSeeFaqLink:"https://www.samsung.com/fr/offer/trade-up/"},sb:{view:{useConditionDescription:!1}}},gr:{view:{numberOfNoConditions:2,learnMoreSeeFaqLink:"https://www.samsung.com/gr/shop-faq/"}},hk:{view:{numberOfNoConditions:2,learnMoreSeeFaqLink:"https://www.samsung.com/hk/tvs/trade-up/"}},
hk_en:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/hk_en/tvs/trade-up/"}},hu:{view:{showDiscountAmount:{inYesCta:!1,inResultBanner:!1},learnMoreSeeFaqLink:"https://www.samsung.com/hu/shop-faq/"},vd:{view:{useServiceDescription:!0}}},ie:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ie/trade-up/#faqs"}},it:{shop:{useTncParameter:!0},view:{useProductDescription:!1,useDuplicationAlert:!1,useServiceDescription:!0},vd:{learnMoreOutLink:"https://www.samsung.com/it/offer/trade-up/#tv"},mon:{learnMoreOutLink:"https://www.samsung.com/it/offer/trade-up/#monitor"},
da:{learnMoreOutLink:"https://www.samsung.com/it/offer/trade-up/#elettrodomestici"},sb:{view:{showLearnMoreStep:{step1:!1,step2:!1,step3:!1,rearrangeFlag:!1}},useProductDescription:!1,learnMoreOutLink:"https://www.samsung.com/it/offer/trade-up/#soundbar"}},levant:{view:{useBrandDescendingOrder:!0,learnMoreSeeFaqLink:"https://www.samsung.com/levant/trade-up/"}},levant_ar:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/levant_ar/trade-up/"}},mx:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/mx/trade-up/"},
da:{view:{numberOfNoConditions:2}}},my:{view:{useConditionDescription:!0,hideConditionNoDescription:!0,learnMoreSeeFaqLink:"https://www.samsung.com/my/shop-faq/delivery-and-installations/What-is-samsung-tv-trade-in-program/"},vd:{view:{showDiscountAmount:{inYesCta:!1}}},mon:{view:{showDiscountAmount:{inYesCta:!1}}},sb:{view:{showDiscountAmount:{inResultDescription:!1}}}},n_africa:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/n_africa/offer/"}},nl:{regionConfig:c,view:{learnMoreSeeFaqLink:"https://www.samsung.com/nl/inruil/#TV"}},
nz:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/nz/trade-up/"}},pe:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/pe/ecocanje/home/"}},ph:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ph/offer/trade-up/"}},pt:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/pt/recicla/"}},ro:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/ro/trade-up/"}},sa:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/sa/offer/trade-up/"}},sa_en:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/sa_en/offer/trade-up/"}},
se:{vd:{view:{numberOfYesConditions:4}}},sg:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/sg/TVtrade-up/"}},sk:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/sk/upgrade/"}},th:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/th/ce-tradein/",numberOfNoConditions:1}},tw:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/tw/trade-in/"}},uk:{view:{learnMoreSeeFaqLink:"https://www.samsung.com/uk/trade-up/#faqs",rearrangeAmountByCondition:!0}}};h.config={init:function(a){var b=f[a.siteCode],
c=q;b&&(b[a.productCategory]&&(b=e.extend(!0,{},b,b[a.productCategory]),delete b[a.productCategory]),c=e.extend(!0,{},q,b.regionConfig||{},b));0<l.length&&(c.shop.isCashbackSite=0<=l.indexOf(a.siteCode));return h.config=c}}})(jQuery,window.CeTradeUpPopup);
(function(e,h,l,q){function c(a,b){var d=[],c={};a=$jscomp.makeIterator(a.exProducts);for(var n=a.next();!n.done;n=a.next()){n=n.value;var e=n.model||n.memory,f=k(e),h=c[f];h||(h={name:e,ordinal:n.model_rank||Number.MAX_SAFE_INTEGER,brandNames:[],brandMap:{}},c[f]=h,d.push(e));e=k(n.brand);f=h.brandMap[e];f||(f={name:n.brand,ordinal:n.brand_rank||Number.MAX_SAFE_INTEGER},h.brandMap[e]=f,h.brandNames.push(n.brand));f.product=n}a={};n=$jscomp.makeIterator(d);for(h=n.next();!h.done;a={$jscomp$loop$prop$model$14:a.$jscomp$loop$prop$model$14},
h=n.next())a.$jscomp$loop$prop$model$14=c[k(h.value)],a.$jscomp$loop$prop$model$14.brandNames.sort(function(a){return function(b,d){var c=a.$jscomp$loop$prop$model$14.brandMap[k(b)],e=a.$jscomp$loop$prop$model$14.brandMap[k(d)];return c.ordinal===e.ordinal?"Other"===b?1:"Other"===d?-1:b.localeCompare(d):c.ordinal-e.ordinal}}(a));d.sort(function(a,b){var d=c[k(a)],e=c[k(b)];return d.ordinal===e.ordinal?a.localeCompare(b):d.ordinal-e.ordinal});b.modelNames=d;b.modelMap=c}function f(b,c,k){var d=k.find(".sdf-comp-postal-code-input-panel"),
f=k.find("#postal-code"),p=k.find(".sdf-comp-postal-code-button").find("button.cta"),u=k.find(".menu"),l=function(){h.util.disableCta(b.component.$ui.productStepPanel.find(".sdf-comp-button-next"));var n=b.storeDomain+"/tokocommercewebservices/v2/"+b.shopSiteCode+"/servicesv2/validateZipCode",p={provider:"EXCHANGE",zipCode:f.val()};b.isDebug&&console.log("[CE-TradeUp] Call Shop API: "+n+"; params\x3d"+JSON.stringify(p));p=e.ajax({url:n,type:"GET",data:p,dataType:"json",cache:!1,timeout:3E4,xhrFields:{withCredentials:!0}});
p.done(function(e){b.isDebug&&(console.log("[CE-TradeUp] Shop API Response:"),console.dir(e));e&&"000"===e.status?(d.find("p.success").text(e.message),d.addClass("success"),u.removeClass("disabled"),a(b,c,k)):(d.find("p.error").text(e&&e.message||"Validation failure"),d.addClass("error"))});p.fail(function(){console.error("[CE-TradeUp] Shop API failure: "+n)})};p.addClass("cta--disabled");u.addClass("disabled");f.off("keyup").on("keyup",function(a){var b=e.trim(f.val());d.removeClass("success error");
u.hasClass("disabled")||u.addClass("disabled");"Enter"===a.key?0<b.length&&l():(0===b.length?p.addClass("cta--disabled"):p.removeClass("cta--disabled"),f.val(b))});p.off("click").on("click",l);window.sg.common.textFieldv2.reInit(d.get(0))}function a(a,c,f){var d=f.find(".sdf-comp-model-menu");window.sg.common.menu.reInit(d.get(0));d.children("select").off("change").on("change",function(d){var n=e(this).val();d=c.modelMap[n].name;c.selectedModelId=n;c.selectedModel=d;a.isDebug&&console.log("[CE-TradeUp] Selected model: "+
d);d=a.component.$ui.productStepPanel.find(".sdf-comp-button-next");h.util.disableCta(d);c.selectedBrand=null;c.selectedProduct=null;a.selectedProduct=null;a.discountAmount=0;d=f.find(".sdf-comp-brand-menu");var p=d.children("select").empty();n=$jscomp.makeIterator(c.modelMap[n].brandNames);for(var l=n.next();!l.done;l=n.next())l=l.value,b(p,l,k(l));p.attr("data-default-message",Granite.I18n.getVar("Select Brand",a.i18nHint));window.sg.common.menu.reInit(d.get(0));f.find(".sdf-comp-summary-panel").hide()});
f.find(".sdf-comp-brand-menu").children("select").off("change").on("change",function(b){b=e(this).val();var d=c.modelMap[c.selectedModelId].brandMap[b];b=d.product;c.selectedBrand=d.name;a.isDebug&&console.log("[CE-TradeUp] Selected brand: "+d.name);c.selectedProduct=b;a.isDebug&&console.log("[CE-TradeUp] Selected product: "+b.name);a.selectedProduct=b;a.discountAmount=b.estimated_discount.total.amount;d="";a.config.view.showDiscountAmount.inSummary&&(d=currencyComma(a.discountAmount,a.currencyCode));
var f=a.component.$ui.find(".sdf-comp-summary-panel");f.find(".sdf-comp-product-name").text(b.name);f.find(".sdf-comp-discount-amount").text(d);a.config.view.showSummaryInProductStep&&f.show();h.util.enableCta(a.component.$ui.productStepPanel.find(".sdf-comp-button-next"))})}function b(a,b,c){var d=e("\x3coption\x3e\x3c/option\x3e");d.attr("value",c);d.text(b);CeTradeUpPopup.util.dynamicTagging(d,"service","trade-up:select device:"+b);a.append(d)}function k(a){for(var b,d=0;d<a.length;d++)b=Math.imul(31,
b)+a.charCodeAt(d)|0;return b}var z={init:function(d){z.reset(d);var e=d._step.product={};d.stepTaggingTitle.product="select device";c(d,e);var h=d.component,l=h.$ui.productStepPanel.find(".sdf-comp-step-content").empty();h.invokeTemplate("productStep",{stepContext:{}},l.get(0));d.config.view.usePostalCodeValidation&&f(d,e,l);d.config.view.useProductDescription||l.find(".sdf-comp-product-step-description").hide();h=l.find(".sdf-comp-model-menu");for(var n=h.children("select"),q=$jscomp.makeIterator(e.modelNames),
t=q.next();!t.done;t=q.next())t=t.value,b(n,t,k(t));window.sg.common.menu.init(h.get(0));a(d,e,l)},reset:function(a){a.selectedProduct=null;a.discountAmount=0;a._step.product={};h.util.disableCta(a.component.$ui.productStepPanel.find(".sdf-comp-button-next"))}};h.registerStepContentHandler("product",z)})(jQuery,window.CeTradeUpPopup,window.sg.components.VDTradeInPopup,window.sg.sdf.comp);
(function(e,h,l,q){function c(a,b){if(b!==a.length)for(var c=a.length-1;c>=b;c--)a.get(c).remove()}var f={init:function(a){f.reset(a);var b=a._step.condition={};a.stepTaggingTitle.condition="check device condition";var k=a.component,l=k.$ui.conditionStepPanel,d=l.find(".sdf-comp-step-content").empty();k.invokeTemplate("conditionStep",{stepContext:{}},d.get(0));var q=a.config.view.useConditionDescription;q?a.config.view.fixYesCondition?(d.find(".sdf-comp-condition-cta-panel").hide(),a.config.view.hideConditionYesDescription&&
d.find("div[data-condition-id\x3dconditionCheckInfoYes]").hide(),a.isBroken=!1,b.initFlag=!0,h.util.enableCta(l.find(".sdf-comp-button-next"))):(d.find(".sdf-comp-condition-cta-panel").show(),b.$yesPanel=d.find("div[data-condition-id\x3dconditionCheckInfoYes]").show(),b.$noPanel=d.find("div[data-condition-id\x3dconditionCheckInfoNo]").hide(),c(b.$yesPanel.find("ul \x3e li"),a.config.view.numberOfYesConditions),c(b.$noPanel.find("ul \x3e li"),a.config.view.numberOfNoConditions)):d.find(".sdf-comp-condition-step-description").hide();
b.$nextCta=l.find(".sdf-comp-button-next");if(!a.config.view.fixYesCondition)d.find("input[name\x3dconditioncheck]").off("click").on("click",function(){var c=a.selectedProduct,d=0,f=0;if(a.config.view.rearrangeAmountByCondition&&c.discount_range){var k=c.estimated_discount.exchange_discount;k.min&&k.min.amount&&(d=k.min.amount);k.max&&k.max.amount&&(f=k.max.amount);k.amount&&(d=f=k.amount);d+=c.discount_range.min.amount;f+=c.discount_range.max.amount}$rdo=e(this);id=$rdo.attr("id");"conditionCheckInfoYes"===
id?(q&&(a.config.view.hideConditionYesDescription||b.$yesPanel.show(),b.$noPanel.hide()),CeTradeUpPopup.util.dynamicTagging($rdo,"cta","trade-up:check device condition:yes"),a.isBroken=!1,c=f):(q&&(b.$yesPanel.hide(),a.config.view.hideConditionNoDescription||b.$noPanel.show()),CeTradeUpPopup.util.dynamicTagging($rdo,"cta","trade-up:check device condition:no"),a.isBroken=!0,c=d);a.config.view.rearrangeAmountByCondition&&0!=c&&(d=a.component.$ui.find(".sdf-comp-summary-panel"),f="",a.config.view.showDiscountAmount.inSummary&&
(f=currencyComma(c,a.currencyCode)),d.find(".sdf-comp-discount-amount").text(f));b.initFlag||(b.initFlag=!0,h.util.enableCta(b.$nextCta))})},reset:function(a){var b=a.component.$ui.conditionStepPanel,c=b.find(".sdf-comp-button-next");a._step.condition={};b.find(".sdf-comp-step-content").find("input[name\x3dconditioncheck]").removeAttr("checked");h.util.disableCta(c)}};h.registerStepContentHandler("condition",f)})(jQuery,window.CeTradeUpPopup,window.sg.components.VDTradeInPopup,window.sg.sdf.comp);
(function(e,h,l,q){var c={init:function(f){c.reset(f);f._step.discount={};f.stepTaggingTitle.discount="apply discount";var a=f.component,b=a.$ui.discountStepPanel,k=b.find(".sdf-comp-step-content").empty();a.invokeTemplate("discountStep",{stepContext:{}},k.get(0));""===e.trim(f.tncText)?(k.find(".sdf-comp-tnc-panel").hide(),f.isTncAgree=!0,h.util.enableCta(b.find(".sdf-comp-button-next"))):(a=k.find(".sdf-comp-tnc-panel"),a.find(".sdf-comp-tnc-text").html(f.tncText),a.find("#chkTuTncAgree").off("click").on("click",
function(){e(this);this.checked?(f.isTncAgree=!0,h.util.enableCta(b.find(".sdf-comp-button-next"))):(f.isTncAgree=!1,h.util.disableCta(b.find(".sdf-comp-button-next")))}),a.show())},reset:function(c){var a=c.component.$ui.discountStepPanel,b=a.find(".sdf-comp-button-next");c._step.discount={};a.find(".sdf-comp-step-content").find("#chkTuTncAgree").removeAttr("checked");h.util.disableCta(b)}};h.registerStepContentHandler("discount",c)})(jQuery,window.CeTradeUpPopup,window.sg.components.VDTradeInPopup,
window.sg.sdf.comp);
(function(e,h){function l(c,f){var a=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/users/current";e.ajax({url:a,type:"GET",dataType:"json",timeout:2E4,xhrFields:{withCredentials:!0},async:!0,success:function(b,e,h){200==h.status?q(c,!0,f):console.warn("[CE-TradeUp] API failure: "+a)},error:function(b){401==b.status?q(c,!1,f):console.error("[CE-TradeUp] API failure: "+a)}})}function q(c,f,a){var b=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/users/"+(f?"current":"anonymous")+
"/carts";f=e.ajax({url:b,type:"POST",dataType:"json",timeout:2E4,xhrFields:{withCredentials:!0},async:!0});f.done(function(e){if(null!=e){c.isDebug&&(console.log("[CE-TradeUp] Cart status:"),console.dir(e));if(e.entries&&0<e.entries.length){e=$jscomp.makeIterator(e.entries);for(var f=e.next();!f.done;f=e.next())if(f=f.value,f.product&&f.product.code===c.modelCode&&f.selectedAddedServices){f=$jscomp.makeIterator(f.selectedAddedServices);for(var d=f.next();!d.done;d=f.next())if("TRADE_IN"===d.value.externalServiceType){console.warn("[CE-TradeUp] Duplicated: "+
c.modelCode);CeTradeUpPopup.closePopup();c.config.view.useDuplicationAlert&&window.confirmPopup(Granite.I18n.getVar("Duplication alert message",c.i18nHint));return}}}setTimeout(function(){a.call(null)},100)}else console.warn("[CE-TradeUp] API failure: "+b)});f.fail(function(a){console.error("[CE-TradeUp] API failure: "+b)})}h.prepareShopDependencyHandler({checkTradeUp:function(c,e){if(window.sg.components.dynamic.detailSharedObj.tradeInFlag){var a=window.sg.components.dynamic.detailSharedObj;if(a.shopApiModel&&
a.shopApiModel.newbirsObj&&a.shopApiModel.newbirsObj.apiData&&(c=a.shopApiModel.newbirsObj.apiData[c.originModelCode])&&(c=c.supportedAvailableServices)&&(0<=c.indexOf("TRADE_IN")||0<=c.indexOf("TRADE_UP"))){e();return}}console.log("[CE-TradeUp] Popup skipped.")},reportResult:function(c,e){l(c,function(){setTimeout(function(){e.call(null)},10)})},getTncText:function(c,f){var a="";checkEppSite()&&["be_fr","ca_fr","levant_ar","ch_fr","hk_en"].includes(window.siteCode)&&(a="\x26lang\x3d"+e("#shopParmLang").val());
if(c.config.shop.useTncParameter)switch(c.productCategory){case "vd":var b=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/tnc?context\x3dSERVICE\x26value\x3dtradeup_tc_vd"+a;break;case "da":b=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/tnc?context\x3dSERVICE\x26value\x3dtradeup_tc_da"+a;break;case "mon":b=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/tnc?context\x3dSERVICE\x26value\x3dtradeup_tc_monitor"+a;break;case "sb":b=c.storeDomain+"/tokocommercewebservices/v2/"+
c.shopSiteCode+"/tnc?context\x3dSERVICE\x26value\x3dtradeup_tc_soundbar"+a}else c.config.shop.useTncParameter||(b=c.storeDomain+"/tokocommercewebservices/v2/"+c.shopSiteCode+"/tnc?context\x3dSERVICE\x26value\x3dtradeup_tc"+a);e.ajax({url:b,type:"GET",dataType:"json",success:function(a){a&&0<a.length&&(a=a[0],a.content&&""!==a.content&&(c.isDebug&&console.log("[CE-TradeUp] T\x26C : "+a.content),f.call(null,a.content)))},error:function(){console.error("[CE-TradeUp] API failure: "+b)}})}})})(jQuery,
window.CeTradeUpPopup);