var tradeinData={};
(function(M,c){function U(){var a="true"===c("#isEppPage").val()?c("#eppCompanyCode").val():d;c.ajax({headers:C,url:E+"/v1/exchange/api/"+x+"/trade-in/sku-devices/"+a+"/"+z,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,success:function(b){if(null!=b){h={baseName:"",Samsung:[]};r={};var a=0;if(0<b.length)for(var e=0;e<b.length;e++)if(null!=b[e].brand){var g=b[e].brand;-1<g.toLowerCase().indexOf("samsung")?(g="Samsung",h.Samsung.push(b[e])):(null==h[g]&&(h[g]=[],
h.baseName=""===h.baseName?g:h.baseName+","+g),h[g].push(b[e]));if(("fr"===d||"de"===d)&&null!=b[e].category){null==r[b[e].category]&&(r[b[e].category]={});if(null==r[b[e].category].total||r[b[e].category].total<b[e].estimated_discount.total.amount)r[b[e].category].total=b[e].estimated_discount.total.amount;null==r[b[e].category][g]&&(r[b[e].category][g]="");null==h[g][b[e].category]&&(h[g][b[e].category]={})}if(null!=b[e].estimated_discount){g="fr"===d||"de"===d?h[g][b[e].category]:h[g];if(null==
g.exchange_discount||g.exchange_discount<b[e].estimated_discount.exchange_discount.amount)g.exchange_discount=b[e].estimated_discount.exchange_discount.amount;if(null==g.exchange_value||g.exchange_value<b[e].estimated_discount.exchange_value.amount)g.exchange_value=b[e].estimated_discount.exchange_value.amount;if(null==g.total||g.total<b[e].estimated_discount.total.amount)g.total=b[e].estimated_discount.total.amount;"pl"===d||"uk"===d||"fr"===d||"de"===d?a<b[e].estimated_discount.total.amount&&(a=
b[e].estimated_discount.total.amount):a<b[e].estimated_discount.exchange_value.amount&&(a=b[e].estimated_discount.exchange_value.amount)}}l=[];0<h.baseName.length&&(l=h.baseName.split(","));l.sort();0<h.Samsung.length&&(l.unshift("Samsung"),h.baseName=l.join());if("fr"===d||"de"===d){b="";e=Object.keys(r);for(g=0;g<e.length;g++){var f=e[g];"Mobile Phone"===f&&(f="smartphone");b="de"===d?b+'\x3cli class\x3d"trade-in-popup__device-type-item trade-in-popup__device-type-item--with-icon"\x3e':b+'\x3cli class\x3d"trade-in-popup__device-type-item"\x3e';
b+='\t\x3cinput type\x3d"radio" id\x3d"device-type-'+g+'" name\x3d"device-type" class\x3d"trade-in-popup__device-type-item-input hidden" tradeType\x3d"'+e[g]+'" an-tr\x3d"header(pim)_trade in-'+t+'-text-device" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+f.toLowerCase()+'" data-modelname\x3d"'+p+'" data-modelcode\x3d"'+q+'"\x3e';b+='\t\x3clabel for\x3d"device-type-'+g+'" class\x3d"trade-in-popup__device-type-item-label"\x3e';"de"===d&&(b+='\x3csvg class\x3d"icon" focusable\x3d"false"\x3e',
b="smartphone"===f?b+'\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#phone-light"\x3e\x3c/use\x3e':b+'\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#tablet-light"\x3e\x3c/use\x3e',b+="\x3c/svg\x3e");b+='\t\x3cspan class\x3d"trade-in-popup__device-type-item-label-text-wrap"\x3e';b+='\t\t\x3cspan class\x3d"trade-in-popup__device-type-item-label-name"\x3e'+
Granite.I18n.get(f)+"\x3c/span\x3e";b+='\t\t\x3cspan class\x3d"trade-in-popup__device-type-item-label-price"\x3e';b+="\t\t\t\x3cspan\x3e"+Granite.I18n.get("Up to")+"\x3c/span\x3e";b+="\t\t\t\x3cem\x3e-"+currencyComma(r[e[g]].total,k)+"\x3c/em\x3e";b+="\t\t\x3c/span\x3e";b+="\t\x3c/span\x3e";b+="\t\x3c/label\x3e";b+="\x3c/li\x3e"}c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-list").html(b)}else N();b={};b.maxDiscount=a;b.flag=0<l.length?!0:!1;window.sg.components.dynamic.DetailAfterEvent.drawTradeInWithPopup(b)}},
error:function(b){}})}function N(){var a="";if(0<h.baseName.length)for(var b=0;b<l.length;b++){var m="";if("fr"===d||"de"===d)if(m=c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-list .trade-in-popup__device-type-item-input:checked").attr("tradeType"),null==r[m][l[b]])continue;"id"===d?(a+='\x3cli class\x3d"trade-in-popup__dropdown--select-item" brandName\x3d"'+l[b]+'" an-tr\x3d"header(pim)_trade in-'+t+'-text-category" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+
l[b].toLowerCase()+'" data-modelname\x3d"'+p+'" data-modelcode\x3d"'+q+'"\x3e',a+='\t\x3ca href\x3d"javascript:void(0);" role\x3d"option"\x3e',a+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-name"\x3e'+l[b]+"\x3c/span\x3e",a+="\t\x3c/a\x3e"):(a+='\x3cli class\x3d"trade-in-popup__brand-item"\x3e',a+='\t\x3cinput type\x3d"radio" id\x3d"brand-'+b+'" name\x3d"brand" class\x3d"trade-in-popup__brand-item-input hidden" brandName\x3d"'+l[b]+'"an-tr\x3d"header(pim)_trade in-'+t+'-text-category" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+
l[b].toLowerCase()+'" data-modelname\x3d"'+p+'" data-modelcode\x3d"'+q+'"\x3e',a+='\t\x3clabel for\x3d"brand-'+b+'" class\x3d"trade-in-popup__brand-item-label"\x3e',a+='\t\t\x3cspan class\x3d"trade-in-popup__brand-item-name"\x3e'+l[b]+"\x3c/span\x3e",a+='\t\t\x3cspan class\x3d"trade-in-popup__brand-item-price"\x3e',a+="\t\t\x3cspan\x3e"+Granite.I18n.get("Up to")+"\x3c/span\x3e",a+="\t\t\t\x3cem\x3e-"+currencyComma("pl"===d||"uk"===d?h[l[b]].total:"fr"===d||"de"===d?h[l[b]][m].total:h[l[b]].exchange_value,
k)+"\x3c/em\x3e",a+="\t\t\x3c/span\x3e",a+="\t\x3c/label\x3e");a+="\x3c/li\x3e"}"id"===d?(c(".trade-in-popup .trade-in-popup__brand-dropdown-wrap .scrollbar__contents").html(a),window.sg.components.tradeInPopup.bindDropdownEvent(),c(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents li:not(:first-child)").remove(),window.sg.components.tradeInPopup.bindModelDropdownItemEvent()):c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list").html(a);"fr"!==d&&"de"!==
d||c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list-title").show()}function O(a){for(var b="",m=0;m<h[a].length;m++){if("fr"===d||"de"===d){var e=c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-list .trade-in-popup__device-type-item-input:checked").attr("tradeType");if(h[a][m].category!==e)continue}e=h[a][m].estimated_discount;var g=0,f=0;null!=e&&(g="de"===d||"uk"===d||"fr"===d?e.total.amount:e.exchange_value.amount,f=e.exchange_discount.amount);
"id"===d?(b+='\x3cli class\x3d"trade-in-popup__dropdown--select-item" modelIndex\x3d"'+m+'" an-tr\x3d"header(pim)_trade in-'+t+'-text-device model" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+a.toLowerCase()+":"+h[a][m].name.toLowerCase()+'" data-modelname\x3d"'+p+'" data-modelcode\x3d"'+q+'"\x3e',b+='\t\x3ca href\x3d"javascript:void(0);" role\x3d"option"\x3e',b+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-name"\x3e'+h[a][m].name+"\x3c/span\x3e",
b+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-price"\x3e'+Granite.I18n.get("Up to")+" "+currencyComma(g,k)+"\x3c/span\x3e",b+="\t\x3c/a\x3e"):(b+='\x3cli class\x3d"trade-in-popup__model-item"\x3e',b+='\t\x3cinput type\x3d"radio" id\x3d"model-'+m+'" name\x3d"model" class\x3d"trade-in-popup__model-item-input hidden" modelIndex\x3d"'+m+'" an-tr\x3d"header(pim)_trade in-'+t+'-text-device model" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+a.toLowerCase()+
":"+h[a][m].name.toLowerCase()+'" data-modelname\x3d"'+p+'" data-modelcode\x3d"'+q+'"\x3e',b+='\t\x3clabel for\x3d"model-'+m+'" class\x3d"trade-in-popup__model-item-label"\x3e',b+='\t\t\x3cspan class\x3d"trade-in-popup__model-item-name"\x3e'+h[a][m].name+"\x3c/span\x3e","pl"===d?(b+='\x3cspan class\x3d"trade-in-popup__model-item-price"\x3e',b+='\t\x3cdiv class\x3d"trade-in-popup__model-item-price-inner"\x3e',b+="\t\t\x3cem\x3e-"+currencyComma(g,k)+"\x3c/em\x3e",b+="\t\x3c/div\x3e",b+='\t\x3cdiv class\x3d"trade-in-popup__model-item-price-inner"\x3e',
b+="\t\t\x3cem\x3e-"+currencyComma(f,k)+"\x3c/em\x3e",b+="\t\x3c/div\x3e",b+="\x3c/span\x3e"):b="fr"===d?b+('\t\t\x3cspan class\x3d"trade-in-popup__model-item-price"\x3e\x3cem\x3e'+Granite.I18n.get("Up to")+" -"+currencyComma(g,k)+"\x3c/em\x3e\x3c/span\x3e"):A?b+('\t\t\x3cspan class\x3d"trade-in-popup__model-item-price"\x3e\x3cem\x3e-'+currencyComma(g,k)+"*\x3c/em\x3e\x3c/span\x3e"):b+('\t\t\x3cspan class\x3d"trade-in-popup__model-item-price"\x3e\x3cem\x3e-'+currencyComma(g,k)+"\x3c/em\x3e\x3c/span\x3e"),
b+="\t\x3c/label\x3e");b+="\x3c/li\x3e"}"id"===d?(c(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents li:not(:first-child)").remove(),c(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents").append(b),window.sg.components.tradeInPopup.bindModelDropdownItemEvent()):"pl"===d?c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list.trade-in-popup__model-list--sepol").html(b):c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list").html(b)}
function V(){var a="";isEPP&&(a="?store_id\x3d"+c("#eppCompanyCode").val());c.ajax({headers:C,url:E+"/v1/exchange/api/"+x+"/cacheable/trade-in/get-questionnaire"+a,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,success:function(b){if(null!=b){for(var a="",e=0;e<b.length;e++){var g=b[e];var f='\x3cli class\x3d"trade-in-popup__condition-list-item"\x3e'+('\t\x3cp class\x3d"trade-in-popup__condition-list-item-option"\x3e'+g.label+"\x3c/p\x3e");f+='\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-check-wrap"\x3e';
for(var h=0;h<g.answer.length;h++)f+='\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-check"\x3e',f+='\t\t\t\x3cinput type\x3d"radio" id\x3d"inpRadio'+e+h+'" name\x3d"inpRadioName'+e+'" class\x3d"trade-in-popup__condition-list-item-check-input hidden" conditionVal\x3d'+g.answer[h]+"\x3e",f+='\t\t\t\x3clabel for\x3d"inpRadio'+e+h+'" class\x3d"trade-in-popup__condition-list-item-check-label"\x3e'+g.answer[h]+"\x3c/label\x3e",f+="\t\t\x3c/div\x3e";f+="\t\x3c/div\x3e";"fr"===d&&null!=g.hint&&
""!==g.hint&&(f=f+'\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip"\x3e\t\x3cbutton type\x3d"button" class\x3d"trade-in-popup__condition-list-item-tooltip-btn"\x3e'+('\t\t\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("see what this means")+"\x3c/span\x3e"),f=f+'\t\x3c/button\x3e\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip-box"\x3e\t\x3cspan class\x3d"trade-in-popup__condition-list-item-tooltip-box-arrow"\x3e\x3c/span\x3e'+('\t\t\x3cp class\x3d"trade-in-popup__condition-list-item-tooltip-box-text"\x3e'+
g.hint+"\x3c/p\x3e"),f+="\t\x3c/div\x3e\x3c/div\x3e");P.push(g.code);a+=f+"\x3c/li\x3e"}c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list").html(a);window.sg.components.tradeInPopup.bindTooltipEvent()}},error:function(b){errLayerPop(b)}})}function Q(){var a=c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-wrap").length,b=c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-input:checked").length;
if(A){if(c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check:last-child .trade-in-popup__condition-list-item-check-input:checked").length===a){c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-error").addClass("trade-in-popup__condition-error--show");c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");return}c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-error").removeClass("trade-in-popup__condition-error--show")}else if("fr"===
d||"pl"===d){var m=c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");if(!D(m)){c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");return}}a===b?(c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")}
function R(){n=null;var a={store_id:d,device_info:{},device_id:f.id,type:"TradeIn",sku:z};c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-product-wrap .trade-in-popup__summary-product-brand").html("");c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-product-wrap .trade-in-popup__summary-product-model").html("");c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-product-wrap .trade-in-popup__summary-product-number").html("");c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html("");
if("id"===d)a={offer_id:B[0].offer_id,sku:z,postal_code:u};else if("pl"===d||"de"===d)a={device_info:{id:f.id},offer_id:B[0].offer_id,sku:z},null!=f.memory&&(a.device_info.memory=f.memory);if(!G&&!A)if("Y"===H){null==a.device_info&&(a.device_info={});if(null!=f.category&&"Mobile Phone"===f.category||"fr"===d&&"Tablet"===f.category)a.device_info.imei=c("#imei-input").val();"de"===d&&(a.category=f.category,a.device_info.imei="Tablet"===f.category&&null!=f.tradein_device_id&&""!==f.tradein_device_id?
f.tradein_device_id:c("#imei-input").val())}else null==a.device_info&&(a.device_info={}),a.device_info.imei=c("#imei-input").val();"Y"===S&&(null==a.device_info&&(a.device_info={}),a.device_info.state={},c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-input:checked").each(function(b){var d=c(this).attr("conditionVal");"false"==d?d=!1:"true"==d&&(d=!0);a.device_info.state[P[b]]=d}));"fr"===d&&(a.offer_id=f.offer_id,a.line_item_price={},a.line_item_price.amount=
I,a.line_item_price.currency=k.toUpperCase(),a.purchase_type="PURCHASE",null!=F&&""!==F&&(a.purchase_type=F));"true"===c("#isEppPage").val()&&(a.store_id=c("#eppCompanyCode").val());c.ajax({headers:C,url:E+"/v1/exchange/api/"+x+"/trade-in/create-exchange",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,data:JSON.stringify(a),success:function(b){if(null!=b){b.delayed_gratification=b.delayed_gratification_exchange_value;n=b;var a=b.estimated_discount;c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-product-wrap .trade-in-popup__summary-product-brand").html(b.device_info.brand);
c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-product-wrap .trade-in-popup__summary-product-model").html(b.device_info.name);var e='\x3cspan class\x3d"trade-in-popup__summary-price-title"\x3e'+Granite.I18n.get("Trade-in discount")+"\x3c/span\x3e";if(null!=a&&""!==a){if("de"===d||"fr"===d){var g=currencyComma(a.total.amount,k);e+='\x3cem class\x3d"trade-in-popup__summary-price"\x3e-'+g+" *\x3c/em\x3e"}else g="uk"===d||"id"===d?currencyComma(a.total.amount,k):currencyComma(a.exchange_value.amount,
k),e+='\x3cem class\x3d"trade-in-popup__summary-price"\x3e-'+g+"\x3c/em\x3e";if("pl"===d)e=e+'\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+('\x3ca href\x3d"https://www.samsung.com/pl/promocje/smartfony/odkup/" class\x3d"s-btn-text s-no-ico s-blue" target\x3d"_blank" title\x3d"'+Granite.I18n.get("Regular exchange discount")+'"\x3e'+Granite.I18n.get("Nast\u0119pne kroki")+"\x3c/a\x3e"),e=e+'\x3c/span\x3e\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+Granite.I18n.get("Additional discount"),
e=e+'\x3c/span\x3e\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+(" -"+currencyComma(a.exchange_discount.amount,cfCurrency)),e+="\x3c/span\x3e";else if("id"===d)e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e-'+currencyComma(a.exchange_value.amount,k)+" ("+Granite.I18n.get("Regular exchange discount")+")\x3c/span\x3e",0!==a.exchange_discount.amount&&(e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e-'+currencyComma(a.exchange_discount.amount,k)+" ("+Granite.I18n.get("Additional exchange discount")+
")\x3c/span\x3e");else if(!G&&"uk"!==d)if(!1===b.delayed_gratification){if("de"!==d||0===a.exchange_discount.amount||!0!==B[0].open_promo_tax)e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e('+Granite.I18n.get("Upfront discount")+")\x3c/span\x3e"}else A||(e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e('+Granite.I18n.get("Cashback")+")\x3c/span\x3e")}"de"===d&&0!==a.exchange_discount.amount&&!0===B[0].open_promo_tax?(e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+
Granite.I18n.get("Inkl. {0} Tauschpr\u00e4mie",currencyComma(a.exchange_discount.amount,k),d),e+=Granite.I18n.get("Direktabzug im Warenkorb")+"\x3c/span\x3e"):"fr"===d&&0!==a.exchange_discount.amount&&(e+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+Granite.I18n.get("* Includes {0} contribution value",currencyComma(a.exchange_discount.amount,k),d)+"\x3c/span\x3e");c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap").html(e);c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("error").addClass("success");
b=c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");D(b)?(c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")}else v?(b=Granite.I18n.get("Invalid IMEI"),c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error"),
c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .text-field-v2__text.error").text(b)):confirmPopup(Granite.I18n.get("Invalid IMEI")),c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},error:function(b){if(v){var a="";null!=b.responseJSON&&(b=b.responseJSON,null!=b.error&&"InvalidIMEI"===b.error&&(b.message=Granite.I18n.get("Invalid IMEI")),null!=b.message&&""!==b.message&&(a=b.message));""===a&&(a=Granite.I18n.get("We're sorry, an error occurred."));
c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error");c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .text-field-v2__text.error").text(a)}else errLayerPop(b);c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},complete:function(b){c("#imei-input").removeClass("apiCall")}})}function J(a){var b="";a=w[a];if("model"===a)b=".trade-in-popup__model-wrap",O(c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input:checked").attr("brandName")),
c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");else if("imei"===a)if(b=".trade-in-popup__imei-wrap","Y"===H&&null!=f.category&&(v="Mobile Phone"===f.category||"de"===d&&"Tablet"===f.category&&(null==f.tradein_device_id||""===f.tradein_device_id)||"fr"===d&&"Tablet"===f.category?!0:!1),c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms-checkbox-input").prop("checked",!1),v)"id"!==d&&"fr"!==d&&(c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-product-brand").html(f.brand),
c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-product-model").html(f.name),a=f.estimated_discount.exchange_value.amount,A?c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html("-"+currencyComma(a,k)+"*"):"de"===d||"uk"===d?(a=f.estimated_discount.total.amount,c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html("-"+currencyComma(a,k)),"de"===
d&&!0===B[0].open_promo_tax&&0!==f.estimated_discount.exchange_discount.amount&&c(".trade-in-popup__imei-wrap .s-ly-step__imei .s-promotion-price").html(Granite.I18n.get("Inkl. {0} Tauschpr\u00e4mie",currencyComma(f.estimated_discount.exchange_discount.amount,k)))):c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html("-"+currencyComma(a,k))),c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("error").removeClass("success").removeClass("active"),
c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),c("#imei-input").val(""),n=null,"fr"===d?"Mobile Phone"===f.category?(c(".trade-in-popup .trade-in-popup__imei-wrap.shop-layer-title").html(Granite.I18n.get("Enter IMEI number of your old device")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-input .s-ly-tradein__code-title").html(Granite.I18n.get("Enter your IMEI")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-input .shop-input__label").html(Granite.I18n.get("IMEI number (15 digits)")),
c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-method .s-ly-tradein__code-method-list .s-method-txt:last").html(Granite.I18n.get("Go to Settings \x3e General \x3e About to display IMEI.")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code .s-ly-tradein__code-input-inner button").hide()):(c(".trade-in-popup .trade-in-popup__imei-wrap.shop-layer-title").html(Granite.I18n.get("Enter IMEI number or serial number of your old device")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-input .s-ly-tradein__code-title").html(Granite.I18n.get("Enter your IMEI or serial number")),
c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-input .shop-input__label").html(Granite.I18n.get("IMEI number (15 digits) or serial number")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code-method .s-ly-tradein__code-method-list .s-method-txt:last").html(Granite.I18n.get("Go to Settings \x3e General \x3e About to display IMEI or serial number.")),c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code .s-ly-tradein__code-input-inner button").show()):c(".trade-in-popup .trade-in-popup__imei-wrap.s-ly-tradein__code .s-ly-tradein__code-input-inner button").hide();
else return J(w.indexOf(a)+1),!1;else if("condition"===a)if(b=".trade-in-popup__condition-wrap",0<c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check").length)c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-error").removeClass("trade-in-popup__condition-error"),c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-input").prop("checked",!1),c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),
c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms-checkbox-input").prop("checked",!1);else return J(w.indexOf(a)+1),!1;else"apply"===a&&(v||getNewCartId(R),b=".trade-in-popup__apply-wrap","fr"===d&&(a=(.78*Number(I)).toFixed(2),a<n.estimated_discount.total.amount?c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-message-wrap .trade-in-popup__summary-message--error").html(Granite.I18n.get("This product cannot be discounted more than {0}",currencyComma(a,
k),d)):c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-message-wrap .trade-in-popup__summary-message--error").html("")),c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms-checkbox-input").prop("checked",!1),a=c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']"),D(a)?(c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").attr("aria-disabled",
!1)):c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").addClass("cta--disabled"));window.sg.components.tradeInPopup.showStep(b);y++;K()}function L(a){var b="";a=w[a];if("zipcode"===a)b=".trade-in-popup__zipcode-wrap";else if("brand"===a)b=".trade-in-popup__brand-wrap";else if("model"===a)b=".trade-in-popup__model-wrap";else if("imei"===a){if(b=".trade-in-popup__imei-wrap","Y"===H&&null!=f.category&&(v="Mobile Phone"===f.category||"de"===d&&"Tablet"===f.category&&(null==f.tradein_device_id||
""===f.tradein_device_id)||"fr"===d&&"Tablet"===f.category?!0:!1),!v)return L(w.indexOf(a)-1),!1}else if("condition"===a&&(b=".trade-in-popup__condition-wrap",1>c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check").length))return L(w.indexOf(a)-1),!1;window.sg.components.tradeInPopup.showStep(b);y--;K()}function D(a){var b=!0;0<a.length&&a.each(function(){var a=c(this);a.prop("required")&&(b=b&&a.is(":checked"))});return b}function W(){var a=c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__imei-form-wrap");
null!=u&&""!==u&&(T=5<u.length||5>u.length?!1:!0);if(T){var b={sku:z,postal_code:u};"true"===c("#isEppPage").val()&&(b.store_id=c("#eppCompanyCode").val());b=JSON.stringify(b);var d="",e="POST";"Y"===X&&(e="GET",b="",d="/"+z+"?postal_code\x3d"+u,"true"===c("#isEppPage").val()&&(d+="\x26store_id\x3d"+c("#eppCompanyCode").val()));c.ajax({headers:C,url:E+"/v1/exchange/offers"+d,type:e,dataType:"json",data:b,xhrFields:{withCredentials:!0},async:!0,success:function(b){null!=b&&""!==b&&0<b.length?(B=b,
a.find(".text-field-v2.no-title").removeClass("error").addClass("success"),c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):(a.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),a.find(".text-field-v2__text.error").html(Granite.I18n.get("Trade-in is not available at your zipcode.")))},
error:function(b){a.find(".text-field-v2.no-title").removeClass("success").addClass("error");var c=Granite.I18n.get("We're sorry, an error occurred.");null!=b.responseJSON&&(b=b.responseJSON,null!=b.message&&""!==b.message&&(c=b.message));a.find(".text-field-v2__text.error").html(c)}})}else a.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),a.find(".text-field-v2__text.error").html(Granite.I18n.get("Please enter your Zipcode"))}
function Y(a){a={context:"SERVICE",value:a};c("#shopParmLang").val()&&(a.lang=c("#shopParmLang").val());c.ajax({url:Z+"/tokocommercewebservices/v2/"+aa+"/tnc",type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,data:a,success:function(b){if(null!=b&&0<b.length){for(var a="",e=!1,f=0,h=0;h<b.length;h++){var k=b[h];if(k.read_only)a+='\t\x3cdiv class\x3d"trade-in-popup__confirm-terms-desc"\x3e'+k.content+"\x3c/div\x3e";else{var l=b[h].code,n=k.required?"required":"",p=k.required?
"is-required":"";""!==n&&(e=!0);a+='\x3cdiv class\x3d"trade-in-popup__confirm-terms-checkbox-wrap '+p+'"\x3e';a+='\t\x3cdiv class\x3d"checkbox-v2"\x3e';a+='\t\x3cinput type\x3d"checkbox" name\x3d"checkbox" class\x3d"hidden" id\x3d"'+l+f+'" data-id\x3d"'+l+'" name\x3d"'+l+f+'" '+n+"\x3e";a+='\t\t\x3clabel class\x3d"checkbox-v2__label" for\x3d"'+l+f+'"\x3e';a+='\t\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e';a+='\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e';a+='\t\t\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false"\x3e';
a+='\t\t\t\t\t\t\x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e';a+="\t\t\t\t\t\x3c/svg\x3e";a+="\t\t\t\t\x3c/span\x3e";a+="\t\t\t\x3c/span\x3e";a+='\t\t\t\x3cspan class\x3d"checkbox-v2__label-text"\x3e'+k.content+"\x3c/span\x3e";a+="\t\t\x3c/label\x3e";a+="\t\x3c/div\x3e";a+="\x3c/div\x3e";f++}}e&&(a+='\x3cp class\x3d"trade-in-popup__confirm-terms-required-field"\x3e'+Granite.I18n.get("* Required field")+"\x3c/p\x3e");"uk"===d&&(a+='\x3cspan class\x3d"checkbox-v2__label-text"\x3e'+
Granite.I18n.get('We will use your personal data in accordance with our \x3ca href\x3d"/uk/info/privacy/" target\x3d"_blank"\x3ePrivacy policy\x3c/a\x3e')+"\x3c/span\x3e");null!=b[0].display_context&&"trade_in_imei"===b[0].display_context[0]?c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").html(a):null!=b[0].display_context&&"trade_in_condition"===b[0].display_context[0]?c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms").html(a):(b="",
0<a.length&&(b+='\x3cstrong class\x3d"trade-in-popup__confirm-terms-title"\x3e'+Granite.I18n.get("Confirm Terms and Conditions")+"\x3c/strong\x3e",b+=a),c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").html(b));"de"===d&&(""===c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").html().trim()&&c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").hide(),""===c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms").html().trim()&&
c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms").hide(),""===c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").html().trim()&&c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").hide())}},error:function(a){}})}function K(){c(".trade-in-popup .trade-in-popup__close").filter(":visible").attr("an-tr","header(pim)_trade in-"+t+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la",
"trade in:step"+y+":close").attr("data-modelname",p).attr("data-modelcode",q);c(".trade-in-popup .trade-in-popup__btn-close").filter(":visible").attr("an-tr","header(pim)_trade in-"+t+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:step"+y+":close").attr("data-modelname",p).attr("data-modelcode",q);c(".trade-in-popup .trade-in-popup__btn-back").filter(":visible").attr("an-tr","header(pim)_trade in-"+t+"-cta-button").attr("an-ca","option click").attr("an-ac",
"pd buying tool").attr("an-la","trade in:step"+y+":back").attr("data-modelname",p).attr("data-modelcode",q);c(".trade-in-popup .trade-in-popup__btn-continue").filter(":visible").attr("an-tr","header(pim)_trade in-"+t+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:step"+y+":continue").attr("data-modelname",p).attr("data-modelcode",q);c(".trade-in-popup .trade-in-popup__btn-apply").filter(":visible").attr("an-tr","header(pim)_trade in-"+t+"-cta-button").attr("an-ca",
"option click").attr("an-ac","pd buying tool").attr("an-la","trade in:step"+y+":apply trade-in").attr("data-modelname",p).attr("data-modelcode",q)}var d=c("#siteCode").val(),E=c("#gpvStoreDomain").val(),Z=c("#storeDomain").val(),w=[];c("#companyCode").val();var k=c("#priceCurrency").val(),X=c("#gpvGetTypeCheck").val(),T=!1,h={},B=[],z="",u="",f=null,r={},F="",l=[],v=!0,t=digitalData.page.pageInfo.pageTrack.toLowerCase(),S=c("#cfTradeInConditionCheckYn").val(),H=c("#cfTradeInCategoryUseYn").val(),
P=[],I=0,p="",q="",x="gbr",G=!1;if("lt"===d||"lv"===d||"ee"===d)G=!0,v=!1;var aa="true"===c("#isEppPage").val()?c("#eppCompanyCode").val():d,A=!1;if("nl"===d||"be"===d||"be_fr"===d)A=!0,v=!1;"uk"==d?x="gbr":"be"==d||"be_fr"==d?x="bel":"nl"==d?x="nld":"de"==d?x="deu":"fr"==d&&(x="fra");M=c("#multiLanguageYn").val();var ba=c("#hreflang").val(),C={"Cache-Control":"no-cache","Content-Type":"application/json","Access-Control-Allow-Origin":"*"};"Y"===M&&(C["x-ecom-locale"]=ba);var y=1,n=null;c(document).on("click",
".trade-in-popup .trade-in-popup__brand-dropdown-wrap .trade-in-popup__dropdown--select-item",function(){O(c(this).attr("brandname"))});c(document).on("click",".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-item-input",function(a){N();c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")});c(document).on("click",".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input",function(a){c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");
c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)});c(document).on("click",".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list .trade-in-popup__model-item-input",function(a){c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)});c(document).on("click",".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-input",
function(){Q()});c(document).on("click",".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms input[type\x3dcheckbox]",function(){Q()});c(document).on("keyup","#imei-input",function(a){if(!c("#imei-input").hasClass("apiCall")&&("fr"!==d||"fr"===d&&"Tablet"!==f.category||"fr"===d&&"Tablet"===f.category&&13===a.keyCode)){c("#imei-input").addClass("apiCall");a="";var b=c("#imei-input").val();if(""===b)a=Granite.I18n.get("IMEI is required.");else if("fr"!==d||"fr"===d&&"Mobile Phone"===
f.category)/^[0-9]*$/.test(b)||"id"===d?15!==b.length&&(a=Granite.I18n.get("IMEI must be 15 characters.")):a=Granite.I18n.get("Invalid IMEI");""!==a?(c("#imei-input").removeClass("apiCall"),c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error"),c(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .text-field-v2__text.error").text(a),c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")):
getNewCartId(R)}});c(document).on("click",".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms input[type\x3dcheckbox]",function(){var a=c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");a=D(a);null!=n&&a?(c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):
c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")});c(document).on("click",".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms input[type\x3dcheckbox]",function(){var a=c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");a=D(a);null!=n&&a?(c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").removeClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").attr("aria-disabled",
!1)):c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").addClass("cta--disabled")});c(document).on("click",".trade-in-popup .trade-in-popup__btn-continue:not(.cta--disabled)",function(a){a.preventDefault();var b=c(this).attr("stepName");a=w.indexOf(b)+1;if("model"===b&&"id"!==d){b=c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input:checked").attr("brandName");var m=c(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-item-input:checked").attr("modelIndex");
f=h[b][m]}J(a)});c(document).on("click",".trade-in-popup .trade-in-popup__btn-back",function(a){a.preventDefault();a=c(this).attr("stepName");a=w.indexOf(a)-1;L(a)});c(document).on("input","#zipcode-input",function(a){c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");a=c(this);a.val(a.val().replace(/[^0-9]/g,""))});c(document).on("keyup","#zipcode-input",function(a){u=c("#zipcode-input").val();13!==a.which&&5!==u.length||W()});c(document).on("keypress",
"#zipcode-input",function(a){var b=c(this);c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");b.val(b.val().replace(/[^\d].+/,""));(48>a.which||57<a.which)&&a.preventDefault()});c(function(){if("uk"===d||"fr"===d||"be"===d||"be_fr"===d||"nl"===d||"de"===d||"pl"===d){c(".trade-in-popup .trade-in-popup__terms").html("");var a="fr"===d?["trade_in_condition","trade_in_imei","trade_in_confirm"]:"uk"===d?["tradein_tc"]:["tradein_tc_pdp"];for(var b=
0;b<a.length;b++)Y(a[b])}w="id"===d?["zipcode","imei","apply"]:"lv"===d||"lt"===d||"ee"===d||"be"===d||"be_fr"===d||"nl"===d?["brand","model","condition","apply"]:"fr"===d?["brand","model","condition","imei","apply"]:["brand","model","imei","condition","apply"]});c(document).on("click",".trade-in-popup .trade-in-popup__btn-apply.cta--contained",function(){var a={};a.tradeinId=n.id;a.tradeinDiscountYn=n.delayed_gratification;a.displayBrandName=n.device_info.brand;a.displayModelName=n.device_info.name;
a.discount={};a.discount.gratification=n.delayed_gratification_exchange_discount;a.discount.price=n.estimated_discount.exchange_discount.amount;a.discount.total=n.estimated_discount.total.amount;a.value={};a.value.gratification=n.delayed_gratification_exchange_value;a.value.price=n.estimated_discount.exchange_value.amount;a.promotion="";a.questionAndAnswer=[];a.tradeInAdditionalInfo="";if("uk"===d||"fr"===d||"be"===d||"be_fr"===d||"nl"===d||"de"===d){a.consents=[];var b=c(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");
0<b.length&&b.each(function(){var b=c(this);b.is(":checked")&&a.consents.push(b.attr("data-id"))});b=c(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");0<b.length&&b.each(function(){var b=c(this);b.is(":checked")&&a.consents.push(b.attr("data-id"))});b=c(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");0<b.length&&b.each(function(){var b=c(this);b.is(":checked")&&a.consents.push(b.attr("data-id"))})}a.tradeInType=
"";a.imeiKey="";window.sg.components.dynamic.DetailAfterEvent.offerAndAddonsDiscount(a,"tradein");window.sg.components.tradeInPopup.closePopup()});tradeinData={setTradein:function(a,b){p=digitalData.product.model_code;q=digitalData.product.model_name;null!=p&&(p=p.toLocaleLowerCase());null!=q&&(q=q.toLocaleLowerCase());z=c("#shopSKU").val();I=a;F=b;"fr"!==d&&"de"!==d||c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list-title").hide();c(".trade-in-popup__brand-wrap .trade-in-popup__sub-title").html("");
c(".trade-in-popup__model-wrap .trade-in-popup__sub-title").html("");U();"Y"===S&&V()},showPopup:function(){"id"===d?(c("#zipcode-input").val(""),c(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),c(".trade-in-popup .trade-in-popup__zipcode-wrap .text-field-v2.no-title").removeClass("success").removeClass("error").removeClass("active")):(c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-item .trade-in-popup__device-type-item-input").prop("checked",
!1),c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list .trade-in-popup__brand-item-input").prop("checked",!1),c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),"fr"!==d&&"de"!==d||c(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list").html(""));window.sg.components.tradeInPopup.init();window.sg.components.tradeInPopup.showPopup();"id"===d?window.sg.components.tradeInPopup.showStep(".trade-in-popup__zipcode-wrap"):
window.sg.components.tradeInPopup.showStep(".trade-in-popup__brand-wrap");y=1;K()}}})(window,$);